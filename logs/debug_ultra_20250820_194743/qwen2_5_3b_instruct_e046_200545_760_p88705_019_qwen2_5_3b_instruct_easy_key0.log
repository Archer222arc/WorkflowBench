===== 分片 qwen2.5-3b-instruct_easy_key0 =====
时间: 2025-08-20T20:05:45.764040
模型: qwen2.5-3b-instruct
实例: qwen-key0
命令: python -u smart_batch_runner.py --model qwen2.5-3b-instruct --deployment qwen-key0 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[20:05:48.115] 2025-08-20 20:05:48,115 - faiss.loader - INFO - Loading faiss.
[20:05:48.141] 2025-08-20 20:05:48,141 - faiss.loader - INFO - Successfully loaded faiss.
[20:05:49.593] [INFO] 使用Parquet存储格式
[20:05:49.959] [INFO] 使用Parquet存储格式
[20:05:49.962] [INFO] 使用PARQUET存储格式
[20:05:49.962] 
[20:05:49.962] ============================================================
[20:05:49.962] 智能批测试: qwen2.5-3b-instruct (idealab)
[20:05:49.962] Prompt types: ['optimal']
[20:05:49.962] 难度: easy
[20:05:49.962] 目标: 每种配置 2 个实例
[20:05:49.962] ============================================================
[20:05:50.024] ○ simple_task         :   0/  2 已完成 (需要补充 2 个)
[20:05:50.032] ○ basic_task          :   0/  2 已完成 (需要补充 2 个)
[20:05:50.040] ○ data_pipeline       :   0/  2 已完成 (需要补充 2 个)
[20:05:50.052] ○ api_integration     :   0/  2 已完成 (需要补充 2 个)
[20:05:50.063] ○ multi_stage_pipeline:   0/  2 已完成 (需要补充 2 个)
[20:05:50.063] 
[20:05:50.063] ⏳ 需要运行 10 个新测试
[20:05:50.063] 
[20:05:50.063] ▶ 准备 simple_task (2 个实例)...
[20:05:50.063] 
[20:05:50.063] ▶ 准备 basic_task (2 个实例)...
[20:05:50.063] 
[20:05:50.063] ▶ 准备 data_pipeline (2 个实例)...
[20:05:50.063] 
[20:05:50.063] ▶ 准备 api_integration (2 个实例)...
[20:05:50.063] 
[20:05:50.063] ▶ 准备 multi_stage_pipeline (2 个实例)...
[20:05:50.063] 
[20:05:50.063] ▶ 开始执行 10 个测试...
[20:05:50.063] 📦 批量提交模式：每20个测试保存一次
[20:05:50.063] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[20:05:50.069] 2025-08-20 20:05:50,069 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[20:05:50.133] 2025-08-20 20:05:50,133 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[20:05:50.133] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x16ffd83b0>
[20:05:50.133] 2025-08-20 20:05:50,133 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[20:05:50.133] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[20:05:50.133] 2025-08-20 20:05:50,133 - batch_test_runner - INFO - ============================================================
[20:05:50.133] 2025-08-20 20:05:50,133 - batch_test_runner - INFO - Batch test runner initialized
[20:05:50.133] 2025-08-20 20:05:50,133 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[20:05:50.134] 2025-08-20 20:05:50,133 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_200550.log
[20:05:50.134] 2025-08-20 20:05:50,134 - batch_test_runner - INFO - ============================================================
[20:05:50.134] 2025-08-20 20:05:50,134 - batch_test_runner - INFO - Running 10 tests with 3 workers, QPS limit: 5.0
[20:05:50.134] 2025-08-20 20:05:50,134 - batch_test_runner - INFO - Initializing test components...
[20:05:50.438] 2025-08-20 20:05:50,438 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[20:05:50.438] 2025-08-20 20:05:50,438 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[20:05:50.438] 2025-08-20 20:05:50,438 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[20:05:50.438] [DEBUG] Creating new ToolCapabilityManager instance
[20:05:50.438] [OperationEmbeddingIndex] Initializing with unified API client manager
[20:05:50.438] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[20:05:50.439] 2025-08-20 20:05:50,439 - api_client_manager - INFO - Loaded configuration from config/config.json
[20:05:50.444] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[20:05:50.444] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[20:05:50.444] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[20:05:51.328] 2025-08-20 20:05:51,327 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[20:05:51.330] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[20:05:51.399] [INFO] Loaded 4150 embeddings from persistent cache
[20:05:51.399] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[20:05:51.403] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[20:05:51.403] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[20:05:51.403] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[20:05:51.409] [INFO] Successfully loaded FAISS index with dimension 3072
[20:05:51.409] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[20:05:51.409] [INFO] Loaded 15 operations with dimension 3072
[20:05:51.409] [INFO] Successfully loaded cached index
[20:05:51.410] [INFO] Operation semantic index initialized
[20:05:51.410] [INFO] Using device: cpu
[20:05:51.410] [INFO] Initialized tool success tracking attributes
[20:05:51.410] [INFO] Initializing embedding manager for enhanced tool selection
[20:05:51.411] [MCPEmbeddingManager] Creating new singleton instance
[20:05:51.411] [MCPEmbeddingManager] Initializing with unified API client manager
[20:05:51.418] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[20:05:51.418] [MCPEmbeddingManager] Client initialized successfully
[20:05:51.419] 2025-08-20 20:05:51,418 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[20:05:51.502] 2025-08-20 20:05:51,502 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[20:05:51.723] 2025-08-20 20:05:51,723 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[20:05:51.723] 2025-08-20 20:05:51,723 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[20:05:51.745] 2025-08-20 20:05:51,745 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[20:05:51.814] 2025-08-20 20:05:51,814 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[20:05:52.161] 2025-08-20 20:05:52,161 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[20:05:52.161] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[20:05:52.161] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[20:05:52.162] 2025-08-20 20:05:52,161 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[20:05:52.504] 2025-08-20 20:05:52,504 - mcp_embedding_manager - INFO - FAISS index loaded
[20:05:52.504] 2025-08-20 20:05:52,504 - mcp_embedding_manager - INFO - Updated dimension to 3072
[20:05:52.504] 2025-08-20 20:05:52,504 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[20:05:52.506] [SUCCESS] Loaded 30 tool embeddings
[20:05:52.506] 2025-08-20 20:05:52,506 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[20:05:52.506] [SUCCESS] Embedding manager initialized with 30 tools
[20:05:52.506] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[20:05:52.506] [INFO] Loading full MCP protocol registry...
[20:05:52.508] 2025-08-20 20:05:52,508 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[20:05:52.508] [INFO] Loaded full tool registry with 30 tools
[20:05:52.508] 2025-08-20 20:05:52,508 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[20:05:52.508] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[20:05:52.508] [INFO] Embedding manager ready with 30 tools
[20:05:52.508] [WARNING] Embedding manager exists but has no embeddings
[20:05:52.508] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[20:05:52.510] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[20:05:52.510] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[20:05:52.510] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[20:05:52.510] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[20:05:52.510] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[20:05:52.510] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[20:05:52.510] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[20:05:52.510] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[20:05:52.510] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[20:05:52.510] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[20:05:52.510] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[20:05:52.510] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[20:05:52.510] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[20:05:52.510] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[20:05:52.510] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[20:05:52.510] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[20:05:52.510] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[20:05:52.510] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[20:05:52.510] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[20:05:52.510] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[20:05:52.510] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[20:05:52.510] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[20:05:52.510] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[20:05:52.510] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[20:05:52.510] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[20:05:52.510] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[20:05:52.510] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[20:05:52.510] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[20:05:52.511] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[20:05:52.511] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[20:05:52.511] 2025-08-20 20:05:52,510 - mdp_workflow_generator - INFO - Loaded 30 tools
[20:05:52.511] [INFO] Setting default state_dim based on loaded tools
[20:05:52.511] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[20:05:52.511] 2025-08-20 20:05:52,510 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[20:05:52.511] [INFO] Setting default action_dim based on loaded tools
[20:05:52.511] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[20:05:52.511] 2025-08-20 20:05:52,510 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[20:05:52.511] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[20:05:52.511] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[20:05:52.511] [INFO] ⚡ Will use pre-generated workflows or random policy
[20:05:52.511] 2025-08-20 20:05:52,510 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[20:05:52.511] [INFO] Initializing TaskManager...
[20:05:53.544] 2025-08-20 20:05:53,544 - unified_training_manager - INFO - Using device: cpu
[20:05:53.649] 2025-08-20 20:05:53,649 - unified_training_manager - INFO - Task filtering results:
[20:05:53.649] 2025-08-20 20:05:53,649 - unified_training_manager - INFO -   Total: 5040 -> 5040
[20:05:53.649] 2025-08-20 20:05:53,649 - unified_training_manager - INFO -   simple_task: 320 -> 320
[20:05:53.649] 2025-08-20 20:05:53,649 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[20:05:53.649] 2025-08-20 20:05:53,649 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[20:05:53.649] 2025-08-20 20:05:53,649 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[20:05:53.649] 2025-08-20 20:05:53,649 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[20:05:53.649] 2025-08-20 20:05:53,649 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[20:05:53.651] 2025-08-20 20:05:53,651 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[20:05:53.651] [TaskManager] Difficulty level 'easy': 1096 tasks
[20:05:53.651] [TaskManager] Difficulty level 'very_easy': 856 tasks
[20:05:53.651] [TaskManager] Difficulty level 'medium': 1136 tasks
[20:05:53.651] [TaskManager] Difficulty level 'hard': 1096 tasks
[20:05:53.651] [TaskManager] Difficulty level 'very_hard': 856 tasks
[20:05:53.653] [INFO] TaskManager initialized with 5040 tasks
[20:05:53.653] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[20:05:53.653] [INFO] Initializing ToolCallVerifier...
[20:05:53.654] [INFO] ToolCallVerifier initialized with 30 tools
[20:05:53.654] [INFO] Output tools identified: 1
[20:05:53.654] [INFO] Component initialization status:
[20:05:53.654]   - embedding_manager: initialized
[20:05:53.654]   - task_manager: initialized
[20:05:53.654]   - output_verifier: initialized
[20:05:53.654]   - tool_capability_manager: initialized
[20:05:53.654]   - tool_success_rates: initialized with 0 entries
[20:05:53.654] [INFO] MDPWorkflowGenerator initialization complete
[20:05:53.654] 2025-08-20 20:05:53,654 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[20:05:53.654] 2025-08-20 20:05:53,654 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[20:05:53.654] 2025-08-20 20:05:53,654 - batch_test_runner - INFO -   - task_manager: ✓
[20:05:53.654] 2025-08-20 20:05:53,654 - batch_test_runner - INFO -   - output_verifier: ✓
[20:05:53.654] 2025-08-20 20:05:53,654 - batch_test_runner - INFO -   - embedding_manager: ✓
[20:05:53.654] 2025-08-20 20:05:53,654 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[20:05:53.654] 2025-08-20 20:05:53,654 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[20:05:53.654] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:05:53.654] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:05:53.654] [FlawedWorkflowGenerator] Initialized with 30 tools
[20:05:53.654] [FlawedWorkflowGenerator] RAG support: disabled
[20:05:53.657] DEBUG: Checking generator attributes
[20:05:53.657]   - has tool_capabilities: True
[20:05:53.657]   - has tool_capability_manager: True
[20:05:53.657]   - has task_manager: True
[20:05:53.657] [INFO] Loaded 30 tools from generator
[20:05:53.657] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[20:05:53.657] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:05:53.657] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:05:53.657] [INFO] Initializing LLM client using APIClientManager
[20:05:53.663] [INFO] Using Azure OpenAI client
[20:05:53.663] [DEBUG] Checking if generator has tool_capability_manager attribute
[20:05:53.663] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[20:05:53.663] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:05:53.663] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:05:53.663] [FlawedWorkflowGenerator] Initialized with 30 tools
[20:05:53.663] [FlawedWorkflowGenerator] RAG support: enabled
[20:05:53.663] [INFO] FlawedWorkflowGenerator initialized successfully
[20:05:53.663] [INFO] Initializing StableScorer for Phase 2 scoring
[20:05:53.663] <tool_capability_manager.ToolCapabilityManager object at 0x16ffdaa80>
[20:05:53.663] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:05:53.663] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:05:53.664] [INFO] Loaded tool success history for 0 tools
[20:05:53.664] [INFO] StableScorer initialized with semantic capability
[20:05:53.664] [INFO] StableScorer initialized successfully
[20:05:53.664] [INFO] Loading task instances...
[20:05:53.664] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[20:05:53.669] [INFO] Loaded 630 task instances
[20:05:53.669] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[20:05:53.669] 2025-08-20 20:05:53,669 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[20:05:53.669] 2025-08-20 20:05:53,669 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[20:05:53.969] 2025-08-20 20:05:53,969 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[20:05:53.969] 2025-08-20 20:05:53,969 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[20:05:53.986] 2025-08-20 20:05:53,986 - batch_test_runner - INFO - Initialization complete
[20:05:54.011] 2025-08-20 20:05:54,011 - batch_test_runner - INFO - Starting batch test with 10 tasks, 3 workers
[20:05:54.011] 2025-08-20 20:05:54,011 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[20:05:54.012] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[20:05:54.012] 2025-08-20 20:05:54,012 - smart_model_router - INFO - Using idealab for qwen2.5-3b-instruct
[20:05:54.019] 2025-08-20 20:05:54,018 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[20:05:54.019] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[20:05:54.019] [InteractiveExecutor] Using prompt type: optimal for API key selection
[20:05:54.019] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[20:05:54.019] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:05:54.019] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:05:54.019] 2025-08-20 20:05:54,019 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[20:05:54.343] 2025-08-20 20:05:54,343 - mcp_embedding_manager - INFO - FAISS index loaded
[20:05:54.343] 2025-08-20 20:05:54,343 - mcp_embedding_manager - INFO - Updated dimension to 3072
[20:05:54.343] 2025-08-20 20:05:54,343 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[20:05:54.345] [INFO] Tool embedding index loaded successfully
[20:05:54.345] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[20:05:54.346] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[20:05:54.346] [INFO] Operation semantic index initialized
[20:05:54.346] 
[20:05:54.347] [TURN 1/10]
[20:05:54.347] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:05:54.355] 2025-08-20 20:05:54,355 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[20:05:54.355] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[20:05:54.355] [InteractiveExecutor] Using prompt type: optimal for API key selection
[20:05:54.355] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[20:05:54.356] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:05:54.356] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:05:54.356] 2025-08-20 20:05:54,355 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[20:05:54.372] 2025-08-20 20:05:54,372 - mcp_embedding_manager - INFO - FAISS index loaded
[20:05:54.372] 2025-08-20 20:05:54,372 - mcp_embedding_manager - INFO - Updated dimension to 3072
[20:05:54.373] 2025-08-20 20:05:54,372 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[20:05:54.375] [INFO] Tool embedding index loaded successfully
[20:05:54.375] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[20:05:54.375] [INFO] Operation semantic index initialized
[20:05:54.375] 
[20:05:54.376] [TURN 1/10]
[20:05:54.376] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:05:54.538] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[20:05:54.550] 2025-08-20 20:05:54,550 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[20:05:54.550] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[20:05:54.550] [InteractiveExecutor] Using prompt type: optimal for API key selection
[20:05:54.550] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[20:05:54.550] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:05:54.550] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:05:54.550] 2025-08-20 20:05:54,550 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[20:05:54.567] 2025-08-20 20:05:54,567 - mcp_embedding_manager - INFO - FAISS index loaded
[20:05:54.567] 2025-08-20 20:05:54,567 - mcp_embedding_manager - INFO - Updated dimension to 3072
[20:05:54.567] 2025-08-20 20:05:54,567 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[20:05:54.570] [INFO] Tool embedding index loaded successfully
[20:05:54.571] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[20:05:54.571] [INFO] Operation semantic index initialized
[20:05:54.571] 
[20:05:54.571] [TURN 1/10]
[20:05:54.574] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:05:57.595] 2025-08-20 20:05:57,594 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:05:57.603]   [SEARCH] Query: file_operations_reader
[20:05:57.603] 
[20:05:57.603] [TURN 2/10]
[20:05:57.604] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:05:58.187] 2025-08-20 20:05:58,184 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:05:58.188] 2025-08-20 20:05:58,186 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:05:58.189]   [SEARCH] Query: data_processing_validator
[20:05:58.189]   [SEARCH] Query: data_processing_validator
[20:05:58.190] 
[20:05:58.190] [TURN 2/10]
[20:05:58.190] 
[20:05:58.190] [TURN 2/10]
[20:05:58.191] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:05:58.193] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:05:58.870] 2025-08-20 20:05:58,870 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:05:58.873]   [INFO] Tool info request: file_operations_reader
[20:05:58.873] 
[20:05:58.873] [TURN 3/10]
[20:05:58.874] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:05:59.232] 2025-08-20 20:05:59,231 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:05:59.234]   [INFO] Tool info request: data_processing_validator
[20:05:59.235] 
[20:05:59.235] [TURN 3/10]
[20:05:59.236] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:05:59.892] 2025-08-20 20:05:59,892 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:05:59.894]   [INFO] Tool info request: data_processing_validator
[20:05:59.894] 
[20:05:59.894] [TURN 3/10]
[20:05:59.896] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:05:59.996] 2025-08-20 20:05:59,995 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:05:59.997]   [SEARCH] Query: data_processing_parser
[20:05:59.998] 
[20:05:59.998] [TURN 4/10]
[20:06:00.014] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:00.345] 2025-08-20 20:06:00,345 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:00.347]   [SEARCH] Query: data_processing_parser
[20:06:00.348] 
[20:06:00.348] [TURN 4/10]
[20:06:00.349] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:02.308] 2025-08-20 20:06:02,307 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:02.310]   [INFO] Tool info request: data_processing_parser
[20:06:02.310] 
[20:06:02.310] [TURN 5/10]
[20:06:02.311] 2025-08-20 20:06:02,311 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:02.312]   [SEARCH] Query: data_processing_parser
[20:06:02.312] 
[20:06:02.312] [TURN 4/10]
[20:06:02.314] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:02.318] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:03.973] 2025-08-20 20:06:03,972 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:03.975]   [INFO] Tool info request: data_processing_validator
[20:06:03.975] 
[20:06:03.975] [TURN 6/10]
[20:06:03.976] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:04.891] 2025-08-20 20:06:04,890 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:04.892]   [INFO] Tool info request: data_processing_parser
[20:06:04.892] 
[20:06:04.892] [TURN 5/10]
[20:06:04.892] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:05.012] 2025-08-20 20:06:05,012 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:05.017]   [INFO] Tool info request: data_processing_parser
[20:06:05.017] 
[20:06:05.017] [TURN 5/10]
[20:06:05.017] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:05.250] 2025-08-20 20:06:05,249 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:05.253]   [SEARCH] Query: data_processing_parser
[20:06:05.253] 
[20:06:05.253] [TURN 7/10]
[20:06:05.254] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:06.274] 2025-08-20 20:06:06,274 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:06.277] 2025-08-20 20:06:06,276 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:06.281]   [EARLY_EXIT] No actions taken, continuing...
[20:06:06.281] 
[20:06:06.281] [TURN 6/10]
[20:06:06.282]   [SEARCH] Query: data_processing_filter
[20:06:06.283] 
[20:06:06.283] [TURN 6/10]
[20:06:06.284] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:06.286] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:06.622] 2025-08-20 20:06:06,622 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:06.626]   [INFO] Tool info request: data_processing_parser
[20:06:06.626] 
[20:06:06.626] [TURN 8/10]
[20:06:06.626] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:09.586] 2025-08-20 20:06:09,586 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:09.590]   [INFO] Tool info request: data_processing_filter
[20:06:09.590] 
[20:06:09.590] [TURN 7/10]
[20:06:09.591] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:10.344] 2025-08-20 20:06:10,343 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:10.346]   [INFO] Tool info request: data_processing_validator
[20:06:10.346] 
[20:06:10.346] [TURN 9/10]
[20:06:10.347] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:10.828] 2025-08-20 20:06:10,827 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:10.829]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[20:06:10.829] 
[20:06:10.830] [TURN 7/10]
[20:06:10.830] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:11.000] 2025-08-20 20:06:10,998 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:11.002]   [INFO] Tool info request: file_operations_reader
[20:06:11.002] 
[20:06:11.002] [TURN 8/10]
[20:06:11.003] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:11.801] 2025-08-20 20:06:11,801 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:11.802]   [SEARCH] Query: data_processing_transformer
[20:06:11.803] 
[20:06:11.803] [TURN 10/10]
[20:06:11.804] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:12.419] 2025-08-20 20:06:12,418 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:12.421] 2025-08-20 20:06:12,419 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:12.422]   [FORMAT_ISSUE] Turn 7: Detected potential tool 'data_processing_validator' in incorrect format; No tools executed after multiple turns
[20:06:12.423]   [FORMAT_ISSUE] Potential tools detected: ['data_processing_validator']
[20:06:12.423] 
[20:06:12.423] [TURN 8/10]
[20:06:12.423]   [INFO] Tool info request: data_processing_parser
[20:06:12.423] 
[20:06:12.423] [TURN 9/10]
[20:06:12.423] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:12.426] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:15.761] 2025-08-20 20:06:15,761 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:15.764]   [INFO] Tool info request: data_processing_filter
[20:06:15.764] 
[20:06:15.764] [TURN 10/10]
[20:06:15.765] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:15.886] 2025-08-20 20:06:15,886 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:15.890]   [INFO] Tool info request: data_processing_transformer
[20:06:15.891] [DEBUG] Got result for task: has_result=True, save_logs=True
[20:06:15.891] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[20:06:15.891] [AI_DEBUG] 生成的txt_content长度: 26575
[20:06:15.891] [AI_DEBUG] _ai_classify_with_txt_content called:
[20:06:15.891]   - use_ai_classification=True
[20:06:15.891]   - ai_classifier=True
[20:06:15.891]   - txt_content_len=26575
[20:06:15.891]   - task_model=qwen2.5-3b-instruct
[20:06:15.891] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[20:06:15.893] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[20:06:15.905] 2025-08-20 20:06:15,904 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[20:06:15.905] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[20:06:15.905] [InteractiveExecutor] Using prompt type: optimal for API key selection
[20:06:15.906] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[20:06:15.906] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:06:15.906] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:06:15.906] 2025-08-20 20:06:15,906 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[20:06:15.923] 2025-08-20 20:06:15,923 - mcp_embedding_manager - INFO - FAISS index loaded
[20:06:15.923] 2025-08-20 20:06:15,923 - mcp_embedding_manager - INFO - Updated dimension to 3072
[20:06:15.923] 2025-08-20 20:06:15,923 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[20:06:15.925] [INFO] Tool embedding index loaded successfully
[20:06:15.926] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[20:06:15.926] [INFO] Operation semantic index initialized
[20:06:15.926] 
[20:06:15.926] [TURN 1/10]
[20:06:15.926] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:15.994] 2025-08-20 20:06:15,994 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:15.995]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[20:06:15.995] 
[20:06:15.995] [TURN 9/10]
[20:06:15.997] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:17.108] 2025-08-20 20:06:17,108 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:17.108]   [EARLY_EXIT] No actions taken, continuing...
[20:06:17.108] 
[20:06:17.108] [TURN 2/10]
[20:06:17.108] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:17.444] 2025-08-20 20:06:17,444 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:17.450]   [INFO] Tool info request: file_operations_reader
[20:06:17.450] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[20:06:17.457] 2025-08-20 20:06:17,457 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[20:06:17.457] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[20:06:17.457] [InteractiveExecutor] Using prompt type: optimal for API key selection
[20:06:17.457] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[20:06:17.457] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:06:17.457] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:06:17.457] 2025-08-20 20:06:17,457 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[20:06:17.475] 2025-08-20 20:06:17,475 - mcp_embedding_manager - INFO - FAISS index loaded
[20:06:17.475] 2025-08-20 20:06:17,475 - mcp_embedding_manager - INFO - Updated dimension to 3072
[20:06:17.475] 2025-08-20 20:06:17,475 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[20:06:17.477] [INFO] Tool embedding index loaded successfully
[20:06:17.481] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[20:06:17.481] [INFO] Operation semantic index initialized
[20:06:17.481] 
[20:06:17.481] [TURN 1/10]
[20:06:17.481] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:17.568] 2025-08-20 20:06:17,568 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:17.569]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[20:06:17.569] 
[20:06:17.569] [TURN 10/10]
[20:06:17.569] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:17.928] 2025-08-20 20:06:17,927 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:17.928]   [EARLY_EXIT] No actions taken, continuing...
[20:06:17.928] 
[20:06:17.928] [TURN 3/10]
[20:06:17.929] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:21.632] 2025-08-20 20:06:21,632 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:21.633]   [EARLY_EXIT] No actions taken, continuing...
[20:06:21.633] 
[20:06:21.633] [TURN 4/10]
[20:06:21.646] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:22.503] 2025-08-20 20:06:22,503 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:22.504]   [EARLY_EXIT] No actions taken, continuing...
[20:06:22.504] 
[20:06:22.504] [TURN 5/10]
[20:06:22.505] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:23.366] 2025-08-20 20:06:23,366 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:23.368]   [EARLY_EXIT] No actions taken, continuing...
[20:06:23.368] 
[20:06:23.368] [TURN 6/10]
[20:06:23.369] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:23.503] 2025-08-20 20:06:23,503 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:23.505]   [SEARCH] Query: file_operations_reader
[20:06:23.505] 
[20:06:23.505] [TURN 2/10]
[20:06:23.506] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:24.462] 2025-08-20 20:06:24,462 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:24.465]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[20:06:24.466] [ASSISTED] Task received 5 format helps, final result: failure
[20:06:24.469] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[20:06:24.473] 2025-08-20 20:06:24,473 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:24.474]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[20:06:24.474] 
[20:06:24.474] [TURN 7/10]
[20:06:24.474] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:24.486] 2025-08-20 20:06:24,486 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[20:06:24.486] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[20:06:24.486] [InteractiveExecutor] Using prompt type: optimal for API key selection
[20:06:24.487] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[20:06:24.487] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:06:24.487] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:06:24.487] 2025-08-20 20:06:24,487 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[20:06:24.518] 2025-08-20 20:06:24,518 - mcp_embedding_manager - INFO - FAISS index loaded
[20:06:24.518] 2025-08-20 20:06:24,518 - mcp_embedding_manager - INFO - Updated dimension to 3072
[20:06:24.518] 2025-08-20 20:06:24,518 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[20:06:24.520] [INFO] Tool embedding index loaded successfully
[20:06:24.521] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[20:06:24.521] [INFO] Operation semantic index initialized
[20:06:24.521] 
[20:06:24.521] [TURN 1/10]
[20:06:24.521] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:26.745] 2025-08-20 20:06:26,745 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:26.746]   [INFO] Tool info request: file_operations_reader
[20:06:26.746] 
[20:06:26.746] [TURN 3/10]
[20:06:26.746] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:27.459] 2025-08-20 20:06:27,458 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[20:06:27.466] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[20:06:27.471] [DEBUG] Got result for task: has_result=True, save_logs=True
[20:06:27.471] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[20:06:27.471] [AI_DEBUG] 生成的txt_content长度: 23211
[20:06:27.471] [AI_DEBUG] _ai_classify_with_txt_content called:
[20:06:27.471]   - use_ai_classification=True
[20:06:27.471]   - ai_classifier=True
[20:06:27.471]   - txt_content_len=23211
[20:06:27.471]   - task_model=qwen2.5-3b-instruct
[20:06:27.471] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[20:06:27.829] 2025-08-20 20:06:27,825 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:27.830]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[20:06:27.830] 
[20:06:27.830] [TURN 8/10]
[20:06:27.831] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:28.014] 2025-08-20 20:06:28,013 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:28.027]   [SEARCH] Query: file_operations_reader
[20:06:28.027] 
[20:06:28.027] [TURN 2/10]
[20:06:28.036] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:29.627] 2025-08-20 20:06:29,626 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:29.628]   [INFO] Tool info request: file_operations_reader
[20:06:29.628] 
[20:06:29.628] [TURN 3/10]
[20:06:29.629] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:29.666] 2025-08-20 20:06:29,666 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:29.667]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[20:06:29.667] 
[20:06:29.667] [TURN 9/10]
[20:06:29.668] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:29.740] 2025-08-20 20:06:29,740 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:29.740]   [SEARCH] Query: data_processing_parser
[20:06:29.740] 
[20:06:29.740] [TURN 4/10]
[20:06:29.741] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:33.256] 2025-08-20 20:06:33,256 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:33.258]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[20:06:33.258] 
[20:06:33.258] [TURN 10/10]
[20:06:33.259] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:33.279] 2025-08-20 20:06:33,279 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:33.280]   [INFO] Tool info request: data_processing_parser
[20:06:33.280] 
[20:06:33.280] [TURN 5/10]
[20:06:33.280] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:33.534] 2025-08-20 20:06:33,532 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:33.535]   [PARSE] Found tool call: file_operations_reader
[20:06:33.535]   [EXECUTING] file_operations_reader
[20:06:33.536]     Result: SUCCESS
[20:06:33.536] 
[20:06:33.536] [TURN 4/10]
[20:06:33.537] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:34.582] 2025-08-20 20:06:34,581 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:34.584]   [FORMAT_ISSUE] Turn 4: Detected potential tool 'r' in incorrect format
[20:06:34.584]   [FORMAT_ISSUE] Potential tools detected: ['r']
[20:06:34.584] 
[20:06:34.584] [TURN 5/10]
[20:06:34.585] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:34.774] 2025-08-20 20:06:34,773 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:34.777]   [SEARCH] Query: data_processing_filter
[20:06:34.778] 
[20:06:34.778] [TURN 6/10]
[20:06:34.779] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:35.159] 2025-08-20 20:06:35,158 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:35.160]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[20:06:35.161] [ASSISTED] Task received 5 format helps, final result: failure
[20:06:35.163] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[20:06:35.176] 2025-08-20 20:06:35,176 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[20:06:35.177] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[20:06:35.177] [InteractiveExecutor] Using prompt type: optimal for API key selection
[20:06:35.177] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[20:06:35.177] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:06:35.177] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:06:35.177] 2025-08-20 20:06:35,177 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[20:06:35.218] 2025-08-20 20:06:35,218 - mcp_embedding_manager - INFO - FAISS index loaded
[20:06:35.219] 2025-08-20 20:06:35,218 - mcp_embedding_manager - INFO - Updated dimension to 3072
[20:06:35.219] 2025-08-20 20:06:35,219 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[20:06:35.221] [INFO] Tool embedding index loaded successfully
[20:06:35.222] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[20:06:35.222] [INFO] Operation semantic index initialized
[20:06:35.223] 
[20:06:35.223] [TURN 1/10]
[20:06:35.223] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:35.555] 2025-08-20 20:06:35,554 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:35.557] 
[20:06:35.557] [TURN 6/10]
[20:06:35.558] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:35.655] 2025-08-20 20:06:35,654 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[20:06:35.657] [AI_DEBUG] AI分类结果: category=max_turns_errors, confidence=0.85
[20:06:35.661] [DEBUG] Got result for task: has_result=True, save_logs=True
[20:06:35.662] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[20:06:35.662] [AI_DEBUG] 生成的txt_content长度: 20618
[20:06:35.662] [AI_DEBUG] _ai_classify_with_txt_content called:
[20:06:35.662]   - use_ai_classification=True
[20:06:35.662]   - ai_classifier=True
[20:06:35.662]   - txt_content_len=20618
[20:06:35.662]   - task_model=qwen2.5-3b-instruct
[20:06:35.662] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[20:06:36.581] 2025-08-20 20:06:36,581 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:36.582]   [INFO] Tool info request: data_processing_filter
[20:06:36.582] 
[20:06:36.582] [TURN 7/10]
[20:06:36.583] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:37.984] 2025-08-20 20:06:37,984 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:37.984]   [SEARCH] Query: data_processing_transformer
[20:06:37.984] 
[20:06:37.984] [TURN 8/10]
[20:06:37.985] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:38.614] 2025-08-20 20:06:38,614 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:38.614] 
[20:06:38.614] [TURN 7/10]
[20:06:38.614] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:39.527] 2025-08-20 20:06:39,527 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:39.527]   [SEARCH] Query: network api fetch
[20:06:39.528] 
[20:06:39.528] [TURN 2/10]
[20:06:39.528] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:39.716] 2025-08-20 20:06:39,716 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:39.717] 
[20:06:39.717] [TURN 8/10]
[20:06:39.718] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:39.797] 2025-08-20 20:06:39,797 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:39.799]   [INFO] Tool info request: data_processing_transformer
[20:06:39.799] 
[20:06:39.799] [TURN 9/10]
[20:06:39.805] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:40.905] 2025-08-20 20:06:40,905 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:40.907] 
[20:06:40.907] [TURN 9/10]
[20:06:40.908] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:41.601] 2025-08-20 20:06:41,600 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:41.601] 2025-08-20 20:06:41,601 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:41.602]   [SEARCH] Query: data_processing_validator
[20:06:41.602] 
[20:06:41.602] [TURN 10/10]
[20:06:41.602]   [INFO] Tool info request: network_fetcher
[20:06:41.602] 
[20:06:41.602] [TURN 3/10]
[20:06:41.602] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:41.605] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:42.012] 2025-08-20 20:06:42,012 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[20:06:42.013] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"9e95ee57-ea7c-9d7e-ab85-20edc45ba9d1"}, traceId: 213e064617557456017243971e09cd'}
[20:06:42.013] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[20:06:42.083] 2025-08-20 20:06:42,083 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[20:06:42.084] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"4dad54ed-76cf-9aa3-a161-7c95ec1ce0df"}, traceId: 213e068217557456017653093e7888'}
[20:06:42.084] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[20:06:42.259] 2025-08-20 20:06:42,259 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:42.260] 
[20:06:42.260] [TURN 10/10]
[20:06:42.260] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:43.166] 2025-08-20 20:06:43,166 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[20:06:43.167] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[20:06:43.170] [DEBUG] Got result for task: has_result=True, save_logs=True
[20:06:43.170] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[20:06:43.170] [AI_DEBUG] 生成的txt_content长度: 10796
[20:06:43.170] [AI_DEBUG] _ai_classify_with_txt_content called:
[20:06:43.170]   - use_ai_classification=True
[20:06:43.170]   - ai_classifier=True
[20:06:43.170]   - txt_content_len=10796
[20:06:43.170]   - task_model=qwen2.5-3b-instruct
[20:06:43.170] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[20:06:45.904] 2025-08-20 20:06:45,903 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:45.907] [ASSISTED] Task received 1 format helps, final result: failure
[20:06:45.911] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[20:06:45.929] 2025-08-20 20:06:45,929 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[20:06:45.929] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[20:06:45.929] [InteractiveExecutor] Using prompt type: optimal for API key selection
[20:06:45.929] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[20:06:45.930] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:06:45.930] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:06:45.930] 2025-08-20 20:06:45,930 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[20:06:45.962] 2025-08-20 20:06:45,962 - mcp_embedding_manager - INFO - FAISS index loaded
[20:06:45.962] 2025-08-20 20:06:45,962 - mcp_embedding_manager - INFO - Updated dimension to 3072
[20:06:45.962] 2025-08-20 20:06:45,962 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[20:06:45.965] [INFO] Tool embedding index loaded successfully
[20:06:45.965] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[20:06:45.966] [INFO] Operation semantic index initialized
[20:06:45.966] 
[20:06:45.966] [TURN 1/10]
[20:06:45.967] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:46.211] 2025-08-20 20:06:46,210 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:46.212]   [INFO] Tool info request: data_processing_validator
[20:06:46.214] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[20:06:46.229] 2025-08-20 20:06:46,229 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[20:06:46.229] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[20:06:46.229] [InteractiveExecutor] Using prompt type: optimal for API key selection
[20:06:46.229] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[20:06:46.229] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:06:46.229] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:06:46.229] 2025-08-20 20:06:46,229 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[20:06:46.255] 2025-08-20 20:06:46,255 - mcp_embedding_manager - INFO - FAISS index loaded
[20:06:46.255] 2025-08-20 20:06:46,255 - mcp_embedding_manager - INFO - Updated dimension to 3072
[20:06:46.255] 2025-08-20 20:06:46,255 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[20:06:46.258] [INFO] Tool embedding index loaded successfully
[20:06:46.259] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[20:06:46.259] [INFO] Operation semantic index initialized
[20:06:46.259] 
[20:06:46.259] [TURN 1/10]
[20:06:46.260] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:46.417] 2025-08-20 20:06:46,417 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:46.418]   [INFO] Tool info request: network_fetcher
[20:06:46.418] 
[20:06:46.418] [TURN 4/10]
[20:06:46.419] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:47.961] 2025-08-20 20:06:47,961 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:47.964]   [SEARCH] Query: network api fetch
[20:06:47.964] 
[20:06:47.964] [TURN 2/10]
[20:06:47.965] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:48.177] 2025-08-20 20:06:48,177 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:48.183]   [SEARCH] Query: file_operations_reader
[20:06:48.183] 
[20:06:48.183] [TURN 2/10]
[20:06:48.250] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:49.529] 2025-08-20 20:06:49,529 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[20:06:49.530] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.78
[20:06:49.542] [DEBUG] Got result for task: has_result=True, save_logs=True
[20:06:49.542] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[20:06:49.542] [AI_DEBUG] 生成的txt_content长度: 13266
[20:06:49.542] [AI_DEBUG] _ai_classify_with_txt_content called:
[20:06:49.542]   - use_ai_classification=True
[20:06:49.542]   - ai_classifier=True
[20:06:49.542]   - txt_content_len=13266
[20:06:49.542]   - task_model=qwen2.5-3b-instruct
[20:06:49.542] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[20:06:50.531] 2025-08-20 20:06:50,530 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:50.532]   [INFO] Tool info request: network_fetcher
[20:06:50.533] 
[20:06:50.533] [TURN 3/10]
[20:06:50.535] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:51.035] 2025-08-20 20:06:51,035 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:51.039]   [INFO] Tool info request: file_operations_reader
[20:06:51.040] 
[20:06:51.040] [TURN 3/10]
[20:06:51.040] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:51.961] 2025-08-20 20:06:51,961 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:51.962]   [INFO] Tool info request: network_fetcher
[20:06:51.962] 
[20:06:51.962] [TURN 5/10]
[20:06:51.963] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:52.692] 2025-08-20 20:06:52,692 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:52.692]   [PARSE] Found tool call: network_fetcher
[20:06:52.692]   [EXECUTING] network_fetcher
[20:06:52.693]     Result: FAILED - INVALID_RESPONSE: Invalid response from server
[20:06:52.693] 
[20:06:52.693] [TURN 4/10]
[20:06:52.694] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:52.933] 2025-08-20 20:06:52,933 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:52.938]   [PARSE] Found tool call: file_operations_reader
[20:06:52.938]   [EXECUTING] file_operations_reader
[20:06:52.938]     Result: FAILED - TIMEOUT: Operation timed out (after 32 seconds)
[20:06:52.938] 
[20:06:52.938] [TURN 4/10]
[20:06:52.940] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:53.672] 2025-08-20 20:06:53,671 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:53.674]   [INFO] Tool info request: network_fetcher
[20:06:53.674] 
[20:06:53.674] [TURN 6/10]
[20:06:53.675] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:54.417] 2025-08-20 20:06:54,416 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:54.421] 
[20:06:54.421] [TURN 5/10]
[20:06:54.422] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:58.371] 2025-08-20 20:06:58,370 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[20:06:58.374] [AI_DEBUG] AI分类结果: category=dependency_errors, confidence=0.78
[20:06:58.383] [DEBUG] Got result for task: has_result=True, save_logs=True
[20:06:58.383] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[20:06:58.383] [AI_DEBUG] 生成的txt_content长度: 29790
[20:06:58.383] [AI_DEBUG] _ai_classify_with_txt_content called:
[20:06:58.383]   - use_ai_classification=True
[20:06:58.383]   - ai_classifier=True
[20:06:58.383]   - txt_content_len=29790
[20:06:58.383]   - task_model=qwen2.5-3b-instruct
[20:06:58.383] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[20:06:58.850] 2025-08-20 20:06:58,850 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:58.855] 
[20:06:58.855] [TURN 6/10]
[20:06:58.856] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:59.027] 2025-08-20 20:06:59,027 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:59.028]   [INFO] Tool info request: network_fetcher
[20:06:59.029] 
[20:06:59.029] [TURN 7/10]
[20:06:59.029] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:59.105] 2025-08-20 20:06:59,103 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:06:59.106]   [FORMAT_ISSUE] Turn 4: Detected potential tool 's' in incorrect format; Detected potential tool 't' in incorrect format; Mentioned using 'network_fetcher' but no proper tool call found
[20:06:59.106]   [FORMAT_ISSUE] Potential tools detected: ['s', 't', 'network_fetcher']
[20:06:59.106] 
[20:06:59.106] [TURN 5/10]
[20:06:59.106] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:06:59.458] 2025-08-20 20:06:59,458 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[20:06:59.460] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"27d315db-0e52-951a-9bf0-91d649c8abf6"}, traceId: 213e007017557456192198125eea91'}
[20:06:59.460] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[20:07:04.832] 2025-08-20 20:07:04,831 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:04.835] 
[20:07:04.835] [TURN 6/10]
[20:07:04.836] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:04.937] 2025-08-20 20:07:04,937 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:04.943] 
[20:07:04.943] [TURN 7/10]
[20:07:04.944] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:05.362] 2025-08-20 20:07:05,362 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[20:07:05.365] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[20:07:05.857] 2025-08-20 20:07:05,855 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:05.858]   [INFO] Tool info request: network_fetcher
[20:07:05.858] 
[20:07:05.858] [TURN 8/10]
[20:07:05.861] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:06.718] 2025-08-20 20:07:06,717 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:06.719] 
[20:07:06.719] [TURN 7/10]
[20:07:06.719] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:08.990] 2025-08-20 20:07:08,990 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:08.994] 
[20:07:08.994] [TURN 8/10]
[20:07:08.994] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:10.126] 2025-08-20 20:07:10,125 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:10.127] 
[20:07:10.127] [TURN 8/10]
[20:07:10.127] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:11.153] 2025-08-20 20:07:11,153 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:11.154] 
[20:07:11.154] [TURN 9/10]
[20:07:11.155] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:11.401] 2025-08-20 20:07:11,401 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:11.402]   [INFO] Tool info request: network_fetcher
[20:07:11.402] 
[20:07:11.402] [TURN 9/10]
[20:07:11.402] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:11.494] 2025-08-20 20:07:11,494 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[20:07:11.494] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"fe4f444f-fa62-97d2-8e9a-4c99dc72d141"}, traceId: 213e007017557456312688178eea91'}
[20:07:11.494] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[20:07:11.787] 2025-08-20 20:07:11,787 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:11.791] 
[20:07:11.791] [TURN 9/10]
[20:07:11.791] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:11.811] 2025-08-20 20:07:11,810 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[20:07:11.811] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"bd79b44d-d634-9935-b156-c80d32c451cf"}, traceId: 213e064617557456315174156e09cd'}
[20:07:11.811] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[20:07:12.137] 2025-08-20 20:07:12,136 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[20:07:12.141] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"9dc3a0a1-dca6-9cb1-b1d6-c6dcebe3005f"}, traceId: 213e06a017557456319102539e77e5'}
[20:07:12.141] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[20:07:15.290] 2025-08-20 20:07:15,290 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:15.291] 
[20:07:15.291] [TURN 10/10]
[20:07:15.292] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:16.245] 2025-08-20 20:07:16,245 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:16.248] [ASSISTED] Task received 1 format helps, final result: failure
[20:07:16.251] [DEBUG RAG] network_poster semantically matched with network_fetcher (score: 0.627)
[20:07:16.252] [DEBUG] Got result for task: has_result=True, save_logs=True
[20:07:16.252] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[20:07:16.253] [AI_DEBUG] 生成的txt_content长度: 13453
[20:07:16.253] [AI_DEBUG] _ai_classify_with_txt_content called:
[20:07:16.253]   - use_ai_classification=True
[20:07:16.253]   - ai_classifier=True
[20:07:16.253]   - txt_content_len=13453
[20:07:16.253]   - task_model=qwen2.5-3b-instruct
[20:07:16.253] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[20:07:16.256] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[20:07:16.274] 2025-08-20 20:07:16,273 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[20:07:16.274] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[20:07:16.274] [InteractiveExecutor] Using prompt type: optimal for API key selection
[20:07:16.276] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[20:07:16.276] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13107221264)
[20:07:16.276] [MCPEmbeddingManager] Current cache size: 30 embeddings
[20:07:16.276] 2025-08-20 20:07:16,276 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[20:07:16.307] 2025-08-20 20:07:16,307 - mcp_embedding_manager - INFO - FAISS index loaded
[20:07:16.307] 2025-08-20 20:07:16,307 - mcp_embedding_manager - INFO - Updated dimension to 3072
[20:07:16.307] 2025-08-20 20:07:16,307 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[20:07:16.309] [INFO] Tool embedding index loaded successfully
[20:07:16.310] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[20:07:16.310] [INFO] Operation semantic index initialized
[20:07:16.310] 
[20:07:16.310] [TURN 1/10]
[20:07:16.311] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:16.335] 2025-08-20 20:07:16,335 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:16.335]   [INFO] Tool info request: network_fetcher
[20:07:16.335] 
[20:07:16.335] [TURN 10/10]
[20:07:16.336] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:17.864] 2025-08-20 20:07:17,863 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:17.867]   [SEARCH] Query: file_operations_reader
[20:07:17.867] 
[20:07:17.867] [TURN 2/10]
[20:07:17.867] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:17.868] 2025-08-20 20:07:17,868 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:17.874] 
[20:07:17.874] [TURN 10/10]
[20:07:17.880] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:20.824] 2025-08-20 20:07:20,822 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:20.825]   [INFO] Tool info request: network_fetcher
[20:07:21.302] 2025-08-20 20:07:21,302 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:21.305]   [INFO] Tool info request: file_operations_reader
[20:07:21.306] 
[20:07:21.306] [TURN 3/10]
[20:07:21.307] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:21.919] 2025-08-20 20:07:21,918 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:23.091] 2025-08-20 20:07:23,091 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:23.095]   [SEARCH] Query: data_processing_validator
[20:07:23.096] 
[20:07:23.096] [TURN 4/10]
[20:07:23.096] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:24.655] 2025-08-20 20:07:24,655 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:24.659]   [INFO] Tool info request: data_processing_validator
[20:07:24.659] 
[20:07:24.659] [TURN 5/10]
[20:07:24.660] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:27.032] 2025-08-20 20:07:27,032 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[20:07:27.035] [AI_DEBUG] AI分类结果: category=dependency_errors, confidence=0.85
[20:07:27.039] [DEBUG] Got result for task: has_result=True, save_logs=True
[20:07:27.039] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[20:07:27.039] [AI_DEBUG] 生成的txt_content长度: 20242
[20:07:27.039] [AI_DEBUG] _ai_classify_with_txt_content called:
[20:07:27.039]   - use_ai_classification=True
[20:07:27.039]   - ai_classifier=True
[20:07:27.040]   - txt_content_len=20242
[20:07:27.040]   - task_model=qwen2.5-3b-instruct
[20:07:27.040] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[20:07:28.811] 2025-08-20 20:07:28,810 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:28.815]   [SEARCH] Query: data_processing_filter
[20:07:28.815] 
[20:07:28.815] [TURN 6/10]
[20:07:28.816] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:30.134] 2025-08-20 20:07:30,133 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:30.136]   [INFO] Tool info request: data_processing_filter
[20:07:30.136] 
[20:07:30.136] [TURN 7/10]
[20:07:30.138] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:34.934] 2025-08-20 20:07:34,934 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:34.939]   [SEARCH] Query: data_processing_transformer
[20:07:34.939] 
[20:07:34.939] [TURN 8/10]
[20:07:34.940] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:36.038] 2025-08-20 20:07:36,037 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[20:07:36.040] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[20:07:36.045] [DEBUG] Got result for task: has_result=True, save_logs=True
[20:07:36.045] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[20:07:36.045] [AI_DEBUG] 生成的txt_content长度: 12113
[20:07:36.045] [AI_DEBUG] _ai_classify_with_txt_content called:
[20:07:36.045]   - use_ai_classification=True
[20:07:36.045]   - ai_classifier=True
[20:07:36.045]   - txt_content_len=12113
[20:07:36.045]   - task_model=qwen2.5-3b-instruct
[20:07:36.045] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[20:07:36.470] 2025-08-20 20:07:36,470 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:36.476]   [INFO] Tool info request: data_processing_transformer
[20:07:36.476] 
[20:07:36.476] [TURN 9/10]
[20:07:36.484] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:40.528] 2025-08-20 20:07:40,526 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:40.531]   [SEARCH] Query: data_processing_aggregator
[20:07:40.533] 
[20:07:40.533] [TURN 10/10]
[20:07:40.534] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[20:07:42.588] 2025-08-20 20:07:42,587 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[20:07:42.591]   [INFO] Tool info request: data_processing_aggregator
[20:07:51.952] 2025-08-20 20:07:51,952 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[20:07:51.953] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.85
[20:07:51.956] [DEBUG] Got result for task: has_result=True, save_logs=True
[20:07:51.956] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[20:07:51.956] [AI_DEBUG] 生成的txt_content长度: 29447
[20:07:51.956] [AI_DEBUG] _ai_classify_with_txt_content called:
[20:07:51.956]   - use_ai_classification=True
[20:07:51.956]   - ai_classifier=True
[20:07:51.956]   - txt_content_len=29447
[20:07:51.956]   - task_model=qwen2.5-3b-instruct
[20:07:51.956] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[20:07:59.326] 2025-08-20 20:07:59,324 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[20:07:59.328] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.78
[20:07:59.335] Progress: 10/10 (Success: 3)
[20:07:59.336] 
[20:07:59.336] [INFO] Batch writing 10 records to database (qwen2.5-3b-instruct:10)
[20:07:59.336] 2025-08-20 20:07:59,336 - batch_test_runner - INFO - Batch writing 10 records to database (qwen2.5-3b-instruct:10)
[20:07:59.337] [INFO] Successfully wrote 10/10 records (qwen2.5-3b-instruct:10)
[20:07:59.337] 2025-08-20 20:07:59,337 - batch_test_runner - INFO - Successfully wrote 10/10 records (qwen2.5-3b-instruct:10)
[20:07:59.338] [INFO] 数据已同步到Parquet存储
[20:07:59.338] 2025-08-20 20:07:59,338 - batch_test_runner - INFO - Database saved successfully
[20:07:59.338] 2025-08-20 20:07:59,338 - batch_test_runner - INFO - ============================================================
[20:07:59.338] 2025-08-20 20:07:59,338 - batch_test_runner - INFO - Batch test completed at 2025-08-20T20:07:59.338625
[20:07:59.338] 2025-08-20 20:07:59,338 - batch_test_runner - INFO - Summary:
[20:07:59.338] 2025-08-20 20:07:59,338 - batch_test_runner - INFO -   - Total tests: 10
[20:07:59.338] 2025-08-20 20:07:59,338 - batch_test_runner - INFO -   - Successful: 3
[20:07:59.338] 2025-08-20 20:07:59,338 - batch_test_runner - INFO -   - Failed: 7
[20:07:59.338] 2025-08-20 20:07:59,338 - batch_test_runner - INFO -   - Success rate: 30.0%
[20:07:59.338] 2025-08-20 20:07:59,338 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250820_200550.log
[20:07:59.339] 2025-08-20 20:07:59,339 - batch_test_runner - INFO - ============================================================
[20:07:59.339] 
[20:07:59.339] ✅ 批测试完成
[20:07:59.339]    成功: 3/10
[20:07:59.339]    失败: 7/10
[20:07:59.339] 
[20:07:59.340] 📤 最终保存10个测试结果...
[20:07:59.344] [DEBUG] 创建新的manager实例: key=True_
[20:07:59.455] [INFO] 已将 5 个汇总写入Parquet
[20:07:59.455] [INFO] 刷新缓存到磁盘 (已累积10个结果)
[20:07:59.455] ✅ 已保存 10 个测试结果到数据库
[20:07:59.492] [INFO] 刷新manager缓存: key=True_

==================================================
分片 qwen2.5-3b-instruct_easy_key0 完成
退出码: 0
总行数: 1006
运行时间: 135.2秒
时间: 2025-08-20T20:08:00.940048
