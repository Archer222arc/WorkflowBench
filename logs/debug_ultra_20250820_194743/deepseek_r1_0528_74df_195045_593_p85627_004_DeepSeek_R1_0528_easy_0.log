===== 分片 DeepSeek-R1-0528_easy_0 =====
时间: 2025-08-20T19:50:45.597284
模型: deepseek-r1-0528
实例: DeepSeek-R1-0528
命令: python -u smart_batch_runner.py --model deepseek-r1-0528 --deployment DeepSeek-R1-0528 --prompt-types optimal --difficulty easy --task-types all --num-instances 1 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[19:50:47.305] 2025-08-20 19:50:47,305 - faiss.loader - INFO - Loading faiss.
[19:50:47.318] 2025-08-20 19:50:47,318 - faiss.loader - INFO - Successfully loaded faiss.
[19:50:48.394] [INFO] 使用Parquet存储格式
[19:50:48.742] [INFO] 使用Parquet存储格式
[19:50:48.744] [INFO] 使用PARQUET存储格式
[19:50:48.744] 
[19:50:48.744] ============================================================
[19:50:48.745] 智能批测试: deepseek-r1-0528 (idealab)
[19:50:48.745] Prompt types: ['optimal']
[19:50:48.745] 难度: easy
[19:50:48.745] 目标: 每种配置 1 个实例
[19:50:48.745] ============================================================
[19:50:48.793] ○ simple_task         :   0/  1 已完成 (需要补充 1 个)
[19:50:48.797] ○ basic_task          :   0/  1 已完成 (需要补充 1 个)
[19:50:48.801] ○ data_pipeline       :   0/  1 已完成 (需要补充 1 个)
[19:50:48.805] ○ api_integration     :   0/  1 已完成 (需要补充 1 个)
[19:50:48.809] ○ multi_stage_pipeline:   0/  1 已完成 (需要补充 1 个)
[19:50:48.810] 
[19:50:48.810] ⏳ 需要运行 5 个新测试
[19:50:48.810] 
[19:50:48.810] ▶ 准备 simple_task (1 个实例)...
[19:50:48.810] 
[19:50:48.810] ▶ 准备 basic_task (1 个实例)...
[19:50:48.810] 
[19:50:48.810] ▶ 准备 data_pipeline (1 个实例)...
[19:50:48.810] 
[19:50:48.810] ▶ 准备 api_integration (1 个实例)...
[19:50:48.810] 
[19:50:48.810] ▶ 准备 multi_stage_pipeline (1 个实例)...
[19:50:48.810] 
[19:50:48.810] ▶ 开始执行 5 个测试...
[19:50:48.810] 📦 批量提交模式：每20个测试保存一次
[19:50:48.810] 🚀 检测到Azure API，使用超高并发: workers=100, qps=200.0
[19:50:48.811] 2025-08-20 19:50:48,811 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[19:50:48.867] 2025-08-20 19:50:48,867 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[19:50:48.867] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x14b8dc3b0>
[19:50:48.867] 2025-08-20 19:50:48,867 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[19:50:48.867] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[19:50:48.867] 2025-08-20 19:50:48,867 - batch_test_runner - INFO - ============================================================
[19:50:48.867] 2025-08-20 19:50:48,867 - batch_test_runner - INFO - Batch test runner initialized
[19:50:48.867] 2025-08-20 19:50:48,867 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[19:50:48.867] 2025-08-20 19:50:48,867 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_195048.log
[19:50:48.867] 2025-08-20 19:50:48,867 - batch_test_runner - INFO - ============================================================
[19:50:48.867] 2025-08-20 19:50:48,867 - batch_test_runner - INFO - Running 5 tests with 100 workers, QPS limit: 200.0
[19:50:48.868] 2025-08-20 19:50:48,868 - batch_test_runner - INFO - Initializing test components...
[19:50:49.162] 2025-08-20 19:50:49,162 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[19:50:49.162] 2025-08-20 19:50:49,162 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[19:50:49.162] 2025-08-20 19:50:49,162 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[19:50:49.162] [DEBUG] Creating new ToolCapabilityManager instance
[19:50:49.162] [OperationEmbeddingIndex] Initializing with unified API client manager
[19:50:49.162] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[19:50:49.163] 2025-08-20 19:50:49,163 - api_client_manager - INFO - Loaded configuration from config/config.json
[19:50:49.169] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[19:50:49.169] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[19:50:49.169] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[19:50:50.045] 2025-08-20 19:50:50,043 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:50:50.047] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[19:50:50.121] [INFO] Loaded 4150 embeddings from persistent cache
[19:50:50.121] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[19:50:50.122] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[19:50:50.122] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[19:50:50.122] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[19:50:50.129] [INFO] Successfully loaded FAISS index with dimension 3072
[19:50:50.130] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[19:50:50.130] [INFO] Loaded 15 operations with dimension 3072
[19:50:50.130] [INFO] Successfully loaded cached index
[19:50:50.130] [INFO] Operation semantic index initialized
[19:50:50.130] [INFO] Using device: cpu
[19:50:50.130] [INFO] Initialized tool success tracking attributes
[19:50:50.130] [INFO] Initializing embedding manager for enhanced tool selection
[19:50:50.130] [MCPEmbeddingManager] Creating new singleton instance
[19:50:50.130] [MCPEmbeddingManager] Initializing with unified API client manager
[19:50:50.140] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[19:50:50.140] [MCPEmbeddingManager] Client initialized successfully
[19:50:50.140] 2025-08-20 19:50:50,140 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[19:50:50.255] 2025-08-20 19:50:50,254 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[19:50:50.470] 2025-08-20 19:50:50,470 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[19:50:50.470] 2025-08-20 19:50:50,470 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[19:50:50.493] 2025-08-20 19:50:50,493 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[19:50:50.555] 2025-08-20 19:50:50,555 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[19:50:50.900] 2025-08-20 19:50:50,900 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[19:50:50.901] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[19:50:50.901] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[19:50:50.901] 2025-08-20 19:50:50,901 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:50:51.257] 2025-08-20 19:50:51,257 - mcp_embedding_manager - INFO - FAISS index loaded
[19:50:51.257] 2025-08-20 19:50:51,257 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:50:51.257] 2025-08-20 19:50:51,257 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:50:51.259] [SUCCESS] Loaded 30 tool embeddings
[19:50:51.259] 2025-08-20 19:50:51,259 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[19:50:51.259] [SUCCESS] Embedding manager initialized with 30 tools
[19:50:51.259] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[19:50:51.259] [INFO] Loading full MCP protocol registry...
[19:50:51.260] 2025-08-20 19:50:51,260 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:50:51.260] [INFO] Loaded full tool registry with 30 tools
[19:50:51.260] 2025-08-20 19:50:51,260 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[19:50:51.260] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[19:50:51.261] [INFO] Embedding manager ready with 30 tools
[19:50:51.261] [WARNING] Embedding manager exists but has no embeddings
[19:50:51.261] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[19:50:51.261] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[19:50:51.262] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[19:50:51.262] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:50:51.262] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[19:50:51.262] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[19:50:51.262] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:50:51.262] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:50:51.262] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:50:51.262] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:50:51.262] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[19:50:51.262] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:50:51.262] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:50:51.262] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[19:50:51.262] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[19:50:51.262] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[19:50:51.262] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:50:51.262] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:50:51.262] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:50:51.262] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[19:50:51.262] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[19:50:51.262] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[19:50:51.262] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[19:50:51.262] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[19:50:51.262] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[19:50:51.262] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[19:50:51.262] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[19:50:51.262] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[19:50:51.262] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[19:50:51.262] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[19:50:51.262] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[19:50:51.262] 2025-08-20 19:50:51,262 - mdp_workflow_generator - INFO - Loaded 30 tools
[19:50:51.262] [INFO] Setting default state_dim based on loaded tools
[19:50:51.262] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[19:50:51.262] 2025-08-20 19:50:51,262 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[19:50:51.262] [INFO] Setting default action_dim based on loaded tools
[19:50:51.262] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[19:50:51.262] 2025-08-20 19:50:51,262 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[19:50:51.262] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[19:50:51.262] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[19:50:51.262] [INFO] ⚡ Will use pre-generated workflows or random policy
[19:50:51.262] 2025-08-20 19:50:51,262 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[19:50:51.262] [INFO] Initializing TaskManager...
[19:50:52.223] 2025-08-20 19:50:52,223 - unified_training_manager - INFO - Using device: cpu
[19:50:52.332] 2025-08-20 19:50:52,332 - unified_training_manager - INFO - Task filtering results:
[19:50:52.332] 2025-08-20 19:50:52,332 - unified_training_manager - INFO -   Total: 5040 -> 5040
[19:50:52.332] 2025-08-20 19:50:52,332 - unified_training_manager - INFO -   simple_task: 320 -> 320
[19:50:52.332] 2025-08-20 19:50:52,332 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[19:50:52.332] 2025-08-20 19:50:52,332 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[19:50:52.332] 2025-08-20 19:50:52,332 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[19:50:52.332] 2025-08-20 19:50:52,332 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[19:50:52.332] 2025-08-20 19:50:52,332 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[19:50:52.334] 2025-08-20 19:50:52,334 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[19:50:52.334] [TaskManager] Difficulty level 'easy': 1096 tasks
[19:50:52.334] [TaskManager] Difficulty level 'very_easy': 856 tasks
[19:50:52.334] [TaskManager] Difficulty level 'medium': 1136 tasks
[19:50:52.334] [TaskManager] Difficulty level 'hard': 1096 tasks
[19:50:52.334] [TaskManager] Difficulty level 'very_hard': 856 tasks
[19:50:52.336] [INFO] TaskManager initialized with 5040 tasks
[19:50:52.336] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[19:50:52.336] [INFO] Initializing ToolCallVerifier...
[19:50:52.337] [INFO] ToolCallVerifier initialized with 30 tools
[19:50:52.337] [INFO] Output tools identified: 1
[19:50:52.337] [INFO] Component initialization status:
[19:50:52.337]   - embedding_manager: initialized
[19:50:52.337]   - task_manager: initialized
[19:50:52.337]   - output_verifier: initialized
[19:50:52.337]   - tool_capability_manager: initialized
[19:50:52.337]   - tool_success_rates: initialized with 0 entries
[19:50:52.337] [INFO] MDPWorkflowGenerator initialization complete
[19:50:52.337] 2025-08-20 19:50:52,337 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[19:50:52.337] 2025-08-20 19:50:52,337 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[19:50:52.337] 2025-08-20 19:50:52,337 - batch_test_runner - INFO -   - task_manager: ✓
[19:50:52.337] 2025-08-20 19:50:52,337 - batch_test_runner - INFO -   - output_verifier: ✓
[19:50:52.337] 2025-08-20 19:50:52,337 - batch_test_runner - INFO -   - embedding_manager: ✓
[19:50:52.337] 2025-08-20 19:50:52,337 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[19:50:52.337] 2025-08-20 19:50:52,337 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[19:50:52.337] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13138239680)
[19:50:52.337] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:50:52.337] [FlawedWorkflowGenerator] Initialized with 30 tools
[19:50:52.337] [FlawedWorkflowGenerator] RAG support: disabled
[19:50:52.337] DEBUG: Checking generator attributes
[19:50:52.338]   - has tool_capabilities: True
[19:50:52.338]   - has tool_capability_manager: True
[19:50:52.338]   - has task_manager: True
[19:50:52.338] [INFO] Loaded 30 tools from generator
[19:50:52.338] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[19:50:52.338] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13138239680)
[19:50:52.338] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:50:52.338] [INFO] Initializing LLM client using APIClientManager
[19:50:52.344] [INFO] Using Azure OpenAI client
[19:50:52.344] [DEBUG] Checking if generator has tool_capability_manager attribute
[19:50:52.344] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[19:50:52.344] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13138239680)
[19:50:52.344] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:50:52.344] [FlawedWorkflowGenerator] Initialized with 30 tools
[19:50:52.344] [FlawedWorkflowGenerator] RAG support: enabled
[19:50:52.344] [INFO] FlawedWorkflowGenerator initialized successfully
[19:50:52.344] [INFO] Initializing StableScorer for Phase 2 scoring
[19:50:52.344] <tool_capability_manager.ToolCapabilityManager object at 0x30eac30e0>
[19:50:52.344] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13138239680)
[19:50:52.344] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:50:52.344] [INFO] Loaded tool success history for 0 tools
[19:50:52.344] [INFO] StableScorer initialized with semantic capability
[19:50:52.344] [INFO] StableScorer initialized successfully
[19:50:52.344] [INFO] Loading task instances...
[19:50:52.344] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[19:50:52.350] [INFO] Loaded 630 task instances
[19:50:52.350] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[19:50:52.350] 2025-08-20 19:50:52,350 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[19:50:52.350] 2025-08-20 19:50:52,350 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[19:50:52.666] 2025-08-20 19:50:52,666 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[19:50:52.666] 2025-08-20 19:50:52,666 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[19:50:52.682] 2025-08-20 19:50:52,682 - batch_test_runner - INFO - Initialization complete
[19:50:52.706] 2025-08-20 19:50:52,706 - batch_test_runner - INFO - Detected Azure API, disabling QPS sleep for better performance
[19:50:52.706] 2025-08-20 19:50:52,706 - batch_test_runner - INFO - Starting batch test with 5 tasks, 100 workers
[19:50:52.706] 2025-08-20 19:50:52,706 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[19:50:52.707] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:50:52.707] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:50:52.707] 2025-08-20 19:50:52,707 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for DeepSeek-R1-0528
[19:50:52.708] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:50:52.708] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:50:53.020] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:50:53.026] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528
[19:50:53.026] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:50:53.026] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528
[19:50:53.026] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[19:50:53.026] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13138239680)
[19:50:53.026] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:50:53.026] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:50:53.026] 2025-08-20 19:50:53,026 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:50:53.026] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[19:50:53.026] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13138239680)
[19:50:53.026] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:50:53.026] 2025-08-20 19:50:53,026 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:50:53.028] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528
[19:50:53.028] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:50:53.028] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528
[19:50:53.028] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:50:53.028] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528
[19:50:53.028] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:50:53.040] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[19:50:53.040] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13138239680)
[19:50:53.040] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:50:53.040] 2025-08-20 19:50:53,040 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:50:53.060] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[19:50:53.060] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13138239680)
[19:50:53.060] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:50:53.060] 2025-08-20 19:50:53,060 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:50:53.061] 2025-08-20 19:50:53,061 - mcp_embedding_manager - INFO - FAISS index loaded
[19:50:53.061] 2025-08-20 19:50:53,061 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:50:53.061] 2025-08-20 19:50:53,061 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:50:53.063] [INFO] Tool embedding index loaded successfully
[19:50:53.067] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[19:50:53.067] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13138239680)
[19:50:53.067] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:50:53.070] 2025-08-20 19:50:53,070 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:50:53.071] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:50:53.077] [INFO] Operation semantic index initialized
[19:50:53.077] 
[19:50:53.077] [TURN 1/10]
[19:50:53.077] 2025-08-20 19:50:53,077 - mcp_embedding_manager - INFO - FAISS index loaded
[19:50:53.077] 2025-08-20 19:50:53,077 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:50:53.077] 2025-08-20 19:50:53,077 - mcp_embedding_manager - INFO - Index loaded successfully: 20 tools
[19:50:53.080] [INFO] Tool embedding index loaded successfully
[19:50:53.086] 2025-08-20 19:50:53,086 - mcp_embedding_manager - INFO - FAISS index loaded
[19:50:53.086] 2025-08-20 19:50:53,086 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:50:53.091] 2025-08-20 19:50:53,091 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:50:53.093] [INFO] Tool embedding index loaded successfully
[19:50:53.098] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:50:53.113] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:50:53.119] 2025-08-20 19:50:53,119 - mcp_embedding_manager - INFO - FAISS index loaded
[19:50:53.119] 2025-08-20 19:50:53,119 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:50:53.119] 2025-08-20 19:50:53,119 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:50:53.121] [INFO] Tool embedding index loaded successfully
[19:50:53.122] [INFO] Operation semantic index initialized
[19:50:53.122] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:50:53.122] 2025-08-20 19:50:53,122 - mcp_embedding_manager - INFO - FAISS index loaded
[19:50:53.123] 2025-08-20 19:50:53,122 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:50:53.123] 2025-08-20 19:50:53,123 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:50:53.125] [INFO] Tool embedding index loaded successfully
[19:50:53.125] 
[19:50:53.125] [TURN 1/10]
[19:50:53.125] [INFO] Operation semantic index initialized
[19:50:53.125] 
[19:50:53.125] [TURN 1/10]
[19:50:53.126] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528[INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:50:53.126] [INFO] Operation semantic index initialized
[19:50:53.126] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:50:53.128] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:50:53.128] 
[19:50:53.128] 
[19:50:53.128] [TURN 1/10]
[19:50:53.128] [INFO] Operation semantic index initialized
[19:50:53.128] 
[19:50:53.128] [TURN 1/10]
[19:50:53.128] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:50:53.133] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:03.686] 2025-08-20 19:51:03,686 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:03.689]   [SEARCH] Query: file reader
[19:51:03.690] 
[19:51:03.690] [TURN 2/10]
[19:51:03.690] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:04.533] 2025-08-20 19:51:04,533 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:04.534]   [SEARCH] Query: file_operations_reader
[19:51:04.534] 
[19:51:04.534] [TURN 2/10]
[19:51:04.538] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:07.325] 2025-08-20 19:51:07,324 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:07.326]   [PARSE] Found tool call: file_operations_reader
[19:51:07.326]   [EXECUTING] file_operations_reader
[19:51:07.327]     Result: SUCCESS
[19:51:07.327] 
[19:51:07.327] [TURN 3/10]
[19:51:07.328] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:12.886] 2025-08-20 19:51:12,885 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:12.888] 2025-08-20 19:51:12,887 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:12.889]   [SEARCH] Query: data_processing_parser
[19:51:12.889]   [SEARCH] Query: file reader
[19:51:12.890] 
[19:51:12.890] [TURN 2/10]
[19:51:12.890] 
[19:51:12.890] [TURN 4/10]
[19:51:12.890] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:12.891] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:18.356] 2025-08-20 19:51:18,356 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:18.356]   [PARSE] Found tool call: file_operations_reader
[19:51:18.356]   [EXECUTING] file_operations_reader
[19:51:18.357]     Result: FAILED - INVALID_INPUT: Input validation failed (expected: XML format)
[19:51:18.357] 
[19:51:18.357] [TURN 3/10]
[19:51:18.357] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:27.168] 2025-08-20 19:51:27,167 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:27.170]   [SEARCH] Query: file format converter
[19:51:27.171] 
[19:51:27.171] [TURN 4/10]
[19:51:27.172] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:28.446] 2025-08-20 19:51:28,446 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:28.447]   [PARSE] Found tool call: file_operations_reader
[19:51:28.447]   [EXECUTING] file_operations_reader
[19:51:28.447]     Result: SUCCESS
[19:51:28.447] 
[19:51:28.447] [TURN 3/10]
[19:51:28.448] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:30.850] 2025-08-20 19:51:30,850 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:30.852]   [PARSE] Found tool call: data_processing_parser
[19:51:30.852]   [EXECUTING] data_processing_parser
[19:51:30.853]     Result: FAILED - INVALID_INPUT: Input validation failed (expected: JSON format)
[19:51:30.853] 
[19:51:30.853] [TURN 5/10]
[19:51:30.854] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:32.912] 2025-08-20 19:51:32,912 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:32.916]   [SEARCH] Query: network_fetcher
[19:51:32.918] 
[19:51:32.918] [TURN 2/10]
[19:51:32.920] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:37.166] 2025-08-20 19:51:37,166 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:37.167]   [INFO] Tool info request: data_processing_parser
[19:51:37.167] 
[19:51:37.167] [TURN 4/10]
[19:51:37.167] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:38.334] 2025-08-20 19:51:38,334 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:38.335]   [PARSE] Fuzzy matched 'network_fetcher
[19:51:38.335] {
[19:51:38.335]   "source": "https://api.example.com/data",
[19:51:38.335]   "timeout": 30,
[19:51:38.335]   "retry_count": 3,
[19:51:38.335]   "options": {}
[19:51:38.335] }' to 'network_fetcher'
[19:51:38.335]   [EXECUTING] network_fetcher
[19:51:38.336]     Result: SUCCESS
[19:51:38.336] 
[19:51:38.336] [TURN 3/10]
[19:51:38.336] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:49.586] 2025-08-20 19:51:49,585 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:49.587]   [PARSE] Found tool call: file_operations_converter
[19:51:49.588]   [EXECUTING] file_operations_converter
[19:51:49.588]     Result: SUCCESS
[19:51:49.588] 
[19:51:49.588] [TURN 5/10]
[19:51:49.589] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:50.205] 2025-08-20 19:51:50,205 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:50.207]   [SEARCH] Query: data_processing_validator
[19:51:50.208] 
[19:51:50.208] [TURN 4/10]
[19:51:50.209] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:51:57.577] 2025-08-20 19:51:57,577 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:57.579]   [SEARCH] Query: file format checker
[19:51:58.069] 2025-08-20 19:51:58,069 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:51:58.070] 
[19:51:58.070] [TURN 6/10]
[19:51:58.071] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:52:06.076] 2025-08-20 19:52:06,076 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:06.080]   [PARSE] Found tool call: data_processing_parser
[19:52:06.080]   [EXECUTING] data_processing_parser
[19:52:06.081]     Result: SUCCESS
[19:52:06.081] 
[19:52:06.081] [TURN 5/10]
[19:52:06.082] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:52:09.723] 2025-08-20 19:52:09,723 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:09.727]   [SEARCH] Query: data validation
[19:52:09.729] 
[19:52:09.729] [TURN 2/10]
[19:52:09.729] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:52:12.243] 2025-08-20 19:52:12,243 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:12.246]   [PARSE] Found tool call: file_operations_reader
[19:52:12.246]   [EXECUTING] file_operations_reader
[19:52:12.246]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[19:52:12.246] 
[19:52:12.246] [TURN 6/10]
[19:52:12.247] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:52:20.268] 2025-08-20 19:52:20,267 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:20.270]   [INFO] Tool info request: data_processing_transformer
[19:52:20.271] 
[19:52:20.271] [TURN 6/10]
[19:52:20.272] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:52:21.136] 2025-08-20 19:52:21,132 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:21.137]   [INFO] Tool info request: data_processing_validator
[19:52:21.137] 
[19:52:21.137] [TURN 5/10]
[19:52:21.138] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:52:23.945] 2025-08-20 19:52:23,945 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:23.951]   [SEARCH] Query: xml file reader
[19:52:23.953] 
[19:52:23.953] [TURN 7/10]
[19:52:23.954] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:52:37.287] 2025-08-20 19:52:37,285 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:37.288]   [PARSE] Found tool call: file_operations_scanner
[19:52:37.289]   [EXECUTING] file_operations_scanner
[19:52:37.289]     Result: SUCCESS
[19:52:37.289] 
[19:52:37.289] [TURN 7/10]
[19:52:37.289] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:52:44.582] 2025-08-20 19:52:44,582 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:44.584]   [PARSE] Found tool call: file_operations_reader
[19:52:44.584]   [EXECUTING] file_operations_reader
[19:52:44.584]     [PENALTY] Recent failures: 1, success rate reduced
[19:52:44.584]     Result: SUCCESS
[19:52:44.584] 
[19:52:44.584] [TURN 8/10]
[19:52:44.585] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:52:49.623] 2025-08-20 19:52:49,622 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:49.626]   [SEARCH] Query: file format detector
[19:52:49.627] 
[19:52:49.627] [TURN 9/10]
[19:52:49.628] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:52:58.305] 2025-08-20 19:52:58,303 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:58.308]   [PARSE] Found tool call: data_processing_transformer
[19:52:58.308]   [EXECUTING] data_processing_transformer
[19:52:58.309]     Result: SUCCESS
[19:52:58.309] 
[19:52:58.309] [TURN 7/10]
[19:52:58.310] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:52:59.238] 2025-08-20 19:52:59,237 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:59.247]   [INFO] Tool info request: data_processing_parser
[19:52:59.247] 
[19:52:59.247] [TURN 6/10]
[19:52:59.249] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:53:00.651] 2025-08-20 19:53:00,645 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:00.652]   [INFO] Tool info request: data_processing_validator
[19:53:00.652] 
[19:53:00.652] [TURN 8/10]
[19:53:00.653] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:53:21.948] 2025-08-20 19:53:21,947 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:21.951]   [PARSE] Found tool call: data_processing_parser
[19:53:21.951]   [EXECUTING] data_processing_parser
[19:53:21.951]     [PENALTY] Recent failures: 2, success rate reduced
[19:53:21.951]     Result: FAILED - INVALID_INPUT: Input validation failed (expected: CSV format)
[19:53:21.951] 
[19:53:21.951] [TURN 8/10]
[19:53:21.954] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:53:25.730] 2025-08-20 19:53:25,729 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:25.731]   [SEARCH] Query: xml parser
[19:53:25.735] 
[19:53:25.735] [TURN 9/10]
[19:53:25.735] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:53:31.027] 2025-08-20 19:53:31,026 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:31.029]   [PARSE] Fuzzy matched 'data_processing_parser
[19:53:31.029] {
[19:53:31.029]   "source": "data/input.json",
[19:53:31.029]   "options": {}
[19:53:31.029] }' to 'data_processing_parser'
[19:53:31.029]   [EXECUTING] data_processing_parser
[19:53:31.029]     Result: SUCCESS
[19:53:31.029] 
[19:53:31.029] [TURN 7/10]
[19:53:31.030] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:53:46.750] 2025-08-20 19:53:46,749 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:46.752]   [SEARCH] Query: data validation
[19:53:46.752] 
[19:53:46.752] [TURN 3/10]
[19:53:46.753] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:54:01.892] 2025-08-20 19:54:01,892 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:54:01.895]   [PARSE] Found tool call: data_processing_validator
[19:54:01.895]   [EXECUTING] data_processing_validator
[19:54:01.895]     Result: FAILED - TIMEOUT: Operation timed out (after 16 seconds)
[19:54:01.895]   [CONTINUE] Required tools failed: ['data_processing_validator'], may retry
[19:54:01.895] 
[19:54:01.895] [TURN 9/10]
[19:54:01.898] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:54:05.485] 2025-08-20 19:54:05,485 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:54:05.486]   [PARSE] Found tool call: data_processing_validator
[19:54:05.487]   [EXECUTING] data_processing_validator
[19:54:05.487]     [PENALTY] Recent failures: 1, success rate reduced
[19:54:05.487]     Result: SUCCESS
[19:54:05.487] 
[19:54:05.487] [TURN 10/10]
[19:54:05.493] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:54:07.711] 2025-08-20 19:54:07,711 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:54:07.713]   [PARSE] Fuzzy matched 'data_processing_validator
[19:54:07.713] {
[19:54:07.713]   "schema": {"type": "object"},
[19:54:07.713]   "data": {"from_previous_step": "data_processing_parser_output"},
[19:54:07.713]   "options": {}
[19:54:07.713] }' to 'data_processing_parser'
[19:54:07.713]   [EXECUTING] data_processing_parser
[19:54:07.713]     Result: SUCCESS
[19:54:07.713] 
[19:54:07.713] [TURN 8/10]
[19:54:07.714] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:54:08.105] 2025-08-20 19:54:08,104 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:54:08.108]   [SEARCH] Query: file writer
[19:54:08.113] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:54:27.925] 2025-08-20 19:54:27,924 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:54:27.927]   [PARSE] Found tool call: data_processing_parser
[19:54:27.927]   [EXECUTING] data_processing_parser
[19:54:27.928]     Result: SUCCESS
[19:54:27.928] 
[19:54:27.928] [TURN 4/10]
[19:54:27.928] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:54:49.642] 2025-08-20 19:54:49,641 - openai._base_client - INFO - Retrying request to /chat/completions in 0.418769 seconds
[19:54:56.778] 2025-08-20 19:54:56,778 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:54:56.781]   [PARSE] Found tool call: file_operations_scanner
[19:54:56.781]   [EXECUTING] file_operations_scanner
[19:54:56.782]     [PENALTY] Recent failures: 1, success rate reduced
[19:54:56.783]     Result: SUCCESS
[19:54:56.783] 
[19:54:56.783] [TURN 10/10]
[19:54:56.784] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:55:00.998] 2025-08-20 19:55:00,987 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:00.998]   [SEARCH] Query: file format converter
[19:55:01.003] [DEBUG RAG] data_processing_filter semantically matched with data_processing_parser (score: 0.684)
[19:55:01.004] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:01.004] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[19:55:01.004] [AI_DEBUG] 生成的txt_content长度: 32561
[19:55:01.004] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:55:01.004]   - use_ai_classification=True
[19:55:01.004]   - ai_classifier=True
[19:55:01.004]   - txt_content_len=32561
[19:55:01.004]   - task_model=deepseek-r1-0528
[19:55:01.004] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:55:06.643] 2025-08-20 19:55:06,643 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:06.644]   [PARSE] Found tool call: data_processing_transformer
[19:55:06.644]   [EXECUTING] data_processing_transformer
[19:55:06.644]     [DEPENDENCY] Failed: data_processing_parser, success rate reduced
[19:55:06.644]     [PENALTY] Recent failures: 2, success rate reduced
[19:55:06.644]     Result: SUCCESS
[19:55:06.644] 
[19:55:06.644] [TURN 10/10]
[19:55:06.645] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:55:15.715] 2025-08-20 19:55:15,715 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:55:15.723] [AI_DEBUG] AI分类结果: category=sequence_order_errors, confidence=0.78
[19:55:26.128] 2025-08-20 19:55:26,127 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:26.132]   [SEARCH] Query: data filter
[19:55:26.136] [DEBUG RAG] data_processing_filter semantically matched with data_processing_transformer (score: 0.716)
[19:55:26.136] [DEBUG RAG] data_processing_filter semantically matched with data_processing_parser (score: 0.684)
[19:55:26.136] [DEBUG RAG] data_processing_validator semantically matched with data_processing_parser (score: 0.625)
[19:55:26.136] [DEBUG RAG] data_processing_validator semantically matched with data_processing_transformer (score: 0.617)
[19:55:26.137] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:26.137] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[19:55:26.138] [AI_DEBUG] 生成的txt_content长度: 32328
[19:55:26.138] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:55:26.138]   - use_ai_classification=True
[19:55:26.138]   - ai_classifier=True
[19:55:26.138]   - txt_content_len=32328
[19:55:26.138]   - task_model=deepseek-r1-0528
[19:55:26.138] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:55:37.161] 2025-08-20 19:55:37,160 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:55:37.166] [AI_DEBUG] AI分类结果: category=dependency_errors, confidence=0.85
[19:55:42.458] 2025-08-20 19:55:42,457 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:42.460]   [INFO] Tool info request: data_processing_validator
[19:55:42.460] 
[19:55:42.460] [TURN 5/10]
[19:55:42.462] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:56:07.721] 2025-08-20 19:56:07,721 - openai._base_client - INFO - Retrying request to /chat/completions in 0.495741 seconds
[19:56:24.588] 2025-08-20 19:56:24,586 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:56:24.589]   [PARSE] Found tool call: data_processing_validator
[19:56:24.589]   [EXECUTING] data_processing_validator
[19:56:24.590]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[19:56:24.590] 
[19:56:24.591] [TURN 6/10]
[19:56:24.591] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:56:34.739] 2025-08-20 19:56:34,738 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:56:34.749]   [FORMAT_ISSUE] Turn 8: Detected potential tool 't' in incorrect format; Detected potential tool 'a' in incorrect format; Detected potential tool 'd' in incorrect format
[19:56:34.749]   [FORMAT_ISSUE] Potential tools detected: ['t', 'a', 'd']
[19:56:34.749] 
[19:56:34.749] [TURN 9/10]
[19:56:34.750] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:56:40.030] 2025-08-20 19:56:40,030 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:56:40.032]   [INFO] Tool info request: data_processing_parser
[19:56:40.032] 
[19:56:40.032] [TURN 7/10]
[19:56:40.033] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:57:10.576] 2025-08-20 19:57:10,575 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:57:10.582]   [PARSE] Found tool call: data_processing_validator
[19:57:10.582]   [EXECUTING] data_processing_validator
[19:57:10.584]     Result: SUCCESS
[19:57:10.584] 
[19:57:10.584] [TURN 10/10]
[19:57:10.586] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:57:16.933] 2025-08-20 19:57:16,932 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:57:16.934]   [FORMAT_ISSUE] Turn 10: Detected potential tool 'd' in incorrect format; Detected potential tool 'd' in incorrect format; Detected potential tool 'd' in incorrect format; Detected potential tool 'd' in incorrect format
[19:57:16.934]   [FORMAT_ISSUE] Potential tools detected: ['d', 'd', 'd', 'd']
[19:57:16.934] [ASSISTED] Task received 2 format helps, final result: partial_success
[19:57:16.936] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:57:30.030] 2025-08-20 19:57:30,029 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:57:30.033]   [PARSE] Found tool call: data_processing_validator
[19:57:30.033]   [EXECUTING] data_processing_validator
[19:57:30.034]     Result: SUCCESS
[19:57:30.034] 
[19:57:30.034] [TURN 8/10]
[19:57:30.035] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:57:48.041] 2025-08-20 19:57:48,041 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:57:48.047]   [INFO] Tool info request: data_processing_transformer
[19:57:48.047] 
[19:57:48.047] [TURN 9/10]
[19:57:48.048] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:57:50.577] 2025-08-20 19:57:50,576 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:57:50.577]   [PARSE] Found tool call: data_processing_transformer
[19:57:50.577]   [EXECUTING] data_processing_transformer
[19:57:50.579]     [PENALTY] Recent failures: 1, success rate reduced
[19:57:50.579]     Result: FAILED - TIMEOUT: Operation timed out (after 13 seconds)
[19:57:50.579] 
[19:57:50.579] [TURN 10/10]
[19:57:50.586] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[19:57:59.517] 2025-08-20 19:57:59,517 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:57:59.519]   [PARSE] Found tool call: data_processing_transformer
[19:57:59.519]   [EXECUTING] data_processing_transformer
[19:57:59.519]     [PENALTY] Recent failures: 2, success rate reduced
[19:57:59.519]     Result: SUCCESS
[19:57:59.522] [DEBUG RAG] data_processing_filter semantically matched with data_processing_transformer (score: 0.716)
[19:57:59.522] [DEBUG RAG] data_processing_filter semantically matched with data_processing_parser (score: 0.684)
[19:57:59.522] [DEBUG RAG] data_processing_filter semantically matched with data_processing_validator (score: 0.628)
[19:57:59.524] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:57:59.524] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[19:57:59.524] [AI_DEBUG] 生成的txt_content长度: 23337
[19:57:59.524] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:57:59.524]   - use_ai_classification=True
[19:57:59.524]   - ai_classifier=True
[19:57:59.524]   - txt_content_len=23337
[19:57:59.524]   - task_model=deepseek-r1-0528
[19:57:59.524] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:58:12.695] 2025-08-20 19:58:12,694 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:58:12.697] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.85
[19:58:12.701] 
[19:58:12.701] [INFO] Batch writing 5 records to database (deepseek-r1-0528:5)
[19:58:12.702] 2025-08-20 19:58:12,701 - batch_test_runner - INFO - Batch writing 5 records to database (deepseek-r1-0528:5)
[19:58:12.703] [INFO] Successfully wrote 5/5 records (deepseek-r1-0528:5)
[19:58:12.703] 2025-08-20 19:58:12,703 - batch_test_runner - INFO - Successfully wrote 5/5 records (deepseek-r1-0528:5)
[19:58:12.704] [INFO] 数据已同步到Parquet存储
[19:58:12.704] 2025-08-20 19:58:12,704 - batch_test_runner - INFO - Database saved successfully
[19:58:12.705] 2025-08-20 19:58:12,704 - batch_test_runner - INFO - ============================================================
[19:58:12.705] 2025-08-20 19:58:12,705 - batch_test_runner - INFO - Batch test completed at 2025-08-20T19:58:12.705017
[19:58:12.705] 2025-08-20 19:58:12,705 - batch_test_runner - INFO - Summary:
[19:58:12.705] 2025-08-20 19:58:12,705 - batch_test_runner - INFO -   - Total tests: 5
[19:58:12.705] 2025-08-20 19:58:12,705 - batch_test_runner - INFO -   - Successful: 5
[19:58:12.705] 2025-08-20 19:58:12,705 - batch_test_runner - INFO -   - Failed: 0
[19:58:12.705] 2025-08-20 19:58:12,705 - batch_test_runner - INFO -   - Success rate: 100.0%
[19:58:12.705] 2025-08-20 19:58:12,705 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250820_195048.log
[19:58:12.705] 2025-08-20 19:58:12,705 - batch_test_runner - INFO - ============================================================
[19:58:12.706] 
[19:58:12.706] ✅ 批测试完成
[19:58:12.706]    成功: 5/5
[19:58:12.706]    失败: 0/5
[19:58:12.706] 
[19:58:12.706] 📤 最终保存5个测试结果...
[19:58:12.707] [DEBUG] 创建新的manager实例: key=True_
[19:58:12.707] ✅ 已保存 5 个测试结果到数据库
[19:58:12.837] [INFO] 已将 5 个汇总写入Parquet
[19:58:12.920] [INFO] 刷新manager缓存: key=True_

==================================================
分片 DeepSeek-R1-0528_easy_0 完成
退出码: 0
总行数: 678
运行时间: 448.9秒
时间: 2025-08-20T19:58:14.535231
