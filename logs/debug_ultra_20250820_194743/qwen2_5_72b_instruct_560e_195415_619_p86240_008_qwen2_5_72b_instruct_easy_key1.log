===== 分片 qwen2.5-72b-instruct_easy_key1 =====
时间: 2025-08-20T19:54:15.622302
模型: qwen2.5-72b-instruct
实例: qwen-key1
命令: python -u smart_batch_runner.py --model qwen2.5-72b-instruct --deployment qwen-key1 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[19:54:17.356] 2025-08-20 19:54:17,356 - faiss.loader - INFO - Loading faiss.
[19:54:17.370] 2025-08-20 19:54:17,370 - faiss.loader - INFO - Successfully loaded faiss.
[19:54:18.355] [INFO] 使用Parquet存储格式
[19:54:18.702] [INFO] 使用Parquet存储格式
[19:54:18.704] [INFO] 使用PARQUET存储格式
[19:54:18.704] 
[19:54:18.704] ============================================================
[19:54:18.704] 智能批测试: qwen2.5-72b-instruct (idealab)
[19:54:18.705] Prompt types: ['optimal']
[19:54:18.705] 难度: easy
[19:54:18.705] 目标: 每种配置 2 个实例
[19:54:18.705] ============================================================
[19:54:18.729] ○ simple_task         :   0/  2 已完成 (需要补充 2 个)
[19:54:18.733] ○ basic_task          :   0/  2 已完成 (需要补充 2 个)
[19:54:18.740] ○ data_pipeline       :   0/  2 已完成 (需要补充 2 个)
[19:54:18.744] ○ api_integration     :   0/  2 已完成 (需要补充 2 个)
[19:54:18.748] ○ multi_stage_pipeline:   0/  2 已完成 (需要补充 2 个)
[19:54:18.748] 
[19:54:18.748] ⏳ 需要运行 10 个新测试
[19:54:18.748] 
[19:54:18.748] ▶ 准备 simple_task (2 个实例)...
[19:54:18.748] 
[19:54:18.748] ▶ 准备 basic_task (2 个实例)...
[19:54:18.748] 
[19:54:18.748] ▶ 准备 data_pipeline (2 个实例)...
[19:54:18.748] 
[19:54:18.748] ▶ 准备 api_integration (2 个实例)...
[19:54:18.748] 
[19:54:18.748] ▶ 准备 multi_stage_pipeline (2 个实例)...
[19:54:18.748] 
[19:54:18.748] ▶ 开始执行 10 个测试...
[19:54:18.748] 📦 批量提交模式：每20个测试保存一次
[19:54:18.748] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[19:54:18.750] 2025-08-20 19:54:18,750 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[19:54:18.793] 2025-08-20 19:54:18,793 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[19:54:18.793] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x16f785f70>
[19:54:18.794] 2025-08-20 19:54:18,793 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[19:54:18.794] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[19:54:18.795] 2025-08-20 19:54:18,795 - batch_test_runner - INFO - ============================================================
[19:54:18.795] 2025-08-20 19:54:18,795 - batch_test_runner - INFO - Batch test runner initialized
[19:54:18.795] 2025-08-20 19:54:18,795 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[19:54:18.795] 2025-08-20 19:54:18,795 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_195418.log
[19:54:18.795] 2025-08-20 19:54:18,795 - batch_test_runner - INFO - ============================================================
[19:54:18.795] 2025-08-20 19:54:18,795 - batch_test_runner - INFO - Running 10 tests with 3 workers, QPS limit: 5.0
[19:54:18.795] 2025-08-20 19:54:18,795 - batch_test_runner - INFO - Initializing test components...
[19:54:19.098] 2025-08-20 19:54:19,098 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[19:54:19.098] 2025-08-20 19:54:19,098 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[19:54:19.098] 2025-08-20 19:54:19,098 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[19:54:19.098] [DEBUG] Creating new ToolCapabilityManager instance
[19:54:19.098] [OperationEmbeddingIndex] Initializing with unified API client manager
[19:54:19.098] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[19:54:19.102] 2025-08-20 19:54:19,102 - api_client_manager - INFO - Loaded configuration from config/config.json
[19:54:19.108] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[19:54:19.108] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[19:54:19.108] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[19:54:20.070] 2025-08-20 19:54:20,070 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:54:20.072] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[19:54:20.133] [INFO] Loaded 4150 embeddings from persistent cache
[19:54:20.133] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[19:54:20.136] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[19:54:20.136] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[19:54:20.136] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[19:54:20.142] [INFO] Successfully loaded FAISS index with dimension 3072
[19:54:20.142] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[19:54:20.142] [INFO] Loaded 15 operations with dimension 3072
[19:54:20.142] [INFO] Successfully loaded cached index
[19:54:20.142] [INFO] Operation semantic index initialized
[19:54:20.142] [INFO] Using device: cpu
[19:54:20.142] [INFO] Initialized tool success tracking attributes
[19:54:20.142] [INFO] Initializing embedding manager for enhanced tool selection
[19:54:20.142] [MCPEmbeddingManager] Creating new singleton instance
[19:54:20.142] [MCPEmbeddingManager] Initializing with unified API client manager
[19:54:20.156] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[19:54:20.156] [MCPEmbeddingManager] Client initialized successfully
[19:54:20.156] 2025-08-20 19:54:20,156 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[19:54:20.267] 2025-08-20 19:54:20,267 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[19:54:20.507] 2025-08-20 19:54:20,507 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[19:54:20.507] 2025-08-20 19:54:20,507 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[19:54:20.530] 2025-08-20 19:54:20,530 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[19:54:20.593] 2025-08-20 19:54:20,593 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[19:54:20.933] 2025-08-20 19:54:20,933 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[19:54:20.933] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[19:54:20.933] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[19:54:20.933] 2025-08-20 19:54:20,933 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:54:21.260] 2025-08-20 19:54:21,260 - mcp_embedding_manager - INFO - FAISS index loaded
[19:54:21.260] 2025-08-20 19:54:21,260 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:54:21.260] 2025-08-20 19:54:21,260 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:54:21.263] [SUCCESS] Loaded 30 tool embeddings
[19:54:21.263] 2025-08-20 19:54:21,262 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[19:54:21.263] [SUCCESS] Embedding manager initialized with 30 tools
[19:54:21.263] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[19:54:21.263] [INFO] Loading full MCP protocol registry...
[19:54:21.263] 2025-08-20 19:54:21,263 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:54:21.263] [INFO] Loaded full tool registry with 30 tools
[19:54:21.263] 2025-08-20 19:54:21,263 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[19:54:21.263] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[19:54:21.264] [INFO] Embedding manager ready with 30 tools
[19:54:21.264] [WARNING] Embedding manager exists but has no embeddings
[19:54:21.264] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[19:54:21.264] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[19:54:21.264] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[19:54:21.264] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:54:21.264] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[19:54:21.264] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[19:54:21.264] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:54:21.264] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:54:21.264] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:54:21.264] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:54:21.264] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[19:54:21.264] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:54:21.264] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:54:21.264] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[19:54:21.264] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[19:54:21.264] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[19:54:21.264] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:54:21.264] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:54:21.264] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:54:21.264] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[19:54:21.264] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[19:54:21.264] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[19:54:21.264] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[19:54:21.265] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[19:54:21.265] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[19:54:21.265] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[19:54:21.265] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[19:54:21.265] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[19:54:21.265] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[19:54:21.265] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[19:54:21.265] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[19:54:21.265] 2025-08-20 19:54:21,265 - mdp_workflow_generator - INFO - Loaded 30 tools
[19:54:21.265] [INFO] Setting default state_dim based on loaded tools
[19:54:21.265] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[19:54:21.265] 2025-08-20 19:54:21,265 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[19:54:21.265] [INFO] Setting default action_dim based on loaded tools
[19:54:21.265] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[19:54:21.265] 2025-08-20 19:54:21,265 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[19:54:21.265] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[19:54:21.265] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[19:54:21.265] [INFO] ⚡ Will use pre-generated workflows or random policy
[19:54:21.265] 2025-08-20 19:54:21,265 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[19:54:21.265] [INFO] Initializing TaskManager...
[19:54:22.286] 2025-08-20 19:54:22,286 - unified_training_manager - INFO - Using device: cpu
[19:54:22.391] 2025-08-20 19:54:22,391 - unified_training_manager - INFO - Task filtering results:
[19:54:22.391] 2025-08-20 19:54:22,391 - unified_training_manager - INFO -   Total: 5040 -> 5040
[19:54:22.391] 2025-08-20 19:54:22,391 - unified_training_manager - INFO -   simple_task: 320 -> 320
[19:54:22.391] 2025-08-20 19:54:22,391 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[19:54:22.391] 2025-08-20 19:54:22,391 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[19:54:22.391] 2025-08-20 19:54:22,391 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[19:54:22.392] 2025-08-20 19:54:22,391 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[19:54:22.392] 2025-08-20 19:54:22,391 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[19:54:22.395] 2025-08-20 19:54:22,395 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[19:54:22.395] [TaskManager] Difficulty level 'easy': 1096 tasks
[19:54:22.395] [TaskManager] Difficulty level 'very_easy': 856 tasks
[19:54:22.395] [TaskManager] Difficulty level 'medium': 1136 tasks
[19:54:22.395] [TaskManager] Difficulty level 'hard': 1096 tasks
[19:54:22.395] [TaskManager] Difficulty level 'very_hard': 856 tasks
[19:54:22.397] [INFO] TaskManager initialized with 5040 tasks
[19:54:22.397] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[19:54:22.397] [INFO] Initializing ToolCallVerifier...
[19:54:22.398] [INFO] ToolCallVerifier initialized with 30 tools
[19:54:22.398] [INFO] Output tools identified: 1
[19:54:22.398] [INFO] Component initialization status:
[19:54:22.398]   - embedding_manager: initialized
[19:54:22.398]   - task_manager: initialized
[19:54:22.398]   - output_verifier: initialized
[19:54:22.398]   - tool_capability_manager: initialized
[19:54:22.398]   - tool_success_rates: initialized with 0 entries
[19:54:22.398] [INFO] MDPWorkflowGenerator initialization complete
[19:54:22.398] 2025-08-20 19:54:22,398 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[19:54:22.398] 2025-08-20 19:54:22,398 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[19:54:22.398] 2025-08-20 19:54:22,398 - batch_test_runner - INFO -   - task_manager: ✓
[19:54:22.398] 2025-08-20 19:54:22,398 - batch_test_runner - INFO -   - output_verifier: ✓
[19:54:22.398] 2025-08-20 19:54:22,398 - batch_test_runner - INFO -   - embedding_manager: ✓
[19:54:22.398] 2025-08-20 19:54:22,398 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[19:54:22.398] 2025-08-20 19:54:22,398 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[19:54:22.398] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:54:22.398] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:54:22.398] [FlawedWorkflowGenerator] Initialized with 30 tools
[19:54:22.398] [FlawedWorkflowGenerator] RAG support: disabled
[19:54:22.398] DEBUG: Checking generator attributes
[19:54:22.398]   - has tool_capabilities: True
[19:54:22.398]   - has tool_capability_manager: True
[19:54:22.398]   - has task_manager: True
[19:54:22.398] [INFO] Loaded 30 tools from generator
[19:54:22.398] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[19:54:22.398] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:54:22.398] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:54:22.398] [INFO] Initializing LLM client using APIClientManager
[19:54:22.405] [INFO] Using Azure OpenAI client
[19:54:22.405] [DEBUG] Checking if generator has tool_capability_manager attribute
[19:54:22.405] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[19:54:22.405] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:54:22.405] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:54:22.405] [FlawedWorkflowGenerator] Initialized with 30 tools
[19:54:22.405] [FlawedWorkflowGenerator] RAG support: enabled
[19:54:22.405] [INFO] FlawedWorkflowGenerator initialized successfully
[19:54:22.405] [INFO] Initializing StableScorer for Phase 2 scoring
[19:54:22.405] <tool_capability_manager.ToolCapabilityManager object at 0x3167ceed0>
[19:54:22.405] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:54:22.405] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:54:22.405] [INFO] Loaded tool success history for 0 tools
[19:54:22.405] [INFO] StableScorer initialized with semantic capability
[19:54:22.405] [INFO] StableScorer initialized successfully
[19:54:22.405] [INFO] Loading task instances...
[19:54:22.405] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[19:54:22.411] [INFO] Loaded 630 task instances
[19:54:22.411] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[19:54:22.411] 2025-08-20 19:54:22,411 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[19:54:22.411] 2025-08-20 19:54:22,411 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[19:54:22.721] 2025-08-20 19:54:22,721 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[19:54:22.721] 2025-08-20 19:54:22,721 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[19:54:22.737] 2025-08-20 19:54:22,737 - batch_test_runner - INFO - Initialization complete
[19:54:22.780] 2025-08-20 19:54:22,780 - batch_test_runner - INFO - Starting batch test with 10 tasks, 3 workers
[19:54:22.780] 2025-08-20 19:54:22,780 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[19:54:22.780] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:54:22.782] 2025-08-20 19:54:22,781 - smart_model_router - INFO - Using idealab for qwen2.5-72b-instruct
[19:54:22.807] 2025-08-20 19:54:22,807 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:54:22.807] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:54:22.807] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:54:22.808] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:54:22.808] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:54:22.808] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:54:22.809] 2025-08-20 19:54:22,808 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:54:23.107] 2025-08-20 19:54:23,107 - mcp_embedding_manager - INFO - FAISS index loaded
[19:54:23.107] 2025-08-20 19:54:23,107 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:54:23.107] 2025-08-20 19:54:23,107 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:54:23.110] [INFO] Tool embedding index loaded successfully
[19:54:23.110] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:54:23.110] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:54:23.110] [INFO] Operation semantic index initialized
[19:54:23.111] 
[19:54:23.111] [TURN 1/10]
[19:54:23.111] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:23.118] 2025-08-20 19:54:23,118 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:54:23.118] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:54:23.118] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:54:23.119] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:54:23.119] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:54:23.119] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:54:23.119] 2025-08-20 19:54:23,119 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:54:23.135] 2025-08-20 19:54:23,135 - mcp_embedding_manager - INFO - FAISS index loaded
[19:54:23.135] 2025-08-20 19:54:23,135 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:54:23.135] 2025-08-20 19:54:23,135 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:54:23.138] [INFO] Tool embedding index loaded successfully
[19:54:23.138] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:54:23.138] [INFO] Operation semantic index initialized
[19:54:23.138] 
[19:54:23.139] [TURN 1/10]
[19:54:23.139] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:23.304] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:54:23.313] 2025-08-20 19:54:23,313 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:54:23.313] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:54:23.313] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:54:23.314] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:54:23.315] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:54:23.315] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:54:23.315] 2025-08-20 19:54:23,315 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:54:23.337] 2025-08-20 19:54:23,337 - mcp_embedding_manager - INFO - FAISS index loaded
[19:54:23.337] 2025-08-20 19:54:23,337 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:54:23.337] 2025-08-20 19:54:23,337 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:54:23.340] [INFO] Tool embedding index loaded successfully
[19:54:23.342] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:54:23.342] [INFO] Operation semantic index initialized
[19:54:23.343] 
[19:54:23.343] [TURN 1/10]
[19:54:23.344] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:23.858] 2025-08-20 19:54:23,857 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:23.860] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a5dbf256-60d3-964c-837f-381f8f47fbb3"}, traceId: 215040cc17557448635961198ed562'}
[19:54:23.860] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[19:54:23.910] 2025-08-20 19:54:23,909 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:23.911] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3ed41479-6510-9d72-80fa-2b868a435770"}, traceId: 215045a817557448636561216e7f4f'}
[19:54:23.911] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[19:54:24.068] 2025-08-20 19:54:24,068 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:24.071] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"eb97368c-680e-9858-b263-ca031cdf00e7"}, traceId: 215044eb17557448638641765e815e'}
[19:54:24.071] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[19:54:25.408] 2025-08-20 19:54:25,407 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:25.409] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fe01055d-7788-923d-a5f9-be735e2ff144"}, traceId: 215040cc17557448651271212ed562'}
[19:54:25.409] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[19:54:25.451] 2025-08-20 19:54:25,450 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:25.454] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f67b1268-8aef-99f1-86ac-757d12fe83ed"}, traceId: 215044eb17557448652431768e815e'}
[19:54:25.454] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[19:54:25.678] 2025-08-20 19:54:25,677 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:25.680] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f4d34718-69d3-974b-9b49-37f68c078570"}, traceId: 215045a817557448654031227e7f4f'}
[19:54:25.680] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[19:54:27.064] 2025-08-20 19:54:27,064 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:27.065] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b7418ad4-cac6-9243-b859-0d27f24c6b1f"}, traceId: 215040cc17557448668431218ed562'}
[19:54:27.065] [RETRY] 400 error detected, waiting 2.4s before retry (not counting as turn)...
[19:54:27.774] 2025-08-20 19:54:27,773 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:27.777] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7bed45e9-7e0b-9206-a1ba-b07f0d1cbced"}, traceId: 215044eb17557448675061777e815e'}
[19:54:27.777] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[19:54:28.665] 2025-08-20 19:54:28,664 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:28.669]   [SEARCH] Query: data validation
[19:54:28.669] 
[19:54:28.669] [TURN 2/10]
[19:54:28.670] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:29.000] 2025-08-20 19:54:28,999 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:29.000] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7f3966d3-33ca-9884-9c6a-d32b4c91a436"}, traceId: 215045a817557448687711237e7f4f'}
[19:54:29.000] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[19:54:29.788] 2025-08-20 19:54:29,788 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:29.789] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d6dd96cb-ea4f-958d-95fe-523fc706a10a"}, traceId: 215040cc17557448695901240ed562'}
[19:54:29.789] [RETRY] 400 error detected, waiting 3.2s before retry (not counting as turn)...
[19:54:30.269] 2025-08-20 19:54:30,268 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:30.272]   [SEARCH] Query: file reader
[19:54:30.273] 
[19:54:30.273] [TURN 2/10]
[19:54:30.275] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:30.670] 2025-08-20 19:54:30,670 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:30.674] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"839347a5-72f2-90e6-814a-928d0370c349"}, traceId: 215044eb17557448703821792e815e'}
[19:54:30.674] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[19:54:31.421] 2025-08-20 19:54:31,421 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:31.425]   [INFO] Tool info request: data_processing_validator
[19:54:31.425] 
[19:54:31.425] [TURN 3/10]
[19:54:31.426] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:31.751] 2025-08-20 19:54:31,751 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:31.755] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2a4e8241-39f2-9232-9bd9-1de248e2692c"}, traceId: 215045a817557448715291250e7f4f'}
[19:54:31.755] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[19:54:32.034] 2025-08-20 19:54:32,033 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:32.037] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6cd70d49-b23e-915e-8e7c-8d2039fbb78b"}, traceId: 215044eb17557448717661802e815e'}
[19:54:32.038] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[19:54:32.828] 2025-08-20 19:54:32,828 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:32.831] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d06eb647-9d3c-926c-861a-8a95796d7eab"}, traceId: 215045a817557448726211253e7f4f'}
[19:54:32.832] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[19:54:33.733] 2025-08-20 19:54:33,733 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:33.736] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8e098caa-a505-91e7-bc65-7639e73b72a7"}, traceId: 215044eb17557448734641804e815e'}
[19:54:33.736] [RETRY] 400 error detected, waiting 2.5s before retry (not counting as turn)...
[19:54:34.432] 2025-08-20 19:54:34,431 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:34.439]   [SEARCH] Query: data processing validator
[19:54:34.440] 
[19:54:34.440] [TURN 2/10]
[19:54:34.458] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:35.493] 2025-08-20 19:54:35,493 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:35.494]   [INFO] Tool info request: data_processing_validator
[19:54:35.494] 
[19:54:35.494] [TURN 3/10]
[19:54:35.494] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:35.973] 2025-08-20 19:54:35,973 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:35.976]   [EARLY_EXIT] No actions taken, continuing...
[19:54:35.976] 
[19:54:35.976] [TURN 4/10]
[19:54:35.977] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:36.471] 2025-08-20 19:54:36,471 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:36.472]   [EARLY_EXIT] No actions taken, continuing...
[19:54:36.472] 
[19:54:36.472] [TURN 4/10]
[19:54:36.472] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:37.050] 2025-08-20 19:54:37,050 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:37.055]   [EARLY_EXIT] No actions taken, continuing...
[19:54:37.055] 
[19:54:37.055] [TURN 5/10]
[19:54:37.055] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:37.071] 2025-08-20 19:54:37,071 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:37.075]   [EARLY_EXIT] No actions taken, continuing...
[19:54:37.075] 
[19:54:37.075] [TURN 3/10]
[19:54:37.080] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:37.156] 2025-08-20 19:54:37,156 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:37.157]   [EARLY_EXIT] No actions taken, continuing...
[19:54:37.157] 
[19:54:37.157] [TURN 5/10]
[19:54:37.157] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:37.536] 2025-08-20 19:54:37,536 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:37.536] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1cb6fb7a-61c1-9cd8-a5de-64c1a38bb51b"}, traceId: 215040cc17557448772591279ed562'}
[19:54:37.536] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[19:54:38.061] 2025-08-20 19:54:38,061 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:38.064]   [EARLY_EXIT] No actions taken, continuing...
[19:54:38.064] 
[19:54:38.064] [TURN 4/10]
[19:54:38.064] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:38.375] 2025-08-20 19:54:38,375 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:38.378]   [INFO] Tool info request: data_processing_parser
[19:54:38.379] 
[19:54:38.379] [TURN 6/10]
[19:54:38.379] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:38.630] 2025-08-20 19:54:38,630 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:38.635] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"81c53da7-ac46-9790-869d-57ab07dc4d25"}, traceId: 215040cc17557448783941288ed562'}
[19:54:38.635] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[19:54:38.703] 2025-08-20 19:54:38,702 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:38.706] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e1cec2bc-589c-9500-a3bc-af8df2178cc1"}, traceId: 215045a817557448784811298e7f4f'}
[19:54:38.706] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[19:54:39.053] 2025-08-20 19:54:39,052 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:39.056]   [EARLY_EXIT] No actions taken, continuing...
[19:54:39.056] 
[19:54:39.056] [TURN 5/10]
[19:54:39.059] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:39.978] 2025-08-20 19:54:39,978 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:39.981]   [EARLY_EXIT] No actions taken, continuing...
[19:54:39.981] 
[19:54:39.981] [TURN 6/10]
[19:54:39.982] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:40.016] 2025-08-20 19:54:40,016 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:40.020] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"008d3cdc-b03d-9225-8554-03a2c8f52262"}, traceId: 215045a817557448797541337e7f4f'}
[19:54:40.020] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[19:54:40.784] 2025-08-20 19:54:40,784 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:40.784] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"09da30b2-9182-926e-b60a-9b84bdc05e68"}, traceId: 215040cc17557448805161339ed562'}
[19:54:40.784] [RETRY] 400 error detected, waiting 2.4s before retry (not counting as turn)...
[19:54:40.845] 2025-08-20 19:54:40,845 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:40.846]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[19:54:40.846] 
[19:54:40.846] [TURN 7/10]
[19:54:40.850] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:41.221] 2025-08-20 19:54:41,221 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:41.224] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"556d64f2-3bdf-9d7e-9d6b-5985a3c53e93"}, traceId: 215044eb17557448809521910e815e'}
[19:54:41.225] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[19:54:41.752] 2025-08-20 19:54:41,752 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:41.755] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"362b75d2-21d9-9d97-bf2d-c11c86cf7ab2"}, traceId: 215045a817557448814581384e7f4f'}
[19:54:41.755] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[19:54:42.807] 2025-08-20 19:54:42,807 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:42.808]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[19:54:42.808] 
[19:54:42.808] [TURN 8/10]
[19:54:42.825] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:43.156] 2025-08-20 19:54:43,155 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:43.158] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cb8ccaca-fd0e-9df4-8f98-3c2c82702e34"}, traceId: 215044eb17557448829301936e815e'}
[19:54:43.158] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[19:54:43.560] 2025-08-20 19:54:43,559 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:43.560] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"671154f1-1746-9999-afdf-88d556ec3ecb"}, traceId: 215040cc17557448832961407ed562'}
[19:54:43.560] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[19:54:43.568] 2025-08-20 19:54:43,568 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:43.571] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"617c0ab0-1c5f-96bb-82e1-b97a5c7af88e"}, traceId: 215045a817557448833341414e7f4f'}
[19:54:43.571] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[19:54:44.539] 2025-08-20 19:54:44,539 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:44.541] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9e56fe40-bb06-9b49-b860-7a22f0392abc"}, traceId: 215044eb17557448842911945e815e'}
[19:54:44.542] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[19:54:45.955] 2025-08-20 19:54:45,955 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:45.956] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"98538f61-61ca-92e0-bf2b-d1450f9881f9"}, traceId: 215040cc17557448856821450ed562'}
[19:54:45.956] [ERROR] Max retries reached after 5 attempts
[19:54:45.956] [API_FAILURE] All retries exhausted
[19:54:45.956]   [API_FAILURE] API failed (timeout or max retries)
[19:54:45.960] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:54:45.960] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:54:45.960] [AI_DEBUG] 生成的txt_content长度: 9876
[19:54:45.960] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:54:45.960]   - use_ai_classification=True
[19:54:45.960]   - ai_classifier=True
[19:54:45.960]   - txt_content_len=9876
[19:54:45.960]   - task_model=qwen2.5-72b-instruct
[19:54:45.960] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:54:45.964] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:54:45.978] 2025-08-20 19:54:45,978 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:54:45.978] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:54:45.979] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:54:45.980] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:54:45.980] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:54:45.980] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:54:45.980] 2025-08-20 19:54:45,980 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:54:46.008] 2025-08-20 19:54:46,008 - mcp_embedding_manager - INFO - FAISS index loaded
[19:54:46.008] 2025-08-20 19:54:46,008 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:54:46.009] 2025-08-20 19:54:46,008 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:54:46.011] [INFO] Tool embedding index loaded successfully
[19:54:46.018] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:54:46.018] [INFO] Operation semantic index initialized
[19:54:46.018] 
[19:54:46.018] [TURN 1/10]
[19:54:46.018] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:46.070] 2025-08-20 19:54:46,070 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:46.073] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a1117293-a51c-9053-8f97-d8f3510ea5f2"}, traceId: 215045a817557448857951425e7f4f'}
[19:54:46.073] [ERROR] Max retries reached after 5 attempts
[19:54:46.073] [API_FAILURE] All retries exhausted
[19:54:46.073]   [API_FAILURE] API failed (timeout or max retries)
[19:54:46.074] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:54:46.083] 2025-08-20 19:54:46,083 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:54:46.083] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:54:46.083] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:54:46.084] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:54:46.084] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:54:46.084] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:54:46.084] 2025-08-20 19:54:46,084 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:54:46.107] 2025-08-20 19:54:46,107 - mcp_embedding_manager - INFO - FAISS index loaded
[19:54:46.107] 2025-08-20 19:54:46,107 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:54:46.107] 2025-08-20 19:54:46,107 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:54:46.109] [INFO] Tool embedding index loaded successfully
[19:54:46.110] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:54:46.110] [INFO] Operation semantic index initialized
[19:54:46.110] 
[19:54:46.110] [TURN 1/10]
[19:54:46.110] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:46.195] 2025-08-20 19:54:46,195 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:46.199] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d252d7f4-ed69-9b7c-a1bf-8faac1b6e583"}, traceId: 215044eb17557448859231954e815e'}
[19:54:46.199] [RETRY] 400 error detected, waiting 2.9s before retry (not counting as turn)...
[19:54:46.847] 2025-08-20 19:54:46,843 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:46.847] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"eca072a0-ba2d-910f-99e0-7e27006bf661"}, traceId: 213e065e17557448865691671e7e8a'}
[19:54:46.847] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[19:54:46.935] 2025-08-20 19:54:46,935 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:46.936] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e1921c3e-5167-9692-a9b3-92f96b6073ff"}, traceId: 213e00cd17557448866551515e9761'}
[19:54:46.936] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[19:54:48.560] 2025-08-20 19:54:48,560 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:48.561] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"158107b1-d82b-97fb-8d84-b0a71819ac8a"}, traceId: 213e065e17557448883391679e7e8a'}
[19:54:48.561] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[19:54:48.711] 2025-08-20 19:54:48,711 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:48.711] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d712dc89-52b9-99e8-a32c-ad833aff6eb4"}, traceId: 213e00cd17557448884411519e9761'}
[19:54:48.711] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[19:54:49.753] 2025-08-20 19:54:49,752 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:49.756]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[19:54:49.756] 
[19:54:49.756] [TURN 9/10]
[19:54:49.757] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:50.088] 2025-08-20 19:54:50,088 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:50.089] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"16a8a9d4-5a7b-9564-be8a-1c31fcaaa4fc"}, traceId: 215044eb17557448898631978e815e'}
[19:54:50.089] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[19:54:50.910] 2025-08-20 19:54:50,910 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:50.911] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5f92c95a-9721-93e9-bb5d-b3adbc6680a0"}, traceId: 213e00cd17557448906441530e9761'}
[19:54:50.911] [RETRY] 400 error detected, waiting 2.8s before retry (not counting as turn)...
[19:54:50.970] 2025-08-20 19:54:50,970 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:50.971] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"393411d2-0f1e-9199-9441-1f966f6178e3"}, traceId: 213e065e17557448906961689e7e8a'}
[19:54:50.971] [RETRY] 400 error detected, waiting 3.2s before retry (not counting as turn)...
[19:54:51.439] 2025-08-20 19:54:51,438 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:51.440] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"06b38dab-30f1-923c-97b5-ea3a2129757b"}, traceId: 215044eb17557448911761985e815e'}
[19:54:51.441] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[19:54:53.448] 2025-08-20 19:54:53,447 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:53.450] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7dab4ae6-750c-9a90-9121-0eaa1fe3a317"}, traceId: 215044eb17557448932331999e815e'}
[19:54:53.450] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[19:54:54.094] 2025-08-20 19:54:54,094 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:54.094] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"523ac91f-dfe7-90ac-9976-ff26fc02f144"}, traceId: 213e00cd17557448938811545e9761'}
[19:54:54.094] [RETRY] 400 error detected, waiting 4.4s before retry (not counting as turn)...
[19:54:54.567] 2025-08-20 19:54:54,567 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:54.567] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f0ab4ae5-934e-9c6d-ab95-e2825291b52b"}, traceId: 213e065e17557448942811733e7e8a'}
[19:54:54.567] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[19:54:55.843] 2025-08-20 19:54:55,843 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:54:55.846]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[19:54:55.846] 
[19:54:55.846] [TURN 10/10]
[19:54:55.847] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:55.923] 2025-08-20 19:54:55,923 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:54:55.925] [AI_DEBUG] AI分类结果: category=dependency_errors, confidence=0.82
[19:54:55.927] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:54:55.927] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:54:55.927] [AI_DEBUG] 生成的txt_content长度: 10990
[19:54:55.927] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:54:55.927]   - use_ai_classification=True
[19:54:55.927]   - ai_classifier=True
[19:54:55.927]   - txt_content_len=10990
[19:54:55.927]   - task_model=qwen2.5-72b-instruct
[19:54:55.927] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:54:56.163] 2025-08-20 19:54:56,162 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:56.166] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f8dfa552-f6a8-90e0-9b35-c568a7aa94a3"}, traceId: 215044eb17557448959542009e815e'}
[19:54:56.166] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[19:54:57.040] 2025-08-20 19:54:57,040 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:57.040] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"99ffcd5d-7b7a-95a1-b049-1f0562031484"}, traceId: 213e065e17557448968051781e7e8a'}
[19:54:57.040] [ERROR] Max retries reached after 5 attempts
[19:54:57.040] [API_FAILURE] All retries exhausted
[19:54:57.041]   [API_FAILURE] API failed (timeout or max retries)
[19:54:57.043] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:54:57.058] 2025-08-20 19:54:57,058 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:54:57.059] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:54:57.059] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:54:57.060] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:54:57.060] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:54:57.060] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:54:57.060] 2025-08-20 19:54:57,060 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:54:57.085] 2025-08-20 19:54:57,085 - mcp_embedding_manager - INFO - FAISS index loaded
[19:54:57.085] 2025-08-20 19:54:57,085 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:54:57.085] 2025-08-20 19:54:57,085 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:54:57.087] [INFO] Tool embedding index loaded successfully
[19:54:57.088] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:54:57.088] [INFO] Operation semantic index initialized
[19:54:57.088] 
[19:54:57.088] [TURN 1/10]
[19:54:57.089] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:57.276] 2025-08-20 19:54:57,275 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:57.284] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"b50e277b-6574-93a3-b637-9c741b025bc9"}, traceId: 215044eb17557448970352018e815e'}
[19:54:57.285] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[19:54:57.912] 2025-08-20 19:54:57,912 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:57.913] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"84334e23-c860-9818-8c8f-3740fec67bb9"}, traceId: 213e060a17557448976484670e8a22'}
[19:54:57.913] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[19:54:58.943] 2025-08-20 19:54:58,942 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:58.944] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"aaff598d-4dd8-95f3-a632-315ca85c88e0"}, traceId: 213e00cd17557448986381561e9761'}
[19:54:58.944] [ERROR] Max retries reached after 5 attempts
[19:54:58.944] [API_FAILURE] All retries exhausted
[19:54:58.944]   [API_FAILURE] API failed (timeout or max retries)
[19:54:58.946] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:54:58.959] 2025-08-20 19:54:58,959 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:54:58.959] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:54:58.959] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:54:58.960] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:54:58.960] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:54:58.960] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:54:58.960] 2025-08-20 19:54:58,960 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:54:58.985] 2025-08-20 19:54:58,985 - mcp_embedding_manager - INFO - FAISS index loaded
[19:54:58.985] 2025-08-20 19:54:58,985 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:54:58.985] 2025-08-20 19:54:58,985 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:54:58.988] [INFO] Tool embedding index loaded successfully
[19:54:58.989] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:54:58.989] [INFO] Operation semantic index initialized
[19:54:58.989] 
[19:54:58.989] [TURN 1/10]
[19:54:58.990] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:54:59.730] 2025-08-20 19:54:59,730 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:59.730] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"697a16b5-0dcd-92ec-aa50-5abad084eba2"}, traceId: 213e060a17557448994994680e8a22'}
[19:54:59.730] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[19:54:59.789] 2025-08-20 19:54:59,788 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:59.791] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a31a6172-ae4d-9dd4-be11-07916b82e8ec"}, traceId: 215044eb17557448995692053e815e'}
[19:54:59.792] [RETRY] 400 error detected, waiting 3.1s before retry (not counting as turn)...
[19:54:59.864] 2025-08-20 19:54:59,864 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:54:59.867] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d8fcb6b5-e737-9ab9-b936-582d6372dab1"}, traceId: 213e043a17557448995805508e1f64'}
[19:54:59.867] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[19:55:01.496] 2025-08-20 19:55:01,496 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:01.499] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f4c097c1-c5bb-964b-b42f-a54dcb6b9e3a"}, traceId: 213e043a17557449012135525e1f64'}
[19:55:01.499] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[19:55:02.159] 2025-08-20 19:55:02,159 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:02.161] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8348031a-e513-9493-99b6-782fc4074dc5"}, traceId: 213e060a17557449018794708e8a22'}
[19:55:02.161] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[19:55:03.144] 2025-08-20 19:55:03,143 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:03.146] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"58f39c13-71d3-9e29-a561-50c24a3adeeb"}, traceId: 213e043a17557449028665545e1f64'}
[19:55:03.146] [RETRY] 400 error detected, waiting 2.3s before retry (not counting as turn)...
[19:55:03.862] 2025-08-20 19:55:03,861 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:03.864]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[19:55:03.864] [ASSISTED] Task received 5 format helps, final result: failure
[19:55:03.865] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:55:03.877] 2025-08-20 19:55:03,877 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:55:03.877] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:55:03.877] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:55:03.878] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:55:03.878] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:55:03.878] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:55:03.878] 2025-08-20 19:55:03,878 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:55:03.903] 2025-08-20 19:55:03,903 - mcp_embedding_manager - INFO - FAISS index loaded
[19:55:03.903] 2025-08-20 19:55:03,903 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:55:03.903] 2025-08-20 19:55:03,903 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:55:03.906] [INFO] Tool embedding index loaded successfully
[19:55:03.909] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:55:03.910] [INFO] Operation semantic index initialized
[19:55:03.910] 
[19:55:03.910] [TURN 1/10]
[19:55:03.910] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:04.039] 2025-08-20 19:55:04,039 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:04.039] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4c79d5cd-a54f-9273-a5a8-7e230e9effc3"}, traceId: 213e060a17557449038044746e8a22'}
[19:55:04.039] [RETRY] 400 error detected, waiting 4.1s before retry (not counting as turn)...
[19:55:04.773] 2025-08-20 19:55:04,772 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:04.774] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"83eb23f2-76e4-9db8-a667-cc732f4923f1"}, traceId: 213e006817557449044902320ee605'}
[19:55:04.774] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[19:55:05.650] 2025-08-20 19:55:05,650 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:05.654] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fc858089-33d0-9f80-aedc-cd37868143fa"}, traceId: 213e006817557449054332336ee605'}
[19:55:05.654] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[19:55:05.860] 2025-08-20 19:55:05,860 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:05.864] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f1e255a6-c49b-91b8-abdb-88c1b229e2d7"}, traceId: 213e043a17557449055535595e1f64'}
[19:55:05.864] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[19:55:05.978] 2025-08-20 19:55:05,978 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:55:05.978] [AI_DEBUG] AI分类结果: category=sequence_order_errors, confidence=0.85
[19:55:05.980] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:05.980] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:55:05.980] [AI_DEBUG] 生成的txt_content长度: 4439
[19:55:05.980] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:55:05.980]   - use_ai_classification=True
[19:55:05.980]   - ai_classifier=True
[19:55:05.980]   - txt_content_len=4439
[19:55:05.980]   - task_model=qwen2.5-72b-instruct
[19:55:05.980] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:55:08.062] 2025-08-20 19:55:08,062 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:08.066]   [SEARCH] Query: network api fetch
[19:55:08.067] 
[19:55:08.067] [TURN 2/10]
[19:55:08.067] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:08.453] 2025-08-20 19:55:08,453 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:08.455] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2465c544-2f2d-90f4-8af3-f10a2e153549"}, traceId: 213e006817557449081852353ee605'}
[19:55:08.455] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[19:55:08.530] 2025-08-20 19:55:08,530 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:08.532] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a5f26d14-9b86-94d0-a6b0-616eb31e6e41"}, traceId: 213e060a17557449082764807e8a22'}
[19:55:08.532] [ERROR] Max retries reached after 5 attempts
[19:55:08.532] [API_FAILURE] All retries exhausted
[19:55:08.532]   [API_FAILURE] API failed (timeout or max retries)
[19:55:08.533] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:55:08.550] 2025-08-20 19:55:08,550 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:55:08.550] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:55:08.550] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:55:08.551] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:55:08.551] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:55:08.551] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:55:08.551] 2025-08-20 19:55:08,551 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:55:08.578] 2025-08-20 19:55:08,578 - mcp_embedding_manager - INFO - FAISS index loaded
[19:55:08.578] 2025-08-20 19:55:08,578 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:55:08.578] 2025-08-20 19:55:08,578 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:55:08.581] [INFO] Tool embedding index loaded successfully
[19:55:08.581] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:55:08.582] [INFO] Operation semantic index initialized
[19:55:08.582] 
[19:55:08.582] [TURN 1/10]
[19:55:08.582] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:09.254] 2025-08-20 19:55:09,254 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:09.256]   [SEARCH] Query: network api fetch
[19:55:09.256] 
[19:55:09.256] [TURN 2/10]
[19:55:09.260] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:09.614] 2025-08-20 19:55:09,614 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:09.621] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"04d6845c-2421-9a51-8a02-831c583427ab"}, traceId: 213e006817557449093732355ee605'}
[19:55:09.621] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[19:55:10.203] 2025-08-20 19:55:10,202 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:10.206]   [SEARCH] Query: file reader
[19:55:10.206] 
[19:55:10.206] [TURN 2/10]
[19:55:10.207] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:10.216] 2025-08-20 19:55:10,216 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:10.220]   [EARLY_EXIT] No actions taken, continuing...
[19:55:10.220] 
[19:55:10.220] [TURN 3/10]
[19:55:10.220] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:11.253] 2025-08-20 19:55:11,253 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:11.257]   [EARLY_EXIT] No actions taken, continuing...
[19:55:11.257] 
[19:55:11.257] [TURN 4/10]
[19:55:11.257] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:11.278] 2025-08-20 19:55:11,278 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:11.282]   [EARLY_EXIT] No actions taken, continuing...
[19:55:11.282] 
[19:55:11.282] [TURN 3/10]
[19:55:11.282] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:11.622] 2025-08-20 19:55:11,622 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:11.625] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9167dee0-ce91-994c-a40f-15f45f5ca4ab"}, traceId: 213e041917557449113958033e2c9e'}
[19:55:11.625] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[19:55:11.642] 2025-08-20 19:55:11,642 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:55:11.642] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.75
[19:55:11.644] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:11.644] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:55:11.644] [AI_DEBUG] 生成的txt_content长度: 4510
[19:55:11.644] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:55:11.644]   - use_ai_classification=True
[19:55:11.644]   - ai_classifier=True
[19:55:11.644]   - txt_content_len=4510
[19:55:11.644]   - task_model=qwen2.5-72b-instruct
[19:55:11.644] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:55:12.021] 2025-08-20 19:55:12,020 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:12.023]   [EARLY_EXIT] No actions taken, continuing...
[19:55:12.023] 
[19:55:12.023] [TURN 3/10]
[19:55:12.024] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:12.314] 2025-08-20 19:55:12,314 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:12.324]   [EARLY_EXIT] No actions taken, continuing...
[19:55:12.324] 
[19:55:12.324] [TURN 5/10]
[19:55:12.327] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:12.423] 2025-08-20 19:55:12,423 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:12.426] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c4e4e5fd-67aa-9270-b33a-d10c2f265782"}, traceId: 213e006817557449121432371ee605'}
[19:55:12.426] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[19:55:12.718] 2025-08-20 19:55:12,718 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:12.722] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b63e6235-a229-92b5-977d-1aa0fd6b09f6"}, traceId: 213e043a17557449124425653e1f64'}
[19:55:12.722] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[19:55:13.383] 2025-08-20 19:55:13,383 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:13.388] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"4be57a98-e43c-9ee2-9f4e-63558a1f2c8d"}, traceId: 213e041917557449131358078e2c9e'}
[19:55:13.388] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[19:55:13.438] 2025-08-20 19:55:13,438 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:13.442] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"84828191-e244-9a09-998a-58b9fe8341a8"}, traceId: 213e006817557449131622374ee605'}
[19:55:13.442] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[19:55:14.470] 2025-08-20 19:55:14,468 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:14.472] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"cd303555-8f83-9502-828d-7886167859a5"}, traceId: 213e043a17557449142395675e1f64'}
[19:55:14.472] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[19:55:15.665] 2025-08-20 19:55:15,665 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:15.668] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"80fc8e1c-1dd8-9d42-8c03-f55bc0bfb526"}, traceId: 213e043a17557449154235695e1f64'}
[19:55:15.668] [RETRY] 400 error detected, waiting 3.2s before retry (not counting as turn)...
[19:55:15.724] 2025-08-20 19:55:15,724 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:15.728] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"74ddf640-e374-99f0-9939-89ed71022552"}, traceId: 213e006817557449154822383ee605'}
[19:55:15.728] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[19:55:15.931] 2025-08-20 19:55:15,931 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:15.934] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9513a4e6-0825-9fa0-ad1b-c9c999efc228"}, traceId: 213e041917557449156558170e2c9e'}
[19:55:15.935] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[19:55:18.003] 2025-08-20 19:55:18,003 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:18.007] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"67c2eb89-9992-9f7f-aff6-b58263b393e7"}, traceId: 213e041917557449177288224e2c9e'}
[19:55:18.008] [RETRY] 400 error detected, waiting 3.3s before retry (not counting as turn)...
[19:55:18.047] 2025-08-20 19:55:18,047 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:55:18.051] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.72
[19:55:18.053] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:18.053] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:55:18.053] [AI_DEBUG] 生成的txt_content长度: 14685
[19:55:18.053] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:55:18.053]   - use_ai_classification=True
[19:55:18.053]   - ai_classifier=True
[19:55:18.053]   - txt_content_len=14685
[19:55:18.053]   - task_model=qwen2.5-72b-instruct
[19:55:18.053] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:55:19.045] 2025-08-20 19:55:19,045 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:19.047]   [EARLY_EXIT] No actions taken, continuing...
[19:55:19.047] 
[19:55:19.047] [TURN 4/10]
[19:55:19.047] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:20.025] 2025-08-20 19:55:20,025 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:20.025] 2025-08-20 19:55:20,025 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:20.029]   [EARLY_EXIT] No actions taken, continuing...
[19:55:20.029] 
[19:55:20.029] [TURN 6/10]
[19:55:20.029]   [EARLY_EXIT] No actions taken, continuing...
[19:55:20.029] 
[19:55:20.029] [TURN 5/10]
[19:55:20.030] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:20.031] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:20.964] 2025-08-20 19:55:20,963 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:20.965]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[19:55:20.965] 
[19:55:20.965] [TURN 7/10]
[19:55:20.965] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:21.102] 2025-08-20 19:55:21,102 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:21.106]   [EARLY_EXIT] No actions taken, continuing...
[19:55:21.106] 
[19:55:21.106] [TURN 6/10]
[19:55:21.106] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:21.717] 2025-08-20 19:55:21,717 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:21.721] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5464a2f6-3221-9180-b3f0-317a3aa4826b"}, traceId: 213e041917557449214318323e2c9e'}
[19:55:21.721] [ERROR] Max retries reached after 5 attempts
[19:55:21.721] [API_FAILURE] All retries exhausted
[19:55:21.721]   [API_FAILURE] API failed (timeout or max retries)
[19:55:21.723] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:55:21.732] 2025-08-20 19:55:21,732 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:55:21.732] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:55:21.732] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:55:21.732] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:55:21.732] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13266053472)
[19:55:21.732] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:55:21.732] 2025-08-20 19:55:21,732 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:55:21.762] 2025-08-20 19:55:21,762 - mcp_embedding_manager - INFO - FAISS index loaded
[19:55:21.762] 2025-08-20 19:55:21,762 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:55:21.762] 2025-08-20 19:55:21,762 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:55:21.765] [INFO] Tool embedding index loaded successfully
[19:55:21.766] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:55:21.767] [INFO] Operation semantic index initialized
[19:55:21.767] 
[19:55:21.767] [TURN 1/10]
[19:55:21.767] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:21.952] 2025-08-20 19:55:21,952 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:21.959]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[19:55:21.959] 
[19:55:21.959] [TURN 8/10]
[19:55:21.959] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:22.042] 2025-08-20 19:55:22,042 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:22.047]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[19:55:22.047] 
[19:55:22.047] [TURN 7/10]
[19:55:22.047] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:22.564] 2025-08-20 19:55:22,564 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:22.568] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3dff2a47-231f-9e6f-a341-b1b4dc8f3927"}, traceId: 213e007b17557449223416981eeebc'}
[19:55:22.568] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[19:55:22.920] 2025-08-20 19:55:22,920 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:22.925]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[19:55:22.925] 
[19:55:22.925] [TURN 9/10]
[19:55:22.929] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:23.035] 2025-08-20 19:55:23,035 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:23.037]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[19:55:23.037] 
[19:55:23.037] [TURN 8/10]
[19:55:23.038] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:23.673] 2025-08-20 19:55:23,672 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:23.675] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1f9e658e-5672-9a6b-8449-13ba64830fd9"}, traceId: 213e007b17557449234516985eeebc'}
[19:55:23.676] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[19:55:23.919] 2025-08-20 19:55:23,918 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:23.920]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[19:55:23.920] 
[19:55:23.920] [TURN 10/10]
[19:55:23.921] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:24.076] 2025-08-20 19:55:24,075 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:24.077] 2025-08-20 19:55:24,077 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:55:24.078]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[19:55:24.078] 
[19:55:24.078] [TURN 9/10]
[19:55:24.079] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[19:55:24.082] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:24.086] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:24.086] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:55:24.086] [AI_DEBUG] 生成的txt_content长度: 4757
[19:55:24.086] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:55:24.086]   - use_ai_classification=True
[19:55:24.086]   - ai_classifier=True
[19:55:24.086]   - txt_content_len=4757
[19:55:24.086]   - task_model=qwen2.5-72b-instruct
[19:55:24.086] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:55:24.807] 2025-08-20 19:55:24,807 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:24.811] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f5cd06be-6072-9d16-8dd0-782ffac1ebd1"}, traceId: 213e007b17557449245766990eeebc'}
[19:55:24.811] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[19:55:25.038] 2025-08-20 19:55:25,037 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:25.039]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[19:55:25.040] [ASSISTED] Task received 5 format helps, final result: failure
[19:55:25.204] 2025-08-20 19:55:25,203 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:25.205]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[19:55:25.205] 
[19:55:25.205] [TURN 10/10]
[19:55:25.206] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:25.617] 2025-08-20 19:55:25,616 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:25.620] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"81ae5f0d-ccc2-92a8-b06e-02eadc74937c"}, traceId: 213e006817557449253242455ee605'}
[19:55:25.620] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[19:55:26.624] 2025-08-20 19:55:26,624 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:26.628] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4164457b-51a3-9f12-978f-bcb6e4b8dc74"}, traceId: 213e006817557449263562472ee605'}
[19:55:26.628] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[19:55:26.835] 2025-08-20 19:55:26,835 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:55:26.838] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2ebe397b-8015-9d6e-905c-c0322e8d2e18"}, traceId: 213e007b17557449265406996eeebc'}
[19:55:26.838] [RETRY] 400 error detected, waiting 4.4s before retry (not counting as turn)...
[19:55:29.528] 2025-08-20 19:55:29,523 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:29.530]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[19:55:29.531] [ASSISTED] Task received 5 format helps, final result: failure
[19:55:30.066] 2025-08-20 19:55:30,066 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:55:30.068] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.75
[19:55:30.071] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:30.071] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:55:30.071] [AI_DEBUG] 生成的txt_content长度: 8912
[19:55:30.071] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:55:30.071]   - use_ai_classification=True
[19:55:30.071]   - ai_classifier=True
[19:55:30.071]   - txt_content_len=8912
[19:55:30.071]   - task_model=qwen2.5-72b-instruct
[19:55:30.071] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:55:32.219] 2025-08-20 19:55:32,219 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:32.223]   [SEARCH] Query: file reader
[19:55:32.223] 
[19:55:32.223] [TURN 2/10]
[19:55:32.224] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:33.182] 2025-08-20 19:55:33,181 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:33.184]   [EARLY_EXIT] No actions taken, continuing...
[19:55:33.184] 
[19:55:33.184] [TURN 3/10]
[19:55:33.185] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:34.462] 2025-08-20 19:55:34,461 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:34.463]   [EARLY_EXIT] No actions taken, continuing...
[19:55:34.463] 
[19:55:34.463] [TURN 4/10]
[19:55:34.464] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:35.483] 2025-08-20 19:55:35,477 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:35.485]   [EARLY_EXIT] No actions taken, continuing...
[19:55:35.485] 
[19:55:35.485] [TURN 5/10]
[19:55:35.495] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:36.182] 2025-08-20 19:55:36,181 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:36.184]   [EARLY_EXIT] No actions taken, continuing...
[19:55:36.184] 
[19:55:36.184] [TURN 6/10]
[19:55:36.185] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:36.914] 2025-08-20 19:55:36,913 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:36.918]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[19:55:36.919] 
[19:55:36.919] [TURN 7/10]
[19:55:36.921] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:37.901] 2025-08-20 19:55:37,901 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:37.904]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[19:55:37.904] 
[19:55:37.904] [TURN 8/10]
[19:55:37.905] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:38.972] 2025-08-20 19:55:38,971 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:38.974]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[19:55:38.974] 
[19:55:38.974] [TURN 9/10]
[19:55:38.977] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:40.126] 2025-08-20 19:55:40,126 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:40.129]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[19:55:40.129] 
[19:55:40.129] [TURN 10/10]
[19:55:40.131] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:55:41.051] 2025-08-20 19:55:41,051 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:55:41.052] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.78
[19:55:41.056] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:41.056] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:55:41.056] [AI_DEBUG] 生成的txt_content长度: 14679
[19:55:41.056] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:55:41.056]   - use_ai_classification=True
[19:55:41.056]   - ai_classifier=True
[19:55:41.056]   - txt_content_len=14679
[19:55:41.056]   - task_model=qwen2.5-72b-instruct
[19:55:41.056] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:55:41.263] 2025-08-20 19:55:41,262 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:55:41.265]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[19:55:41.265] [ASSISTED] Task received 5 format helps, final result: failure
[19:55:47.332] 2025-08-20 19:55:47,331 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:55:47.333] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[19:55:47.337] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:47.337] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:55:47.337] [AI_DEBUG] 生成的txt_content长度: 14745
[19:55:47.337] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:55:47.337]   - use_ai_classification=True
[19:55:47.338]   - ai_classifier=True
[19:55:47.338]   - txt_content_len=14745
[19:55:47.338]   - task_model=qwen2.5-72b-instruct
[19:55:47.338] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:55:53.703] 2025-08-20 19:55:53,703 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:55:53.703] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[19:55:53.705] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:53.705] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:55:53.705] [AI_DEBUG] 生成的txt_content长度: 15175
[19:55:53.705] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:55:53.705]   - use_ai_classification=True
[19:55:53.705]   - ai_classifier=True
[19:55:53.705]   - txt_content_len=15175
[19:55:53.705]   - task_model=qwen2.5-72b-instruct
[19:55:53.705] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:55:59.875] 2025-08-20 19:55:59,874 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:55:59.876] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[19:55:59.879] Progress: 10/10 (Success: 0)
[19:55:59.880] 
[19:55:59.880] [INFO] Batch writing 10 records to database (qwen2.5-72b-instruct:10)
[19:55:59.880] 2025-08-20 19:55:59,880 - batch_test_runner - INFO - Batch writing 10 records to database (qwen2.5-72b-instruct:10)
[19:55:59.880] [INFO] Successfully wrote 10/10 records (qwen2.5-72b-instruct:10)
[19:55:59.880] 2025-08-20 19:55:59,880 - batch_test_runner - INFO - Successfully wrote 10/10 records (qwen2.5-72b-instruct:10)
[19:55:59.881] [INFO] 数据已同步到Parquet存储
[19:55:59.881] 2025-08-20 19:55:59,881 - batch_test_runner - INFO - Database saved successfully
[19:55:59.882] 2025-08-20 19:55:59,882 - batch_test_runner - INFO - ============================================================
[19:55:59.882] 2025-08-20 19:55:59,882 - batch_test_runner - INFO - Batch test completed at 2025-08-20T19:55:59.882093
[19:55:59.882] 2025-08-20 19:55:59,882 - batch_test_runner - INFO - Summary:
[19:55:59.882] 2025-08-20 19:55:59,882 - batch_test_runner - INFO -   - Total tests: 10
[19:55:59.882] 2025-08-20 19:55:59,882 - batch_test_runner - INFO -   - Successful: 0
[19:55:59.882] 2025-08-20 19:55:59,882 - batch_test_runner - INFO -   - Failed: 10
[19:55:59.882] 2025-08-20 19:55:59,882 - batch_test_runner - INFO -   - Success rate: 0.0%
[19:55:59.882] 2025-08-20 19:55:59,882 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250820_195418.log
[19:55:59.882] 2025-08-20 19:55:59,882 - batch_test_runner - INFO - ============================================================
[19:55:59.882] 
[19:55:59.882] ✅ 批测试完成
[19:55:59.882]    成功: 0/10
[19:55:59.882]    失败: 10/10
[19:55:59.883] 
[19:55:59.883] 📤 最终保存10个测试结果...
[19:55:59.883] [DEBUG] 创建新的manager实例: key=True_
[19:55:59.974] [INFO] 已将 5 个汇总写入Parquet
[19:55:59.974] [INFO] 刷新缓存到磁盘 (已累积10个结果)
[19:55:59.974] ✅ 已保存 10 个测试结果到数据库
[19:56:00.013] [INFO] 刷新manager缓存: key=True_

==================================================
分片 qwen2.5-72b-instruct_easy_key1 完成
退出码: 0
总行数: 1007
运行时间: 105.7秒
时间: 2025-08-20T19:56:01.370401
