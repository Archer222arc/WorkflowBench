===== 分片 DeepSeek-R1-0528_easy_1 =====
时间: 2025-08-20T19:51:15.610183
模型: deepseek-r1-0528
实例: DeepSeek-R1-0528-2
命令: python -u smart_batch_runner.py --model deepseek-r1-0528 --deployment DeepSeek-R1-0528-2 --prompt-types optimal --difficulty easy --task-types all --num-instances 1 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[19:51:17.224] 2025-08-20 19:51:17,223 - faiss.loader - INFO - Loading faiss.
[19:51:17.236] 2025-08-20 19:51:17,236 - faiss.loader - INFO - Successfully loaded faiss.
[19:51:18.117] [INFO] 使用Parquet存储格式
[19:51:18.419] [INFO] 使用Parquet存储格式
[19:51:18.421] [INFO] 使用PARQUET存储格式
[19:51:18.422] 
[19:51:18.422] ============================================================
[19:51:18.422] 智能批测试: deepseek-r1-0528 (idealab)
[19:51:18.422] Prompt types: ['optimal']
[19:51:18.422] 难度: easy
[19:51:18.422] 目标: 每种配置 1 个实例
[19:51:18.422] ============================================================
[19:51:18.458] ○ simple_task         :   0/  1 已完成 (需要补充 1 个)
[19:51:18.462] ○ basic_task          :   0/  1 已完成 (需要补充 1 个)
[19:51:18.467] ○ data_pipeline       :   0/  1 已完成 (需要补充 1 个)
[19:51:18.471] ○ api_integration     :   0/  1 已完成 (需要补充 1 个)
[19:51:18.475] ○ multi_stage_pipeline:   0/  1 已完成 (需要补充 1 个)
[19:51:18.475] 
[19:51:18.475] ⏳ 需要运行 5 个新测试
[19:51:18.475] 
[19:51:18.475] ▶ 准备 simple_task (1 个实例)...
[19:51:18.475] 
[19:51:18.475] ▶ 准备 basic_task (1 个实例)...
[19:51:18.475] 
[19:51:18.475] ▶ 准备 data_pipeline (1 个实例)...
[19:51:18.475] 
[19:51:18.475] ▶ 准备 api_integration (1 个实例)...
[19:51:18.475] 
[19:51:18.475] ▶ 准备 multi_stage_pipeline (1 个实例)...
[19:51:18.475] 
[19:51:18.475] ▶ 开始执行 5 个测试...
[19:51:18.475] 📦 批量提交模式：每20个测试保存一次
[19:51:18.475] 🚀 检测到Azure API，使用超高并发: workers=100, qps=200.0
[19:51:18.477] 2025-08-20 19:51:18,476 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[19:51:18.525] 2025-08-20 19:51:18,524 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[19:51:18.525] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x16f8fa990>
[19:51:18.525] 2025-08-20 19:51:18,525 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[19:51:18.525] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[19:51:18.526] 2025-08-20 19:51:18,526 - batch_test_runner - INFO - ============================================================
[19:51:18.526] 2025-08-20 19:51:18,526 - batch_test_runner - INFO - Batch test runner initialized
[19:51:18.526] 2025-08-20 19:51:18,526 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[19:51:18.526] 2025-08-20 19:51:18,526 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_195118.log
[19:51:18.526] 2025-08-20 19:51:18,526 - batch_test_runner - INFO - ============================================================
[19:51:18.526] 2025-08-20 19:51:18,526 - batch_test_runner - INFO - Running 5 tests with 100 workers, QPS limit: 200.0
[19:51:18.526] 2025-08-20 19:51:18,526 - batch_test_runner - INFO - Initializing test components...
[19:51:18.843] 2025-08-20 19:51:18,843 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[19:51:18.843] 2025-08-20 19:51:18,843 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[19:51:18.843] 2025-08-20 19:51:18,843 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[19:51:18.843] [DEBUG] Creating new ToolCapabilityManager instance
[19:51:18.843] [OperationEmbeddingIndex] Initializing with unified API client manager
[19:51:18.843] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[19:51:18.844] 2025-08-20 19:51:18,844 - api_client_manager - INFO - Loaded configuration from config/config.json
[19:51:18.850] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[19:51:18.850] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[19:51:18.850] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[19:51:19.712] 2025-08-20 19:51:19,712 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:51:19.714] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[19:51:19.765] [INFO] Loaded 4150 embeddings from persistent cache
[19:51:19.765] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[19:51:19.766] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[19:51:19.766] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[19:51:19.766] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[19:51:19.770] [INFO] Successfully loaded FAISS index with dimension 3072
[19:51:19.770] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[19:51:19.770] [INFO] Loaded 15 operations with dimension 3072
[19:51:19.770] [INFO] Successfully loaded cached index
[19:51:19.770] [INFO] Operation semantic index initialized
[19:51:19.770] [INFO] Using device: cpu
[19:51:19.771] [INFO] Initialized tool success tracking attributes
[19:51:19.771] [INFO] Initializing embedding manager for enhanced tool selection
[19:51:19.771] [MCPEmbeddingManager] Creating new singleton instance
[19:51:19.771] [MCPEmbeddingManager] Initializing with unified API client manager
[19:51:19.777] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[19:51:19.777] [MCPEmbeddingManager] Client initialized successfully
[19:51:19.777] 2025-08-20 19:51:19,777 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[19:51:19.899] 2025-08-20 19:51:19,899 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[19:51:20.140] 2025-08-20 19:51:20,140 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[19:51:20.140] 2025-08-20 19:51:20,140 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[19:51:20.163] 2025-08-20 19:51:20,163 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[19:51:20.231] 2025-08-20 19:51:20,231 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[19:51:20.555] 2025-08-20 19:51:20,555 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[19:51:20.555] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[19:51:20.555] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[19:51:20.555] 2025-08-20 19:51:20,555 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:51:20.906] 2025-08-20 19:51:20,906 - mcp_embedding_manager - INFO - FAISS index loaded
[19:51:20.906] 2025-08-20 19:51:20,906 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:51:20.906] 2025-08-20 19:51:20,906 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:51:20.908] [SUCCESS] Loaded 30 tool embeddings
[19:51:20.908] 2025-08-20 19:51:20,908 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[19:51:20.908] [SUCCESS] Embedding manager initialized with 30 tools
[19:51:20.908] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[19:51:20.908] [INFO] Loading full MCP protocol registry...
[19:51:20.910] 2025-08-20 19:51:20,910 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:51:20.910] [INFO] Loaded full tool registry with 30 tools
[19:51:20.910] 2025-08-20 19:51:20,910 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[19:51:20.910] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[19:51:20.910] [INFO] Embedding manager ready with 30 tools
[19:51:20.910] [WARNING] Embedding manager exists but has no embeddings
[19:51:20.910] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[19:51:20.910] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[19:51:20.911] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[19:51:20.911] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:51:20.911] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[19:51:20.911] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[19:51:20.911] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:51:20.911] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:51:20.911] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:51:20.911] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:51:20.911] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[19:51:20.911] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:51:20.911] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:51:20.911] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[19:51:20.911] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[19:51:20.911] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[19:51:20.911] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:51:20.911] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:51:20.911] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:51:20.911] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[19:51:20.911] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[19:51:20.911] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[19:51:20.911] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[19:51:20.911] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[19:51:20.911] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[19:51:20.911] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[19:51:20.911] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[19:51:20.911] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[19:51:20.911] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[19:51:20.911] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[19:51:20.911] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[19:51:20.911] 2025-08-20 19:51:20,911 - mdp_workflow_generator - INFO - Loaded 30 tools
[19:51:20.911] [INFO] Setting default state_dim based on loaded tools
[19:51:20.911] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[19:51:20.911] 2025-08-20 19:51:20,911 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[19:51:20.911] [INFO] Setting default action_dim based on loaded tools
[19:51:20.911] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[19:51:20.911] 2025-08-20 19:51:20,911 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[19:51:20.911] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[19:51:20.911] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[19:51:20.911] [INFO] ⚡ Will use pre-generated workflows or random policy
[19:51:20.911] 2025-08-20 19:51:20,911 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[19:51:20.911] [INFO] Initializing TaskManager...
[19:51:21.840] 2025-08-20 19:51:21,840 - unified_training_manager - INFO - Using device: cpu
[19:51:21.938] 2025-08-20 19:51:21,938 - unified_training_manager - INFO - Task filtering results:
[19:51:21.938] 2025-08-20 19:51:21,938 - unified_training_manager - INFO -   Total: 5040 -> 5040
[19:51:21.938] 2025-08-20 19:51:21,938 - unified_training_manager - INFO -   simple_task: 320 -> 320
[19:51:21.938] 2025-08-20 19:51:21,938 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[19:51:21.938] 2025-08-20 19:51:21,938 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[19:51:21.938] 2025-08-20 19:51:21,938 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[19:51:21.938] 2025-08-20 19:51:21,938 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[19:51:21.938] 2025-08-20 19:51:21,938 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[19:51:21.940] 2025-08-20 19:51:21,940 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[19:51:21.940] [TaskManager] Difficulty level 'easy': 1096 tasks
[19:51:21.940] [TaskManager] Difficulty level 'very_easy': 856 tasks
[19:51:21.940] [TaskManager] Difficulty level 'medium': 1136 tasks
[19:51:21.940] [TaskManager] Difficulty level 'hard': 1096 tasks
[19:51:21.940] [TaskManager] Difficulty level 'very_hard': 856 tasks
[19:51:21.942] [INFO] TaskManager initialized with 5040 tasks
[19:51:21.942] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[19:51:21.942] [INFO] Initializing ToolCallVerifier...
[19:51:21.942] [INFO] ToolCallVerifier initialized with 30 tools
[19:51:21.942] [INFO] Output tools identified: 1
[19:51:21.942] [INFO] Component initialization status:
[19:51:21.942]   - embedding_manager: initialized
[19:51:21.942]   - task_manager: initialized
[19:51:21.942]   - output_verifier: initialized
[19:51:21.942]   - tool_capability_manager: initialized
[19:51:21.942]   - tool_success_rates: initialized with 0 entries
[19:51:21.942] [INFO] MDPWorkflowGenerator initialization complete
[19:51:21.942] 2025-08-20 19:51:21,942 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[19:51:21.942] 2025-08-20 19:51:21,942 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[19:51:21.942] 2025-08-20 19:51:21,942 - batch_test_runner - INFO -   - task_manager: ✓
[19:51:21.943] 2025-08-20 19:51:21,942 - batch_test_runner - INFO -   - output_verifier: ✓
[19:51:21.943] 2025-08-20 19:51:21,942 - batch_test_runner - INFO -   - embedding_manager: ✓
[19:51:21.943] 2025-08-20 19:51:21,943 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[19:51:21.943] 2025-08-20 19:51:21,943 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[19:51:21.943] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6158637424)
[19:51:21.943] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:51:21.943] [FlawedWorkflowGenerator] Initialized with 30 tools
[19:51:21.943] [FlawedWorkflowGenerator] RAG support: disabled
[19:51:21.943] DEBUG: Checking generator attributes
[19:51:21.943]   - has tool_capabilities: True
[19:51:21.943]   - has tool_capability_manager: True
[19:51:21.943]   - has task_manager: True
[19:51:21.943] [INFO] Loaded 30 tools from generator
[19:51:21.943] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[19:51:21.943] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6158637424)
[19:51:21.943] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:51:21.943] [INFO] Initializing LLM client using APIClientManager
[19:51:21.949] [INFO] Using Azure OpenAI client
[19:51:21.949] [DEBUG] Checking if generator has tool_capability_manager attribute
[19:51:21.949] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[19:51:21.949] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6158637424)
[19:51:21.949] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:51:21.949] [FlawedWorkflowGenerator] Initialized with 30 tools
[19:51:21.949] [FlawedWorkflowGenerator] RAG support: enabled
[19:51:21.949] [INFO] FlawedWorkflowGenerator initialized successfully
[19:51:21.949] [INFO] Initializing StableScorer for Phase 2 scoring
[19:51:21.949] <tool_capability_manager.ToolCapabilityManager object at 0x30decb830>
[19:51:21.949] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6158637424)
[19:51:21.949] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:51:21.949] [INFO] Loaded tool success history for 0 tools
[19:51:21.949] [INFO] StableScorer initialized with semantic capability
[19:51:21.949] [INFO] StableScorer initialized successfully
[19:51:21.949] [INFO] Loading task instances...
[19:51:21.949] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[19:51:21.956] [INFO] Loaded 630 task instances
[19:51:21.956] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[19:51:21.956] 2025-08-20 19:51:21,956 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[19:51:21.956] 2025-08-20 19:51:21,956 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[19:51:22.310] 2025-08-20 19:51:22,310 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[19:51:22.310] 2025-08-20 19:51:22,310 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[19:51:22.327] 2025-08-20 19:51:22,327 - batch_test_runner - INFO - Initialization complete
[19:51:22.350] 2025-08-20 19:51:22,350 - batch_test_runner - INFO - Detected Azure API, disabling QPS sleep for better performance
[19:51:22.351] 2025-08-20 19:51:22,351 - batch_test_runner - INFO - Starting batch test with 5 tasks, 100 workers
[19:51:22.351] 2025-08-20 19:51:22,351 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[19:51:22.352] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:51:22.352] 2025-08-20 19:51:22,352 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for DeepSeek-R1-0528-2
[19:51:22.353] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:51:22.353] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:51:22.354] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:51:22.354] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:51:22.606] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-2
[19:51:22.607] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:51:22.607] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[19:51:22.608] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6158637424)
[19:51:22.608] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:51:22.608] 2025-08-20 19:51:22,608 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:51:22.615] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-2
[19:51:22.615] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:51:22.615] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-2
[19:51:22.615] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:51:22.615] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-2
[19:51:22.615] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:51:22.615] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-2
[19:51:22.615] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:51:22.615] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[19:51:22.615] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6158637424)
[19:51:22.615] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:51:22.616] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[19:51:22.616] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6158637424)
[19:51:22.616] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:51:22.616] 2025-08-20 19:51:22,616 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:51:22.621] 2025-08-20 19:51:22,621 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:51:22.621] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[19:51:22.621] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6158637424)
[19:51:22.621] [MCPEmbeddingManager] Current cache size: 16 embeddings
[19:51:22.626] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[19:51:22.626] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6158637424)
[19:51:22.626] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:51:22.626] 2025-08-20 19:51:22,626 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:51:22.626] 2025-08-20 19:51:22,626 - mcp_embedding_manager - INFO - FAISS index loaded
[19:51:22.626] 2025-08-20 19:51:22,626 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:51:22.626] 2025-08-20 19:51:22,626 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:51:22.628] [INFO] Tool embedding index loaded successfully
[19:51:22.631] 2025-08-20 19:51:22,631 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:51:22.650] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:51:22.678] 2025-08-20 19:51:22,678 - mcp_embedding_manager - INFO - FAISS index loaded
[19:51:22.679] [INFO] Operation semantic index initialized
[19:51:22.679] 2025-08-20 19:51:22,678 - mcp_embedding_manager - INFO - FAISS index loaded
[19:51:22.679] 2025-08-20 19:51:22,678 - mcp_embedding_manager - INFO - FAISS index loaded
[19:51:22.679] 2025-08-20 19:51:22,679 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:51:22.679] 
[19:51:22.679] [TURN 1/10]
[19:51:22.679] 2025-08-20 19:51:22,679 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:51:22.680] 2025-08-20 19:51:22,679 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:51:22.680] 2025-08-20 19:51:22,679 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:51:22.682] [INFO] Tool embedding index loaded successfully
[19:51:22.682] 2025-08-20 19:51:22,679 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:51:22.684] [INFO] Tool embedding index loaded successfully
[19:51:22.685] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:51:22.686] 2025-08-20 19:51:22,680 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:51:22.688] [INFO] Tool embedding index loaded successfully
[19:51:22.695] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json[INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:51:22.695] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:51:22.701] [INFO] Operation semantic index initialized
[19:51:22.705] 
[19:51:22.705] [INFO] Operation semantic index initialized
[19:51:22.705] 
[19:51:22.705] [TURN 1/10]
[19:51:22.705] 2025-08-20 19:51:22,705 - mcp_embedding_manager - INFO - FAISS index loaded
[19:51:22.705] 2025-08-20 19:51:22,705 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:51:22.705] 2025-08-20 19:51:22,705 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:51:22.708] [INFO] Tool embedding index loaded successfully
[19:51:22.708] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:51:22.709] [INFO] Operation semantic index initialized
[19:51:22.709] 
[19:51:22.709] [TURN 1/10]
[19:51:22.709] [TURN 1/10]
[19:51:22.709] 
[19:51:22.711] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:51:22.712] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2[INFO] Operation semantic index initialized
[19:51:22.712] 
[19:51:22.712] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:51:22.712] [TURN 1/10]
[19:51:22.712] 
[19:51:22.713] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:51:32.977] 2025-08-20 19:51:32,976 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:32.981]   [SEARCH] Query: file_operations_reader
[19:51:32.982] 
[19:51:32.982] [TURN 2/10]
[19:51:32.983] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:51:36.863] 2025-08-20 19:51:36,863 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:36.864]   [PARSE] Found tool call: file_operations_reader
[19:51:36.864]   [EXECUTING] file_operations_reader
[19:51:36.864]     Result: SUCCESS
[19:51:36.864] 
[19:51:36.864] [TURN 3/10]
[19:51:36.864] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:51:53.491] 2025-08-20 19:51:53,489 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:53.496]   [SEARCH] Query: file_operations_reader
[19:51:53.497] 
[19:51:53.497] [TURN 2/10]
[19:51:53.516] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:51:53.861] 2025-08-20 19:51:53,860 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:53.862]   [SEARCH] Query: data_processing_parser
[19:51:53.863] 
[19:51:53.863] [TURN 4/10]
[19:51:53.865] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:51:57.977] 2025-08-20 19:51:57,976 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:57.980]   [PARSE] Found tool call: file_operations_reader
[19:51:57.980]   [EXECUTING] file_operations_reader
[19:51:57.980]     Result: SUCCESS
[19:51:57.980] 
[19:51:57.980] [TURN 3/10]
[19:51:57.994] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:51:58.605] 2025-08-20 19:51:58,604 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:51:58.607]   [SEARCH] Query: data_processing_parser
[19:51:58.607] 
[19:51:58.607] [TURN 2/10]
[19:51:58.607] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:52:00.765] 2025-08-20 19:52:00,763 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:00.766]   [SEARCH] Query: data_processing_parser
[19:52:00.766] 
[19:52:00.766] [TURN 4/10]
[19:52:00.767] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:52:17.279] 2025-08-20 19:52:17,278 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:17.283]   [PARSE] Found tool call: data_processing_parser
[19:52:17.283]   [EXECUTING] data_processing_parser
[19:52:17.284]     Result: SUCCESS
[19:52:17.284] 
[19:52:17.284] [TURN 5/10]
[19:52:17.286] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:52:23.701] 2025-08-20 19:52:23,701 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:23.703]   [SEARCH] Query: network api fetch
[19:52:23.705] 
[19:52:23.705] [TURN 2/10]
[19:52:23.706] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:52:27.814] 2025-08-20 19:52:27,813 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:27.816]   [PARSE] Found tool call: file_operations_reader
[19:52:27.816]   [EXECUTING] file_operations_reader
[19:52:27.816]     Result: SUCCESS
[19:52:27.816] 
[19:52:27.816] [TURN 2/10]
[19:52:27.817] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:52:42.982] 2025-08-20 19:52:42,982 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:42.985]   [PARSE] Found tool call: data_processing_filter
[19:52:42.985]   [EXECUTING] data_processing_filter
[19:52:42.985]     Result: SUCCESS
[19:52:42.985] 
[19:52:42.985] [TURN 3/10]
[19:52:42.986] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:52:45.435] 2025-08-20 19:52:45,435 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:45.438]   [PARSE] Fuzzy matched 'network_fetcher
[19:52:45.438] {
[19:52:45.438]   "source": "https://api.example.com/data",
[19:52:45.438]   "timeout": 30,
[19:52:45.438]   "retry_count": 3,
[19:52:45.438]   "options": {}
[19:52:45.438] }' to 'network_fetcher'
[19:52:45.438]   [EXECUTING] network_fetcher
[19:52:45.439]     Result: SUCCESS
[19:52:45.439] 
[19:52:45.439] [TURN 3/10]
[19:52:45.439] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:52:51.193] 2025-08-20 19:52:51,192 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:51.197]   [PARSE] Found tool call: data_processing_filter
[19:52:51.197]   [EXECUTING] data_processing_filter
[19:52:51.199]     Result: FAILED - INVALID_INPUT: Input validation failed (expected: CSV format)
[19:52:51.199] 
[19:52:51.199] [TURN 6/10]
[19:52:51.204] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:52:53.859] 2025-08-20 19:52:53,858 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:52:53.860]   [PARSE] Found tool call: data_processing_parser
[19:52:53.860]   [EXECUTING] data_processing_parser
[19:52:53.861]     Result: SUCCESS
[19:52:53.861] 
[19:52:53.861] [TURN 3/10]
[19:52:53.861] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:53:02.179] 2025-08-20 19:53:02,177 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:02.181]   [INFO] Tool info request: data_processing_filter
[19:53:02.181] 
[19:53:02.181] [TURN 7/10]
[19:53:02.182] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:53:06.806] 2025-08-20 19:53:06,806 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:06.808]   [INFO] Tool info request: data_processing_validator
[19:53:06.808] 
[19:53:06.808] [TURN 4/10]
[19:53:06.810] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:53:11.788] 2025-08-20 19:53:11,787 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:11.792]   [SEARCH] Query: data format converter
[19:53:11.794] 
[19:53:11.795] [TURN 8/10]
[19:53:11.796] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:53:20.468] 2025-08-20 19:53:20,467 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:20.471]   [SEARCH] Query: schema provider
[19:53:20.960] 2025-08-20 19:53:20,959 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:53:20.964] 
[19:53:20.964] [TURN 5/10]
[19:53:20.965] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:53:25.768] 2025-08-20 19:53:25,768 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:25.770]   [PARSE] Found tool call: data_processing_transformer
[19:53:25.770]   [EXECUTING] data_processing_transformer
[19:53:25.771]     [PENALTY] Recent failures: 1, success rate reduced
[19:53:25.771]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[19:53:25.771]   [CONTINUE] Required tools failed: ['data_processing_filter', 'data_processing_transformer'], may retry
[19:53:25.771] 
[19:53:25.771] [TURN 9/10]
[19:53:25.772] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:53:29.895] 2025-08-20 19:53:29,894 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:29.897]   [PARSE] Found tool call: file_operations_converter
[19:53:29.897]   [EXECUTING] file_operations_converter
[19:53:29.897]     [PENALTY] Recent failures: 2, success rate reduced
[19:53:29.897]     Result: SUCCESS
[19:53:29.897]   [CONTINUE] Required tools failed: ['data_processing_filter', 'data_processing_transformer'], may retry
[19:53:29.897] 
[19:53:29.897] [TURN 10/10]
[19:53:29.898] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:53:34.606] 2025-08-20 19:53:34,605 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:34.608]   [PARSE] Found tool call: data_processing_filter
[19:53:34.608]   [EXECUTING] data_processing_filter
[19:53:34.609]     [PENALTY] Recent failures: 2, success rate reduced
[19:53:34.609]     Result: SUCCESS
[19:53:34.609]   [CONTINUE] Required tools failed: ['data_processing_transformer'], may retry
[19:53:34.613] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:53:47.683] 2025-08-20 19:53:47,683 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:47.686]   [PARSE] Found tool call: data_processing_parser
[19:53:47.686]   [EXECUTING] data_processing_parser
[19:53:47.687]     Result: FAILED - TIMEOUT: Operation timed out (after 16 seconds)
[19:53:47.687] 
[19:53:47.687] [TURN 4/10]
[19:53:47.687] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:53:53.872] 2025-08-20 19:53:53,872 - openai._base_client - INFO - Retrying request to /chat/completions in 0.428264 seconds
[19:53:55.908] 2025-08-20 19:53:55,908 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:53:55.912]   [SEARCH] Query: data parser
[19:53:55.914] 
[19:53:55.914] [TURN 5/10]
[19:53:55.915] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:54:09.889] 2025-08-20 19:54:09,889 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:54:09.891]   [PARSE] Found tool call: data_processing_transformer
[19:54:09.891]   [EXECUTING] data_processing_transformer
[19:54:09.891]     [DEPENDENCY] Failed: data_processing_parser, success rate reduced
[19:54:09.891]     [PENALTY] Recent failures: 1, success rate reduced
[19:54:09.891]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[19:54:09.891] 
[19:54:09.892] [TURN 6/10]
[19:54:09.892] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:54:10.189] 2025-08-20 19:54:10,189 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:54:10.190]   [PARSE] Found tool call: data_processing_parser
[19:54:10.190]   [EXECUTING] data_processing_parser
[19:54:10.190]     Result: SUCCESS
[19:54:10.190] 
[19:54:10.190] [TURN 5/10]
[19:54:10.195] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:54:12.342] 2025-08-20 19:54:12,342 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:54:12.343]   [SEARCH] Query: data_processing_filter
[19:54:12.345] 
[19:54:12.345] [TURN 6/10]
[19:54:12.346] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:54:53.874] 2025-08-20 19:54:53,873 - openai._base_client - INFO - Retrying request to /chat/completions in 0.442388 seconds
[19:54:53.974] 2025-08-20 19:54:53,974 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:54:54.013]   [INFO] Tool info request: data_processing_transformer
[19:54:54.013] 
[19:54:54.013] [TURN 7/10]
[19:54:54.019] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:09.472] 2025-08-20 19:55:09,471 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:09.476]   [PARSE] Found tool call: data_processing_parser
[19:55:09.476]   [EXECUTING] data_processing_parser
[19:55:09.481]     [PENALTY] Recent failures: 2, success rate reduced
[19:55:09.485]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[19:55:09.485] 
[19:55:09.485] [TURN 8/10]
[19:55:09.493] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:12.780] 2025-08-20 19:55:12,780 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:12.782]   [PARSE] Found tool call: data_processing_filter
[19:55:12.782]   [EXECUTING] data_processing_filter
[19:55:12.782]     Result: SUCCESS
[19:55:12.782] 
[19:55:12.782] [TURN 7/10]
[19:55:12.783] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:13.212] 2025-08-20 19:55:13,212 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:13.215]   [PARSE] Found tool call: data_processing_validator
[19:55:13.215]   [EXECUTING] data_processing_validator
[19:55:13.216]     Result: SUCCESS
[19:55:13.216] 
[19:55:13.216] [TURN 4/10]
[19:55:13.217] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:15.647] 2025-08-20 19:55:15,646 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:15.653]   [COMPLETION] Task marked as completed - all required tools executed
[19:55:15.655] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:16.133] 2025-08-20 19:55:16,133 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:16.134]   [PARSE] Found tool call: data_processing_transformer
[19:55:16.134]   [EXECUTING] data_processing_transformer
[19:55:16.134]     Result: FAILED - TIMEOUT: Operation timed out (after 28 seconds)
[19:55:16.134] 
[19:55:16.134] [TURN 5/10]
[19:55:16.135] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:18.634] 2025-08-20 19:55:18,632 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:18.636]   [SEARCH] Query: data transformation alternative
[19:55:18.637] 
[19:55:18.637] [TURN 6/10]
[19:55:18.639] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:20.973] 2025-08-20 19:55:20,973 - openai._base_client - INFO - Retrying request to /chat/completions in 0.482382 seconds
[19:55:21.708] 2025-08-20 19:55:21,707 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:21.708]   [INFO] Tool info request: integration_mapper
[19:55:21.708] 
[19:55:21.708] [TURN 7/10]
[19:55:21.709] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:31.162] 2025-08-20 19:55:31,162 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:31.162]   [INFO] Tool info request: data_processing_parser
[19:55:31.162] 
[19:55:31.162] [TURN 6/10]
[19:55:31.163] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:31.234] 2025-08-20 19:55:31,234 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:31.235]   [INFO] Tool info request: file_operations_reader
[19:55:31.235] 
[19:55:31.235] [TURN 9/10]
[19:55:31.236] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:39.351] 2025-08-20 19:55:39,351 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:39.358]   [PARSE] Found tool call: data_processing_transformer
[19:55:39.358]   [EXECUTING] data_processing_transformer
[19:55:39.359]     [DEPENDENCY] Failed: data_processing_parser, success rate reduced
[19:55:39.359]     [PENALTY] Recent failures: 3, success rate reduced
[19:55:39.359]     Result: SUCCESS
[19:55:39.359] 
[19:55:39.359] [TURN 10/10]
[19:55:39.359] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:47.924] 2025-08-20 19:55:47,924 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:47.925]   [PARSE] Found tool call: data_processing_transformer
[19:55:47.925]   [EXECUTING] data_processing_transformer
[19:55:47.925]     [PENALTY] Recent failures: 1, success rate reduced
[19:55:47.925]     Result: SUCCESS
[19:55:47.925] 
[19:55:47.925] [TURN 8/10]
[19:55:47.925] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:50.472] 2025-08-20 19:55:50,472 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:50.474]   [PARSE] Found tool call: data_processing_filter
[19:55:50.474]   [EXECUTING] data_processing_filter
[19:55:50.475]     [PENALTY] Recent failures: 1, success rate reduced
[19:55:50.475]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[19:55:50.475]   [CONTINUE] Required tools failed: ['data_processing_filter'], may retry
[19:55:50.475] 
[19:55:50.475] [TURN 9/10]
[19:55:50.476] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:54.305] 2025-08-20 19:55:54,305 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:54.307]   [SEARCH] Query: data filtering alternative
[19:55:54.308] 
[19:55:54.308] [TURN 10/10]
[19:55:54.310] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:55:57.709] 2025-08-20 19:55:57,709 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:55:57.710]   [PARSE] Found tool call: data_processing_aggregator
[19:55:57.710]   [EXECUTING] data_processing_aggregator
[19:55:57.711]     [DEPENDENCY] Failed: data_processing_parser, success rate reduced
[19:55:57.711]     [PENALTY] Recent failures: 2, success rate reduced
[19:55:57.711]     Result: SUCCESS
[19:55:57.712] [DEBUG RAG] computation_analyzer semantically matched with data_processing_aggregator (score: 0.540)
[19:55:57.713] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:55:57.713] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[19:55:57.713] [AI_DEBUG] 生成的txt_content长度: 20862
[19:55:57.713] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:55:57.713]   - use_ai_classification=True
[19:55:57.713]   - ai_classifier=True
[19:55:57.713]   - txt_content_len=20862
[19:55:57.713]   - task_model=deepseek-r1-0528
[19:55:57.713] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:56:11.044] 2025-08-20 19:56:11,043 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:56:11.051] [AI_DEBUG] AI分类结果: category=dependency_errors, confidence=0.75
[19:56:11.769] 2025-08-20 19:56:11,769 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:56:11.770]   [INFO] Tool info request: utility_helper
[19:56:11.771] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:56:32.349] 2025-08-20 19:56:32,348 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:56:32.352]   [PARSE] Fuzzy matched 'data_processing_parser
[19:56:32.352] {
[19:56:32.352]   "source": "data/input.json",
[19:56:32.352]   "options": {}
[19:56:32.352] }' to 'data_processing_parser'
[19:56:32.352]   [EXECUTING] data_processing_parser
[19:56:32.353]     Result: SUCCESS
[19:56:32.353] 
[19:56:32.353] [TURN 7/10]
[19:56:32.355] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:57:12.903] 2025-08-20 19:57:12,902 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:57:12.908]   [SEARCH] Query: schema generator
[19:57:12.913] 
[19:57:12.913] [TURN 8/10]
[19:57:12.915] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:57:38.567] 2025-08-20 19:57:38,566 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:57:38.569]   [SEARCH] Query: utility create object
[19:57:39.055] 2025-08-20 19:57:39,055 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:57:39.057] 
[19:57:39.057] [TURN 9/10]
[19:57:39.085] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:58:28.042] 2025-08-20 19:58:28,041 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:58:28.047]   [PARSE] Fuzzy matched 'data_processing_validator
[19:58:28.047] {
[19:58:28.047]   "schema": {
[19:58:28.047]     "$schema": "http://json-schema.org/draft-07/schema#",
[19:58:28.047]     "type": "object",
[19:58:28.047]     "properties": {
[19:58:28.047]       "data": {}
[19:58:28.047]     },
[19:58:28.047]     "required": ["data"]
[19:58:28.047]   },
[19:58:28.047]   "data": "data/output.json",
[19:58:28.047]   "options": {}
[19:58:28.047] }' to 'data_processing_validator'
[19:58:28.047]   [EXECUTING] data_processing_validator
[19:58:28.050]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[19:58:28.050]   [CONTINUE] Required tools failed: ['data_processing_validator'], may retry
[19:58:28.050] 
[19:58:28.050] [TURN 10/10]
[19:58:28.051] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[19:58:45.008] 2025-08-20 19:58:45,007 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[19:58:45.012]   [SEARCH] Query: data inspector
[19:58:45.022] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:58:45.022] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[19:58:45.022] [AI_DEBUG] 生成的txt_content长度: 30654
[19:58:45.022] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:58:45.022]   - use_ai_classification=True
[19:58:45.022]   - ai_classifier=True
[19:58:45.022]   - txt_content_len=30654
[19:58:45.023]   - task_model=deepseek-r1-0528
[19:58:45.023] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:58:59.318] 2025-08-20 19:58:59,317 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:58:59.321] [AI_DEBUG] AI分类结果: category=other_errors, confidence=0.72
[19:58:59.326] 
[19:58:59.326] [INFO] Batch writing 5 records to database (deepseek-r1-0528:5)
[19:58:59.327] 2025-08-20 19:58:59,326 - batch_test_runner - INFO - Batch writing 5 records to database (deepseek-r1-0528:5)
[19:58:59.327] [INFO] Successfully wrote 5/5 records (deepseek-r1-0528:5)
[19:58:59.327] 2025-08-20 19:58:59,327 - batch_test_runner - INFO - Successfully wrote 5/5 records (deepseek-r1-0528:5)
[19:58:59.328] [INFO] 数据已同步到Parquet存储
[19:58:59.328] 2025-08-20 19:58:59,328 - batch_test_runner - INFO - Database saved successfully
[19:58:59.329] 2025-08-20 19:58:59,329 - batch_test_runner - INFO - ============================================================
[19:58:59.329] 2025-08-20 19:58:59,329 - batch_test_runner - INFO - Batch test completed at 2025-08-20T19:58:59.329103
[19:58:59.329] 2025-08-20 19:58:59,329 - batch_test_runner - INFO - Summary:
[19:58:59.329] 2025-08-20 19:58:59,329 - batch_test_runner - INFO -   - Total tests: 5
[19:58:59.329] 2025-08-20 19:58:59,329 - batch_test_runner - INFO -   - Successful: 5
[19:58:59.329] 2025-08-20 19:58:59,329 - batch_test_runner - INFO -   - Failed: 0
[19:58:59.329] 2025-08-20 19:58:59,329 - batch_test_runner - INFO -   - Success rate: 100.0%
[19:58:59.329] 2025-08-20 19:58:59,329 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250820_195118.log
[19:58:59.329] 2025-08-20 19:58:59,329 - batch_test_runner - INFO - ============================================================
[19:58:59.329] 
[19:58:59.329] ✅ 批测试完成
[19:58:59.329]    成功: 5/5
[19:58:59.329]    失败: 0/5
[19:58:59.329] 
[19:58:59.329] 📤 最终保存5个测试结果...
[19:58:59.330] [DEBUG] 创建新的manager实例: key=True_
[19:58:59.330] ✅ 已保存 5 个测试结果到数据库
[19:58:59.450] [INFO] 已将 5 个汇总写入Parquet
[19:58:59.495] [INFO] 刷新manager缓存: key=True_

==================================================
分片 DeepSeek-R1-0528_easy_1 完成
退出码: 0
总行数: 660
运行时间: 465.3秒
时间: 2025-08-20T19:59:00.944729
