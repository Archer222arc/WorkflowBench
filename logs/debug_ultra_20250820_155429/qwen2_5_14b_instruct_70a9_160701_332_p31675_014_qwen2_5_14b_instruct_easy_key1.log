===== 分片 qwen2.5-14b-instruct_easy_key1 =====
时间: 2025-08-20T16:07:01.333902
模型: qwen2.5-14b-instruct
实例: qwen-key1
命令: python -u smart_batch_runner.py --model qwen2.5-14b-instruct --deployment qwen-key1 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[16:07:03.185] 2025-08-20 16:07:03,185 - faiss.loader - INFO - Loading faiss.
[16:07:03.197] 2025-08-20 16:07:03,197 - faiss.loader - INFO - Successfully loaded faiss.
[16:07:04.316] [INFO] 使用Parquet存储格式
[16:07:04.692] [INFO] 使用Parquet存储格式
[16:07:04.698] [INFO] 使用PARQUET存储格式
[16:07:04.698] 
[16:07:04.698] ============================================================
[16:07:04.698] 智能批测试: qwen2.5-14b-instruct (idealab)
[16:07:04.698] Prompt types: ['optimal']
[16:07:04.698] 难度: easy
[16:07:04.698] 目标: 每种配置 2 个实例
[16:07:04.698] ============================================================
[16:07:04.737] ○ simple_task         :   0/  2 已完成 (需要补充 2 个)
[16:07:04.745] ○ basic_task          :   0/  2 已完成 (需要补充 2 个)
[16:07:04.751] ○ data_pipeline       :   0/  2 已完成 (需要补充 2 个)
[16:07:04.759] ○ api_integration     :   0/  2 已完成 (需要补充 2 个)
[16:07:04.766] ○ multi_stage_pipeline:   0/  2 已完成 (需要补充 2 个)
[16:07:04.766] 
[16:07:04.766] ⏳ 需要运行 10 个新测试
[16:07:04.766] 
[16:07:04.766] ▶ 准备 simple_task (2 个实例)...
[16:07:04.766] 
[16:07:04.766] ▶ 准备 basic_task (2 个实例)...
[16:07:04.766] 
[16:07:04.766] ▶ 准备 data_pipeline (2 个实例)...
[16:07:04.766] 
[16:07:04.766] ▶ 准备 api_integration (2 个实例)...
[16:07:04.766] 
[16:07:04.766] ▶ 准备 multi_stage_pipeline (2 个实例)...
[16:07:04.766] 
[16:07:04.766] ▶ 开始执行 10 个测试...
[16:07:04.766] 📦 批量提交模式：每20个测试保存一次
[16:07:04.766] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[16:07:04.768] 2025-08-20 16:07:04,768 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[16:07:04.833] 2025-08-20 16:07:04,833 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[16:07:04.833] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x159607c80>
[16:07:04.833] 2025-08-20 16:07:04,833 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[16:07:04.833] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[16:07:04.835] 2025-08-20 16:07:04,835 - batch_test_runner - INFO - ============================================================
[16:07:04.836] 2025-08-20 16:07:04,836 - batch_test_runner - INFO - Batch test runner initialized
[16:07:04.836] 2025-08-20 16:07:04,836 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[16:07:04.836] 2025-08-20 16:07:04,836 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_160704.log
[16:07:04.836] 2025-08-20 16:07:04,836 - batch_test_runner - INFO - ============================================================
[16:07:04.836] 2025-08-20 16:07:04,836 - batch_test_runner - INFO - Running 10 tests with 3 workers, QPS limit: 5.0
[16:07:04.836] 2025-08-20 16:07:04,836 - batch_test_runner - INFO - Initializing test components...
[16:07:05.139] 2025-08-20 16:07:05,139 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[16:07:05.140] 2025-08-20 16:07:05,140 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[16:07:05.140] 2025-08-20 16:07:05,140 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[16:07:05.140] [DEBUG] Creating new ToolCapabilityManager instance
[16:07:05.140] [OperationEmbeddingIndex] Initializing with unified API client manager
[16:07:05.140] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[16:07:05.140] 2025-08-20 16:07:05,140 - api_client_manager - INFO - Loaded configuration from config/config.json
[16:07:05.146] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[16:07:05.146] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[16:07:05.146] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[16:07:05.996] 2025-08-20 16:07:05,996 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[16:07:05.999] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[16:07:06.066] [INFO] Loaded 4150 embeddings from persistent cache
[16:07:06.066] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[16:07:06.066] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[16:07:06.066] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[16:07:06.066] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[16:07:06.070] [INFO] Successfully loaded FAISS index with dimension 3072
[16:07:06.070] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[16:07:06.070] [INFO] Loaded 15 operations with dimension 3072
[16:07:06.071] [INFO] Successfully loaded cached index
[16:07:06.071] [INFO] Operation semantic index initialized
[16:07:06.071] [INFO] Using device: cpu
[16:07:06.071] [INFO] Initialized tool success tracking attributes
[16:07:06.071] [INFO] Initializing embedding manager for enhanced tool selection
[16:07:06.071] [MCPEmbeddingManager] Creating new singleton instance
[16:07:06.071] [MCPEmbeddingManager] Initializing with unified API client manager
[16:07:06.080] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[16:07:06.080] [MCPEmbeddingManager] Client initialized successfully
[16:07:06.080] 2025-08-20 16:07:06,080 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[16:07:06.204] 2025-08-20 16:07:06,204 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[16:07:06.419] 2025-08-20 16:07:06,419 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[16:07:06.419] 2025-08-20 16:07:06,419 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[16:07:06.441] 2025-08-20 16:07:06,441 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[16:07:06.497] 2025-08-20 16:07:06,496 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[16:07:06.859] 2025-08-20 16:07:06,859 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[16:07:06.859] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[16:07:06.859] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[16:07:06.859] 2025-08-20 16:07:06,859 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[16:07:07.232] 2025-08-20 16:07:07,232 - mcp_embedding_manager - INFO - FAISS index loaded
[16:07:07.232] 2025-08-20 16:07:07,232 - mcp_embedding_manager - INFO - Updated dimension to 3072
[16:07:07.232] 2025-08-20 16:07:07,232 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[16:07:07.234] [SUCCESS] Loaded 30 tool embeddings
[16:07:07.234] 2025-08-20 16:07:07,234 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[16:07:07.234] [SUCCESS] Embedding manager initialized with 30 tools
[16:07:07.234] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[16:07:07.234] [INFO] Loading full MCP protocol registry...
[16:07:07.239] 2025-08-20 16:07:07,239 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[16:07:07.239] [INFO] Loaded full tool registry with 30 tools
[16:07:07.239] 2025-08-20 16:07:07,239 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[16:07:07.239] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[16:07:07.240] [INFO] Embedding manager ready with 30 tools
[16:07:07.240] [WARNING] Embedding manager exists but has no embeddings
[16:07:07.240] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[16:07:07.240] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[16:07:07.240] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[16:07:07.240] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[16:07:07.240] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[16:07:07.240] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[16:07:07.240] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[16:07:07.240] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[16:07:07.240] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[16:07:07.240] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[16:07:07.240] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[16:07:07.240] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[16:07:07.240] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[16:07:07.240] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[16:07:07.240] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[16:07:07.240] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[16:07:07.240] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[16:07:07.240] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[16:07:07.240] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[16:07:07.240] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[16:07:07.240] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[16:07:07.240] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[16:07:07.240] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[16:07:07.240] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[16:07:07.240] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[16:07:07.240] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[16:07:07.240] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[16:07:07.240] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[16:07:07.240] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[16:07:07.240] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[16:07:07.240] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[16:07:07.241] 2025-08-20 16:07:07,240 - mdp_workflow_generator - INFO - Loaded 30 tools
[16:07:07.241] [INFO] Setting default state_dim based on loaded tools
[16:07:07.241] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[16:07:07.241] 2025-08-20 16:07:07,241 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[16:07:07.241] [INFO] Setting default action_dim based on loaded tools
[16:07:07.241] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[16:07:07.241] 2025-08-20 16:07:07,241 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[16:07:07.241] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[16:07:07.241] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[16:07:07.241] [INFO] ⚡ Will use pre-generated workflows or random policy
[16:07:07.241] 2025-08-20 16:07:07,241 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[16:07:07.241] [INFO] Initializing TaskManager...
[16:07:08.247] 2025-08-20 16:07:08,247 - unified_training_manager - INFO - Using device: cpu
[16:07:08.349] 2025-08-20 16:07:08,349 - unified_training_manager - INFO - Task filtering results:
[16:07:08.349] 2025-08-20 16:07:08,349 - unified_training_manager - INFO -   Total: 5040 -> 5040
[16:07:08.349] 2025-08-20 16:07:08,349 - unified_training_manager - INFO -   simple_task: 320 -> 320
[16:07:08.349] 2025-08-20 16:07:08,349 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[16:07:08.349] 2025-08-20 16:07:08,349 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[16:07:08.349] 2025-08-20 16:07:08,349 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[16:07:08.349] 2025-08-20 16:07:08,349 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[16:07:08.349] 2025-08-20 16:07:08,349 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[16:07:08.351] 2025-08-20 16:07:08,351 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[16:07:08.351] [TaskManager] Difficulty level 'easy': 1096 tasks
[16:07:08.351] [TaskManager] Difficulty level 'very_easy': 856 tasks
[16:07:08.351] [TaskManager] Difficulty level 'medium': 1136 tasks
[16:07:08.351] [TaskManager] Difficulty level 'hard': 1096 tasks
[16:07:08.351] [TaskManager] Difficulty level 'very_hard': 856 tasks
[16:07:08.353] [INFO] TaskManager initialized with 5040 tasks
[16:07:08.353] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[16:07:08.353] [INFO] Initializing ToolCallVerifier...
[16:07:08.354] [INFO] ToolCallVerifier initialized with 30 tools
[16:07:08.354] [INFO] Output tools identified: 1
[16:07:08.354] [INFO] Component initialization status:
[16:07:08.354]   - embedding_manager: initialized
[16:07:08.354]   - task_manager: initialized
[16:07:08.354]   - output_verifier: initialized
[16:07:08.354]   - tool_capability_manager: initialized
[16:07:08.354]   - tool_success_rates: initialized with 0 entries
[16:07:08.354] [INFO] MDPWorkflowGenerator initialization complete
[16:07:08.354] 2025-08-20 16:07:08,354 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[16:07:08.354] 2025-08-20 16:07:08,354 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[16:07:08.354] 2025-08-20 16:07:08,354 - batch_test_runner - INFO -   - task_manager: ✓
[16:07:08.354] 2025-08-20 16:07:08,354 - batch_test_runner - INFO -   - output_verifier: ✓
[16:07:08.354] 2025-08-20 16:07:08,354 - batch_test_runner - INFO -   - embedding_manager: ✓
[16:07:08.354] 2025-08-20 16:07:08,354 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[16:07:08.354] 2025-08-20 16:07:08,354 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[16:07:08.354] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:08.354] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:08.354] [FlawedWorkflowGenerator] Initialized with 30 tools
[16:07:08.354] [FlawedWorkflowGenerator] RAG support: disabled
[16:07:08.359] DEBUG: Checking generator attributes
[16:07:08.359]   - has tool_capabilities: True
[16:07:08.359]   - has tool_capability_manager: True
[16:07:08.359]   - has task_manager: True
[16:07:08.359] [INFO] Loaded 30 tools from generator
[16:07:08.359] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[16:07:08.359] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:08.359] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:08.359] [INFO] Initializing LLM client using APIClientManager
[16:07:08.373] [INFO] Using Azure OpenAI client
[16:07:08.373] [DEBUG] Checking if generator has tool_capability_manager attribute
[16:07:08.373] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[16:07:08.373] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:08.373] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:08.373] [FlawedWorkflowGenerator] Initialized with 30 tools
[16:07:08.374] [FlawedWorkflowGenerator] RAG support: enabled
[16:07:08.374] [INFO] FlawedWorkflowGenerator initialized successfully
[16:07:08.374] [INFO] Initializing StableScorer for Phase 2 scoring
[16:07:08.374] <tool_capability_manager.ToolCapabilityManager object at 0x3125cb350>
[16:07:08.374] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:08.374] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:08.374] [INFO] Loaded tool success history for 0 tools
[16:07:08.374] [INFO] StableScorer initialized with semantic capability
[16:07:08.374] [INFO] StableScorer initialized successfully
[16:07:08.374] [INFO] Loading task instances...
[16:07:08.374] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[16:07:08.382] [INFO] Loaded 630 task instances
[16:07:08.382] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[16:07:08.382] 2025-08-20 16:07:08,382 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[16:07:08.382] 2025-08-20 16:07:08,382 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[16:07:08.686] 2025-08-20 16:07:08,686 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[16:07:08.686] 2025-08-20 16:07:08,686 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[16:07:08.702] 2025-08-20 16:07:08,702 - batch_test_runner - INFO - Initialization complete
[16:07:08.732] 2025-08-20 16:07:08,732 - batch_test_runner - INFO - Starting batch test with 10 tasks, 3 workers
[16:07:08.732] 2025-08-20 16:07:08,732 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[16:07:08.734] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[16:07:08.743] 2025-08-20 16:07:08,743 - smart_model_router - INFO - Using idealab for qwen2.5-14b-instruct
[16:07:08.750] 2025-08-20 16:07:08,749 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[16:07:08.750] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[16:07:08.750] [InteractiveExecutor] Using prompt type: optimal for API key selection
[16:07:08.750] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[16:07:08.750] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:08.750] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:08.750] 2025-08-20 16:07:08,750 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[16:07:09.051] 2025-08-20 16:07:09,051 - mcp_embedding_manager - INFO - FAISS index loaded
[16:07:09.052] 2025-08-20 16:07:09,051 - mcp_embedding_manager - INFO - Updated dimension to 3072
[16:07:09.052] 2025-08-20 16:07:09,051 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[16:07:09.054] [INFO] Tool embedding index loaded successfully
[16:07:09.054] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[16:07:09.055] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[16:07:09.055] [INFO] Operation semantic index initialized
[16:07:09.055] 
[16:07:09.055] [TURN 1/10]
[16:07:09.055] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:09.064] 2025-08-20 16:07:09,064 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[16:07:09.064] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[16:07:09.064] [InteractiveExecutor] Using prompt type: optimal for API key selection
[16:07:09.064] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[16:07:09.064] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:09.064] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:09.065] 2025-08-20 16:07:09,064 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[16:07:09.082] 2025-08-20 16:07:09,082 - mcp_embedding_manager - INFO - FAISS index loaded
[16:07:09.082] 2025-08-20 16:07:09,082 - mcp_embedding_manager - INFO - Updated dimension to 3072
[16:07:09.082] 2025-08-20 16:07:09,082 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[16:07:09.084] [INFO] Tool embedding index loaded successfully
[16:07:09.085] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[16:07:09.085] [INFO] Operation semantic index initialized
[16:07:09.085] 
[16:07:09.085] [TURN 1/10]
[16:07:09.085] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:09.244] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[16:07:09.258] 2025-08-20 16:07:09,258 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[16:07:09.258] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[16:07:09.258] [InteractiveExecutor] Using prompt type: optimal for API key selection
[16:07:09.260] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[16:07:09.260] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:09.260] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:09.260] 2025-08-20 16:07:09,260 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[16:07:09.285] 2025-08-20 16:07:09,285 - mcp_embedding_manager - INFO - FAISS index loaded
[16:07:09.285] 2025-08-20 16:07:09,285 - mcp_embedding_manager - INFO - Updated dimension to 3072
[16:07:09.285] 2025-08-20 16:07:09,285 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[16:07:09.288] [INFO] Tool embedding index loaded successfully
[16:07:09.288] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[16:07:09.288] [INFO] Operation semantic index initialized
[16:07:09.288] 
[16:07:09.288] [TURN 1/10]
[16:07:09.289] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:10.376] 2025-08-20 16:07:10,375 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:10.384]   [SEARCH] Query: data schema validator
[16:07:10.385] 
[16:07:10.385] [TURN 2/10]
[16:07:10.386] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:10.479] 2025-08-20 16:07:10,479 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:10.480]   [SEARCH] Query: data validation parser
[16:07:10.480] 
[16:07:10.480] [TURN 2/10]
[16:07:10.481] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:10.827] 2025-08-20 16:07:10,826 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:10.831]   [SEARCH] Query: file reader
[16:07:10.831] 
[16:07:10.831] [TURN 2/10]
[16:07:10.834] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:11.733] 2025-08-20 16:07:11,732 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:11.737]   [INFO] Tool info request: data_processing_validator
[16:07:11.737] 
[16:07:11.737] [TURN 3/10]
[16:07:11.739] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:11.748] 2025-08-20 16:07:11,748 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:11.749]   [INFO] Tool info request: data_processing_validator
[16:07:11.749] 
[16:07:11.749] [TURN 3/10]
[16:07:11.751] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:11.980] 2025-08-20 16:07:11,979 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:11.980]   [INFO] Tool info request: file_operations_reader
[16:07:11.981] 
[16:07:11.981] [TURN 3/10]
[16:07:11.981] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:12.706] 2025-08-20 16:07:12,706 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:12.706]   [INFO] Tool info request: data_processing_parser
[16:07:12.706] 
[16:07:12.706] [TURN 4/10]
[16:07:12.707] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:13.019] 2025-08-20 16:07:13,019 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:13.022]   [PARSE] Fuzzy matched 'file_operations_reader(source="data/input.json")' to 'file_operations_reader'
[16:07:13.023]   [EXECUTING] file_operations_reader
[16:07:13.023]     Result: SUCCESS
[16:07:13.023] 
[16:07:13.023] [TURN 4/10]
[16:07:13.024] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:13.686] 2025-08-20 16:07:13,686 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:13.686] 2025-08-20 16:07:13,686 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:13.689]   [EARLY_EXIT] No actions taken, continuing...
[16:07:13.689] 
[16:07:13.689] [TURN 5/10]
[16:07:13.689]   [EARLY_EXIT] No actions taken, continuing...
[16:07:13.689] 
[16:07:13.689] [TURN 4/10]
[16:07:13.694] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:13.696] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:13.968] 2025-08-20 16:07:13,967 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:13.975]   [PARSE] Fuzzy matched 'data_processing_parser(source="data/input.json")' to 'data_processing_parser'
[16:07:13.975]   [EXECUTING] data_processing_parser
[16:07:13.975]     Result: FAILED - TIMEOUT: Operation timed out (after 10 seconds)
[16:07:13.975] 
[16:07:13.975] [TURN 5/10]
[16:07:13.977] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:14.661] 2025-08-20 16:07:14,661 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:14.663]   [EARLY_EXIT] No actions taken, continuing...
[16:07:14.663] 
[16:07:14.664] [TURN 6/10]
[16:07:14.666] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:14.879] 2025-08-20 16:07:14,879 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:14.884]   [PARSE] Fuzzy matched 'data_processing_filter(source="data/input.json")' to 'data_processing_filter'
[16:07:14.885]   [EXECUTING] data_processing_filter
[16:07:14.885]     Result: SUCCESS
[16:07:14.885]   [CONTINUE] Required tools failed: ['data_processing_parser'], may retry
[16:07:14.885] 
[16:07:14.885] [TURN 6/10]
[16:07:14.888] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:15.594] 2025-08-20 16:07:15,594 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:15.596]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[16:07:15.596] 
[16:07:15.596] [TURN 7/10]
[16:07:15.596] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:15.971] 2025-08-20 16:07:15,971 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:15.972]   [EARLY_EXIT] No actions taken, continuing...
[16:07:15.972] 
[16:07:15.972] [TURN 5/10]
[16:07:15.972] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:16.923] 2025-08-20 16:07:16,923 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:16.925]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[16:07:16.925] 
[16:07:16.926] [TURN 8/10]
[16:07:16.926] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:17.334] 2025-08-20 16:07:17,333 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:17.338]   [FORMAT_ISSUE] Turn 6: Detected potential tool 'd' in incorrect format
[16:07:17.338]   [FORMAT_ISSUE] Potential tools detected: ['d']
[16:07:17.338] 
[16:07:17.338] [TURN 7/10]
[16:07:17.340] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:17.522] 2025-08-20 16:07:17,521 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:17.525]   [FORMAT_ISSUE] Turn 5: Detected potential tool 'data_processing_validator' in incorrect format
[16:07:17.525]   [FORMAT_ISSUE] Potential tools detected: ['data_processing_validator']
[16:07:17.525] 
[16:07:17.525] [TURN 6/10]
[16:07:17.526] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:17.865] 2025-08-20 16:07:17,865 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:17.865]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[16:07:17.865] 
[16:07:17.865] [TURN 9/10]
[16:07:17.866] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:18.241] 2025-08-20 16:07:18,241 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:18.246]   [FORMAT_ISSUE] Turn 7: Detected potential tool 'data_processing_parser' in incorrect format
[16:07:18.246]   [FORMAT_ISSUE] Potential tools detected: ['data_processing_parser']
[16:07:18.246] 
[16:07:18.246] [TURN 8/10]
[16:07:18.247] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:18.727] 2025-08-20 16:07:18,726 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:18.728]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[16:07:18.728] 
[16:07:18.728] [TURN 10/10]
[16:07:18.735] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:19.014] 2025-08-20 16:07:19,014 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:19.018]   [FORMAT_ISSUE] Turn 6: Detected potential tool 'data_processing_validator' in incorrect format; No tools executed after multiple turns
[16:07:19.018]   [FORMAT_ISSUE] Potential tools detected: ['data_processing_validator']
[16:07:19.018] 
[16:07:19.018] [TURN 7/10]
[16:07:19.022] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:19.138] 2025-08-20 16:07:19,137 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:19.141]   [FORMAT_ISSUE] Turn 8: Detected potential tool 'data_processing_parser' in incorrect format
[16:07:19.141]   [FORMAT_ISSUE] Potential tools detected: ['data_processing_parser']
[16:07:19.141] 
[16:07:19.141] [TURN 9/10]
[16:07:19.142] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:19.655] 2025-08-20 16:07:19,654 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:19.660]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[16:07:19.661] [ASSISTED] Task received 5 format helps, final result: failure
[16:07:19.662] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:07:19.662] [AI_DEBUG] 测试失败，准备调用AI分类
[16:07:19.662] [AI_DEBUG] 生成的txt_content长度: 16752
[16:07:19.662] [AI_DEBUG] _ai_classify_with_txt_content called:
[16:07:19.663]   - use_ai_classification=True
[16:07:19.663]   - ai_classifier=True
[16:07:19.663]   - txt_content_len=16752
[16:07:19.663]   - task_model=qwen2.5-14b-instruct
[16:07:19.663] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[16:07:19.663] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[16:07:19.677] 2025-08-20 16:07:19,677 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[16:07:19.677] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[16:07:19.677] [InteractiveExecutor] Using prompt type: optimal for API key selection
[16:07:19.679] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[16:07:19.679] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:19.679] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:19.679] 2025-08-20 16:07:19,679 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[16:07:19.703] 2025-08-20 16:07:19,703 - mcp_embedding_manager - INFO - FAISS index loaded
[16:07:19.704] 2025-08-20 16:07:19,703 - mcp_embedding_manager - INFO - Updated dimension to 3072
[16:07:19.704] 2025-08-20 16:07:19,703 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[16:07:19.706] [INFO] Tool embedding index loaded successfully
[16:07:19.707] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[16:07:19.707] [INFO] Operation semantic index initialized
[16:07:19.707] 
[16:07:19.708] [TURN 1/10]
[16:07:19.708] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:19.790] 2025-08-20 16:07:19,790 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:19.794]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[16:07:19.794] 
[16:07:19.794] [TURN 8/10]
[16:07:19.803] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:20.034] 2025-08-20 16:07:20,033 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:20.038]   [FORMAT_ISSUE] Turn 9: Detected potential tool 'data_processing_parser' in incorrect format
[16:07:20.039]   [FORMAT_ISSUE] Potential tools detected: ['data_processing_parser']
[16:07:20.039] 
[16:07:20.039] [TURN 10/10]
[16:07:20.039] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:20.481] 2025-08-20 16:07:20,481 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:20.484] [ERROR] Empty message content from API
[16:07:20.484] [DEBUG] Response finish_reason: stop
[16:07:20.484] [DEBUG] Token usage - prompt: 2687, completion: 0
[16:07:20.484] [DEBUG] Model: qwen2.5-14b-instruct
[16:07:20.484] [DEBUG] Message fields: dict_keys(['content', 'refusal', 'role', 'annotations', 'audio', 'function_call', 'tool_calls'])
[16:07:20.484]   [API_FAILURE] API failed (timeout or max retries)
[16:07:20.484] [ASSISTED] Task received 3 format helps, final result: failure
[16:07:20.485] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:07:20.485] [AI_DEBUG] 测试失败，准备调用AI分类
[16:07:20.485] [AI_DEBUG] 生成的txt_content长度: 14368
[16:07:20.485] [AI_DEBUG] _ai_classify_with_txt_content called:
[16:07:20.485]   - use_ai_classification=True
[16:07:20.485]   - ai_classifier=True
[16:07:20.485]   - txt_content_len=14368
[16:07:20.486]   - task_model=qwen2.5-14b-instruct
[16:07:20.486] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[16:07:20.486] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[16:07:20.499] 2025-08-20 16:07:20,499 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[16:07:20.500] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[16:07:20.500] [InteractiveExecutor] Using prompt type: optimal for API key selection
[16:07:20.500] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[16:07:20.500] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:20.500] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:20.500] 2025-08-20 16:07:20,500 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[16:07:20.527] 2025-08-20 16:07:20,526 - mcp_embedding_manager - INFO - FAISS index loaded
[16:07:20.527] 2025-08-20 16:07:20,526 - mcp_embedding_manager - INFO - Updated dimension to 3072
[16:07:20.527] 2025-08-20 16:07:20,527 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[16:07:20.529] [INFO] Tool embedding index loaded successfully
[16:07:20.530] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[16:07:20.530] [INFO] Operation semantic index initialized
[16:07:20.530] 
[16:07:20.530] [TURN 1/10]
[16:07:20.531] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:20.928] 2025-08-20 16:07:20,926 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:20.935]   [FORMAT_ISSUE] Turn 10: Detected potential tool 'data_processing_parser' in incorrect format
[16:07:20.935]   [FORMAT_ISSUE] Potential tools detected: ['data_processing_parser']
[16:07:20.935] [ASSISTED] Task received 5 format helps, final result: partial_success
[16:07:20.936] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:07:20.937] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[16:07:20.953] 2025-08-20 16:07:20,953 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[16:07:20.953] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[16:07:20.953] [InteractiveExecutor] Using prompt type: optimal for API key selection
[16:07:20.954] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[16:07:20.954] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:20.954] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:20.954] 2025-08-20 16:07:20,954 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[16:07:20.980] 2025-08-20 16:07:20,980 - mcp_embedding_manager - INFO - FAISS index loaded
[16:07:20.980] 2025-08-20 16:07:20,980 - mcp_embedding_manager - INFO - Updated dimension to 3072
[16:07:20.980] 2025-08-20 16:07:20,980 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[16:07:20.983] [INFO] Tool embedding index loaded successfully
[16:07:20.990] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[16:07:20.990] [INFO] Operation semantic index initialized
[16:07:20.990] 
[16:07:20.990] [TURN 1/10]
[16:07:20.990] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:21.097] 2025-08-20 16:07:21,097 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:21.101]   [SEARCH] Query: file reader
[16:07:21.101] 
[16:07:21.101] [TURN 2/10]
[16:07:21.104] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:21.949] 2025-08-20 16:07:21,949 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:21.954]   [SEARCH] Query: file reader
[16:07:21.954] 
[16:07:21.954] [TURN 2/10]
[16:07:21.954] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:22.100] 2025-08-20 16:07:22,100 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:22.102]   [INFO] Tool info request: file_operations_reader
[16:07:22.102] 
[16:07:22.102] [TURN 3/10]
[16:07:22.103] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:22.199] 2025-08-20 16:07:22,199 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:22.201]   [SEARCH] Query: file reader
[16:07:22.201] 
[16:07:22.201] [TURN 2/10]
[16:07:22.201] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:22.953] 2025-08-20 16:07:22,953 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:22.957]   [EARLY_EXIT] No actions taken, continuing...
[16:07:22.957] 
[16:07:22.957] [TURN 4/10]
[16:07:22.960] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:23.151] 2025-08-20 16:07:23,151 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:23.154]   [INFO] Tool info request: file_operations_reader
[16:07:23.154] 
[16:07:23.154] [TURN 3/10]
[16:07:23.155] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:23.212] 2025-08-20 16:07:23,212 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:23.214]   [INFO] Tool info request: file_operations_reader
[16:07:23.214] 
[16:07:23.214] [TURN 3/10]
[16:07:23.219] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:23.842] 2025-08-20 16:07:23,842 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:23.846]   [EARLY_EXIT] No actions taken, continuing...
[16:07:23.846] 
[16:07:23.846] [TURN 5/10]
[16:07:23.847] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:24.069] 2025-08-20 16:07:24,069 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:24.072]   [EARLY_EXIT] No actions taken, continuing...
[16:07:24.072] 
[16:07:24.072] [TURN 4/10]
[16:07:24.073] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:24.122] 2025-08-20 16:07:24,122 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:24.126]   [EARLY_EXIT] No actions taken, continuing...
[16:07:24.126] 
[16:07:24.126] [TURN 4/10]
[16:07:24.127] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:24.720] 2025-08-20 16:07:24,720 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:24.723]   [EARLY_EXIT] No actions taken, continuing...
[16:07:24.723] 
[16:07:24.723] [TURN 6/10]
[16:07:24.723] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:24.921] 2025-08-20 16:07:24,921 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:24.926]   [FORMAT_ISSUE] Turn 4: Detected potential tool 'file_operations_reader' in incorrect format
[16:07:24.926]   [FORMAT_ISSUE] Potential tools detected: ['file_operations_reader']
[16:07:24.926] 
[16:07:24.926] [TURN 5/10]
[16:07:24.926] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:25.039] 2025-08-20 16:07:25,038 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:25.043]   [EARLY_EXIT] No actions taken, continuing...
[16:07:25.043] 
[16:07:25.043] [TURN 5/10]
[16:07:25.043] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:25.643] 2025-08-20 16:07:25,643 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:25.647]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[16:07:25.647] 
[16:07:25.647] [TURN 7/10]
[16:07:25.652] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:25.778] 2025-08-20 16:07:25,778 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:25.781]   [FORMAT_ISSUE] Turn 5: Detected potential tool 'file_operations_reader' in incorrect format
[16:07:25.781]   [FORMAT_ISSUE] Potential tools detected: ['file_operations_reader']
[16:07:25.781] 
[16:07:25.781] [TURN 6/10]
[16:07:25.781] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:25.849] 2025-08-20 16:07:25,849 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:25.852]   [EARLY_EXIT] No actions taken, continuing...
[16:07:25.853] 
[16:07:25.853] [TURN 6/10]
[16:07:25.853] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:26.604] 2025-08-20 16:07:26,603 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:26.608]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[16:07:26.608] 
[16:07:26.608] [TURN 8/10]
[16:07:26.614] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:26.616] 2025-08-20 16:07:26,616 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:26.619]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[16:07:26.619] 
[16:07:26.619] [TURN 7/10]
[16:07:26.620] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:26.873] 2025-08-20 16:07:26,872 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:26.876]   [FORMAT_ISSUE] Turn 6: Detected potential tool 'file_operations_reader' in incorrect format; No tools executed after multiple turns
[16:07:26.877]   [FORMAT_ISSUE] Potential tools detected: ['file_operations_reader']
[16:07:26.877] 
[16:07:26.877] [TURN 7/10]
[16:07:26.880] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:27.360] 2025-08-20 16:07:27,360 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:27.362]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[16:07:27.363] 
[16:07:27.363] [TURN 9/10]
[16:07:27.365] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:27.440] 2025-08-20 16:07:27,439 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:27.443]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[16:07:27.443] 
[16:07:27.443] [TURN 8/10]
[16:07:27.445] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:27.801] 2025-08-20 16:07:27,801 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:27.804]   [FORMAT_ISSUE] Turn 7: Detected potential tool 'file_operations_reader' in incorrect format; No tools executed after multiple turns
[16:07:27.804]   [FORMAT_ISSUE] Potential tools detected: ['file_operations_reader']
[16:07:27.804] 
[16:07:27.804] [TURN 8/10]
[16:07:27.805] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:28.297] 2025-08-20 16:07:28,297 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:28.301]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[16:07:28.301] 
[16:07:28.301] [TURN 9/10]
[16:07:28.302] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:28.322] 2025-08-20 16:07:28,320 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:28.323]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[16:07:28.323] 
[16:07:28.323] [TURN 10/10]
[16:07:28.324] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:28.742] 2025-08-20 16:07:28,742 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:28.744]   [FORMAT_ISSUE] Turn 8: Detected potential tool 'file_operations_reader' in incorrect format; No tools executed after multiple turns
[16:07:28.744]   [FORMAT_ISSUE] Potential tools detected: ['file_operations_reader']
[16:07:28.744] 
[16:07:28.744] [TURN 9/10]
[16:07:28.751] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:29.161] 2025-08-20 16:07:29,160 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:29.163]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[16:07:29.163] 
[16:07:29.163] [TURN 10/10]
[16:07:29.164] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:29.243] 2025-08-20 16:07:29,242 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:29.248]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[16:07:29.248] [ASSISTED] Task received 5 format helps, final result: failure
[16:07:29.249] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:07:29.249] [AI_DEBUG] 测试失败，准备调用AI分类
[16:07:29.249] [AI_DEBUG] 生成的txt_content长度: 15884
[16:07:29.249] [AI_DEBUG] _ai_classify_with_txt_content called:
[16:07:29.249]   - use_ai_classification=True
[16:07:29.249]   - ai_classifier=True
[16:07:29.249]   - txt_content_len=15884
[16:07:29.249]   - task_model=qwen2.5-14b-instruct
[16:07:29.249] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[16:07:29.250] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[16:07:29.265] 2025-08-20 16:07:29,265 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[16:07:29.265] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[16:07:29.265] [InteractiveExecutor] Using prompt type: optimal for API key selection
[16:07:29.265] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[16:07:29.265] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:29.265] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:29.265] 2025-08-20 16:07:29,265 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[16:07:29.291] 2025-08-20 16:07:29,291 - mcp_embedding_manager - INFO - FAISS index loaded
[16:07:29.292] 2025-08-20 16:07:29,291 - mcp_embedding_manager - INFO - Updated dimension to 3072
[16:07:29.292] 2025-08-20 16:07:29,291 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[16:07:29.294] [INFO] Tool embedding index loaded successfully
[16:07:29.295] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[16:07:29.295] [INFO] Operation semantic index initialized
[16:07:29.295] 
[16:07:29.295] [TURN 1/10]
[16:07:29.295] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:29.636] 2025-08-20 16:07:29,635 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:29.640]   [FORMAT_ISSUE] Turn 9: Detected potential tool 'file_operations_reader' in incorrect format; No tools executed after multiple turns
[16:07:29.640]   [FORMAT_ISSUE] Potential tools detected: ['file_operations_reader']
[16:07:29.640] 
[16:07:29.640] [TURN 10/10]
[16:07:29.641] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:30.025] 2025-08-20 16:07:30,024 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:30.030]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[16:07:30.030] [ASSISTED] Task received 5 format helps, final result: failure
[16:07:30.032] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:07:30.032] [AI_DEBUG] 测试失败，准备调用AI分类
[16:07:30.032] [AI_DEBUG] 生成的txt_content长度: 16492
[16:07:30.032] [AI_DEBUG] _ai_classify_with_txt_content called:
[16:07:30.032]   - use_ai_classification=True
[16:07:30.033]   - ai_classifier=True
[16:07:30.033]   - txt_content_len=16492
[16:07:30.033]   - task_model=qwen2.5-14b-instruct
[16:07:30.033] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[16:07:30.033] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[16:07:30.048] 2025-08-20 16:07:30,048 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[16:07:30.048] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[16:07:30.048] [InteractiveExecutor] Using prompt type: optimal for API key selection
[16:07:30.063] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[16:07:30.063] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:30.063] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:30.063] 2025-08-20 16:07:30,063 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[16:07:30.093] 2025-08-20 16:07:30,093 - mcp_embedding_manager - INFO - FAISS index loaded
[16:07:30.093] 2025-08-20 16:07:30,093 - mcp_embedding_manager - INFO - Updated dimension to 3072
[16:07:30.093] 2025-08-20 16:07:30,093 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[16:07:30.096] [INFO] Tool embedding index loaded successfully
[16:07:30.097] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[16:07:30.097] [INFO] Operation semantic index initialized
[16:07:30.097] 
[16:07:30.097] [TURN 1/10]
[16:07:30.097] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:30.579] 2025-08-20 16:07:30,578 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:30.580]   [FORMAT_ISSUE] Turn 10: Detected potential tool 'file_operations_reader' in incorrect format; No tools executed after multiple turns
[16:07:30.580]   [FORMAT_ISSUE] Potential tools detected: ['file_operations_reader']
[16:07:30.581] [ASSISTED] Task received 7 format helps, final result: failure
[16:07:30.582] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:07:30.582] [AI_DEBUG] 测试失败，准备调用AI分类
[16:07:30.582] [AI_DEBUG] 生成的txt_content长度: 18601
[16:07:30.582] [AI_DEBUG] _ai_classify_with_txt_content called:
[16:07:30.582]   - use_ai_classification=True
[16:07:30.582]   - ai_classifier=True
[16:07:30.583]   - txt_content_len=18601
[16:07:30.583]   - task_model=qwen2.5-14b-instruct
[16:07:30.583] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[16:07:30.583] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[16:07:30.597] 2025-08-20 16:07:30,597 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[16:07:30.597] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[16:07:30.597] [InteractiveExecutor] Using prompt type: optimal for API key selection
[16:07:30.600] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[16:07:30.600] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:30.600] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:30.600] 2025-08-20 16:07:30,600 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[16:07:30.603] 2025-08-20 16:07:30,603 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:30.607]   [SEARCH] Query: network api fetch
[16:07:30.608] 
[16:07:30.608] [TURN 2/10]
[16:07:30.626] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:30.627] 2025-08-20 16:07:30,627 - mcp_embedding_manager - INFO - FAISS index loaded
[16:07:30.627] 2025-08-20 16:07:30,627 - mcp_embedding_manager - INFO - Updated dimension to 3072
[16:07:30.627] 2025-08-20 16:07:30,627 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[16:07:30.630] [INFO] Tool embedding index loaded successfully
[16:07:30.631] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[16:07:30.631] [INFO] Operation semantic index initialized
[16:07:30.631] 
[16:07:30.631] [TURN 1/10]
[16:07:30.631] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:31.442] 2025-08-20 16:07:31,439 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:31.444]   [SEARCH] Query: network api fetch
[16:07:31.444] 
[16:07:31.444] [TURN 2/10]
[16:07:31.447] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:31.599] 2025-08-20 16:07:31,597 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:31.601]   [INFO] Tool info request: network_fetcher
[16:07:31.601] 
[16:07:31.601] [TURN 3/10]
[16:07:31.602] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:31.895] 2025-08-20 16:07:31,895 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:31.896]   [SEARCH] Query: file reader
[16:07:31.896] 
[16:07:31.896] [TURN 2/10]
[16:07:31.898] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:32.563] 2025-08-20 16:07:32,563 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:32.566]   [EARLY_EXIT] No actions taken, continuing...
[16:07:32.567] 
[16:07:32.567] [TURN 4/10]
[16:07:32.572] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:32.634] 2025-08-20 16:07:32,633 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:32.635]   [INFO] Tool info request: network_fetcher
[16:07:32.635] 
[16:07:32.635] [TURN 3/10]
[16:07:32.636] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:32.992] 2025-08-20 16:07:32,990 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:32.993]   [EARLY_EXIT] No actions taken, continuing...
[16:07:32.993] 
[16:07:32.994] [TURN 3/10]
[16:07:32.994] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:33.754] 2025-08-20 16:07:33,753 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:33.754] 2025-08-20 16:07:33,754 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:33.757]   [PARSE] Fuzzy matched 'network_fetcher(source="https://api.example.com/data", timeout=30, retry_count=3, options={})' to 'network_fetcher'
[16:07:33.757]   [EXECUTING] network_fetcher
[16:07:33.757]     Result: SUCCESS
[16:07:33.757] 
[16:07:33.757] [TURN 5/10]
[16:07:33.757]   [EARLY_EXIT] No actions taken, continuing...
[16:07:33.757] 
[16:07:33.757] [TURN 4/10]
[16:07:33.759] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:33.761] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:33.810] 2025-08-20 16:07:33,809 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:33.815]   [EARLY_EXIT] No actions taken, continuing...
[16:07:33.815] 
[16:07:33.815] [TURN 4/10]
[16:07:33.816] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:34.440] 2025-08-20 16:07:34,439 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:34.441]   [EARLY_EXIT] No actions taken, continuing...
[16:07:34.442] 
[16:07:34.443] [TURN 5/10]
[16:07:34.444] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:34.619] 2025-08-20 16:07:34,619 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:34.622] 
[16:07:34.622] [TURN 6/10]
[16:07:34.623] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:34.688] 2025-08-20 16:07:34,688 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:34.691]   [EARLY_EXIT] No actions taken, continuing...
[16:07:34.691] 
[16:07:34.691] [TURN 5/10]
[16:07:34.696] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:35.125] 2025-08-20 16:07:35,124 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:35.126]   [EARLY_EXIT] No actions taken, continuing...
[16:07:35.127] 
[16:07:35.127] [TURN 6/10]
[16:07:35.128] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:35.556] 2025-08-20 16:07:35,555 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:35.560]   [FORMAT_ISSUE] Turn 6: Detected potential tool 'data_processing_validator' in incorrect format
[16:07:35.561]   [FORMAT_ISSUE] Potential tools detected: ['data_processing_validator']
[16:07:35.561] 
[16:07:35.561] [TURN 7/10]
[16:07:35.561] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:35.584] 2025-08-20 16:07:35,584 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:35.586]   [EARLY_EXIT] No actions taken, continuing...
[16:07:35.586] 
[16:07:35.586] [TURN 6/10]
[16:07:35.586] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:35.875] 2025-08-20 16:07:35,874 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:35.876]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[16:07:35.876] 
[16:07:35.876] [TURN 7/10]
[16:07:35.877] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:36.532] 2025-08-20 16:07:36,530 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:36.533]   [FORMAT_ISSUE] Turn 7: Detected potential tool 'data_processing_validator' in incorrect format
[16:07:36.533]   [FORMAT_ISSUE] Potential tools detected: ['data_processing_validator']
[16:07:36.533] 
[16:07:36.533] [TURN 8/10]
[16:07:36.533] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:36.685] 2025-08-20 16:07:36,685 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:36.686]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[16:07:36.686] 
[16:07:36.686] [TURN 7/10]
[16:07:36.687] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:36.803] 2025-08-20 16:07:36,803 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:36.805]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[16:07:36.805] 
[16:07:36.805] [TURN 8/10]
[16:07:36.809] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:37.414] 2025-08-20 16:07:37,413 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:37.415] 
[16:07:37.415] [TURN 9/10]
[16:07:37.419] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:37.595] 2025-08-20 16:07:37,594 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:37.597]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[16:07:37.598] 
[16:07:37.598] [TURN 9/10]
[16:07:37.600] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:37.876] 2025-08-20 16:07:37,876 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:37.877]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[16:07:37.877] 
[16:07:37.877] [TURN 8/10]
[16:07:37.878] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:38.211] 2025-08-20 16:07:38,209 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:38.212] 
[16:07:38.212] [TURN 10/10]
[16:07:38.213] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:38.539] 2025-08-20 16:07:38,538 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:38.540]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[16:07:38.540] 
[16:07:38.540] [TURN 10/10]
[16:07:38.542] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:38.700] 2025-08-20 16:07:38,700 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:38.702]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[16:07:38.702] 
[16:07:38.702] [TURN 9/10]
[16:07:38.705] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:38.992] 2025-08-20 16:07:38,988 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:38.995] [ASSISTED] Task received 2 format helps, final result: failure
[16:07:38.995] [DEBUG RAG] network_poster semantically matched with network_fetcher (score: 0.627)
[16:07:38.996] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:07:38.997] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[16:07:39.032] 2025-08-20 16:07:39,032 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[16:07:39.032] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[16:07:39.032] [InteractiveExecutor] Using prompt type: optimal for API key selection
[16:07:39.039] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[16:07:39.039] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13200165872)
[16:07:39.039] [MCPEmbeddingManager] Current cache size: 30 embeddings
[16:07:39.039] 2025-08-20 16:07:39,039 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[16:07:39.068] 2025-08-20 16:07:39,068 - mcp_embedding_manager - INFO - FAISS index loaded
[16:07:39.068] 2025-08-20 16:07:39,068 - mcp_embedding_manager - INFO - Updated dimension to 3072
[16:07:39.068] 2025-08-20 16:07:39,068 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[16:07:39.071] [INFO] Tool embedding index loaded successfully
[16:07:39.072] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[16:07:39.072] [INFO] Operation semantic index initialized
[16:07:39.072] 
[16:07:39.072] [TURN 1/10]
[16:07:39.073] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:39.487] 2025-08-20 16:07:39,487 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:39.488]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[16:07:39.488] [ASSISTED] Task received 5 format helps, final result: failure
[16:07:39.492] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:07:39.492] [AI_DEBUG] 测试失败，准备调用AI分类
[16:07:39.492] [AI_DEBUG] 生成的txt_content长度: 15593
[16:07:39.492] [AI_DEBUG] _ai_classify_with_txt_content called:
[16:07:39.492]   - use_ai_classification=True
[16:07:39.492]   - ai_classifier=True
[16:07:39.492]   - txt_content_len=15593
[16:07:39.492]   - task_model=qwen2.5-14b-instruct
[16:07:39.492] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[16:07:39.866] 2025-08-20 16:07:39,865 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:39.868]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[16:07:39.868] 
[16:07:39.868] [TURN 10/10]
[16:07:39.870] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:40.526] 2025-08-20 16:07:40,526 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:40.528]   [SEARCH] Query: file reader
[16:07:40.528] 
[16:07:40.528] [TURN 2/10]
[16:07:40.530] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:40.993] 2025-08-20 16:07:40,993 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:40.995]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[16:07:40.995] [ASSISTED] Task received 5 format helps, final result: failure
[16:07:40.996] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:07:40.996] [AI_DEBUG] 测试失败，准备调用AI分类
[16:07:40.996] [AI_DEBUG] 生成的txt_content长度: 16608
[16:07:40.996] [AI_DEBUG] _ai_classify_with_txt_content called:
[16:07:40.996]   - use_ai_classification=True
[16:07:40.997]   - ai_classifier=True
[16:07:40.997]   - txt_content_len=16608
[16:07:40.997]   - task_model=qwen2.5-14b-instruct
[16:07:40.997] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[16:07:41.660] 2025-08-20 16:07:41,660 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:41.661]   [INFO] Tool info request: file_operations_reader
[16:07:41.661] 
[16:07:41.661] [TURN 3/10]
[16:07:41.661] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:42.565] 2025-08-20 16:07:42,565 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:42.566]   [EARLY_EXIT] No actions taken, continuing...
[16:07:42.566] 
[16:07:42.566] [TURN 4/10]
[16:07:42.567] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:43.494] 2025-08-20 16:07:43,493 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:43.495]   [EARLY_EXIT] No actions taken, continuing...
[16:07:43.495] 
[16:07:43.495] [TURN 5/10]
[16:07:43.503] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:44.345] 2025-08-20 16:07:44,343 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:44.346]   [EARLY_EXIT] No actions taken, continuing...
[16:07:44.346] 
[16:07:44.346] [TURN 6/10]
[16:07:44.348] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:45.241] 2025-08-20 16:07:45,240 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:45.242]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[16:07:45.242] 
[16:07:45.242] [TURN 7/10]
[16:07:45.254] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:46.205] 2025-08-20 16:07:46,205 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:46.206]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[16:07:46.206] 
[16:07:46.206] [TURN 8/10]
[16:07:46.207] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:47.043] 2025-08-20 16:07:47,042 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:47.045]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[16:07:47.045] 
[16:07:47.045] [TURN 9/10]
[16:07:47.048] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:47.955] 2025-08-20 16:07:47,955 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:47.956]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[16:07:47.956] 
[16:07:47.956] [TURN 10/10]
[16:07:47.957] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[16:07:48.868] 2025-08-20 16:07:48,868 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[16:07:48.872]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[16:07:48.872] [ASSISTED] Task received 5 format helps, final result: failure
[16:07:48.872] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:07:48.872] [AI_DEBUG] 测试失败，准备调用AI分类
[16:07:48.873] [AI_DEBUG] 生成的txt_content长度: 16390
[16:07:48.873] [AI_DEBUG] _ai_classify_with_txt_content called:
[16:07:48.873]   - use_ai_classification=True
[16:07:48.873]   - ai_classifier=True
[16:07:48.873]   - txt_content_len=16390
[16:07:48.873]   - task_model=qwen2.5-14b-instruct
[16:07:48.873] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[16:07:48.878] Progress: 10/10 (Success: 2)
[16:07:48.879] 
[16:07:48.879] [INFO] Batch writing 10 records to database (qwen2.5-14b-instruct:10)
[16:07:48.879] 2025-08-20 16:07:48,879 - batch_test_runner - INFO - Batch writing 10 records to database (qwen2.5-14b-instruct:10)
[16:07:48.879] [INFO] Successfully wrote 10/10 records (qwen2.5-14b-instruct:10)
[16:07:48.880] 2025-08-20 16:07:48,879 - batch_test_runner - INFO - Successfully wrote 10/10 records (qwen2.5-14b-instruct:10)
[16:07:48.880] [INFO] 数据已同步到Parquet存储
[16:07:48.880] 2025-08-20 16:07:48,880 - batch_test_runner - INFO - Database saved successfully
[16:07:48.881] 2025-08-20 16:07:48,881 - batch_test_runner - INFO - ============================================================
[16:07:48.881] 2025-08-20 16:07:48,881 - batch_test_runner - INFO - Batch test completed at 2025-08-20T16:07:48.881181
[16:07:48.881] 2025-08-20 16:07:48,881 - batch_test_runner - INFO - Summary:
[16:07:48.881] 2025-08-20 16:07:48,881 - batch_test_runner - INFO -   - Total tests: 10
[16:07:48.881] 2025-08-20 16:07:48,881 - batch_test_runner - INFO -   - Successful: 2
[16:07:48.881] 2025-08-20 16:07:48,881 - batch_test_runner - INFO -   - Failed: 8
[16:07:48.881] 2025-08-20 16:07:48,881 - batch_test_runner - INFO -   - Success rate: 20.0%
[16:07:48.881] 2025-08-20 16:07:48,881 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250820_160704.log
[16:07:48.881] 2025-08-20 16:07:48,881 - batch_test_runner - INFO - ============================================================
[16:07:48.881] 
[16:07:48.881] ✅ 批测试完成
[16:07:48.881]    成功: 2/10
[16:07:48.882]    失败: 8/10
[16:07:48.882] 
[16:07:48.882] 📤 最终保存10个测试结果...
[16:07:48.882] [DEBUG] 创建新的manager实例: key=True_
[16:07:48.986] [INFO] 已将 5 个汇总写入Parquet
[16:07:48.986] [INFO] 刷新缓存到磁盘 (已累积10个结果)
[16:07:48.986] ✅ 已保存 10 个测试结果到数据库
[16:07:49.004] [INFO] 刷新manager缓存: key=True_

==================================================
分片 qwen2.5-14b-instruct_easy_key1 完成
退出码: 0
总行数: 984
运行时间: 49.0秒
时间: 2025-08-20T16:07:50.294877
