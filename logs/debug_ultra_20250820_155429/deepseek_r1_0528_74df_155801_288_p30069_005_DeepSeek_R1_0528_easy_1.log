===== 分片 DeepSeek-R1-0528_easy_1 =====
时间: 2025-08-20T15:58:01.290406
模型: deepseek-r1-0528
实例: DeepSeek-R1-0528-2
命令: python -u smart_batch_runner.py --model deepseek-r1-0528 --deployment DeepSeek-R1-0528-2 --prompt-types optimal --difficulty easy --task-types all --num-instances 1 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[15:58:03.309] 2025-08-20 15:58:03,308 - faiss.loader - INFO - Loading faiss.
[15:58:03.321] 2025-08-20 15:58:03,321 - faiss.loader - INFO - Successfully loaded faiss.
[15:58:04.614] [INFO] 使用Parquet存储格式
[15:58:05.032] [INFO] 使用Parquet存储格式
[15:58:05.034] [INFO] 使用PARQUET存储格式
[15:58:05.034] 
[15:58:05.034] ============================================================
[15:58:05.035] 智能批测试: deepseek-r1-0528 (idealab)
[15:58:05.035] Prompt types: ['optimal']
[15:58:05.035] 难度: easy
[15:58:05.035] 目标: 每种配置 1 个实例
[15:58:05.035] ============================================================
[15:58:05.079] ○ simple_task         :   0/  1 已完成 (需要补充 1 个)
[15:58:05.083] ○ basic_task          :   0/  1 已完成 (需要补充 1 个)
[15:58:05.089] ○ data_pipeline       :   0/  1 已完成 (需要补充 1 个)
[15:58:05.093] ○ api_integration     :   0/  1 已完成 (需要补充 1 个)
[15:58:05.098] ○ multi_stage_pipeline:   0/  1 已完成 (需要补充 1 个)
[15:58:05.098] 
[15:58:05.098] ⏳ 需要运行 5 个新测试
[15:58:05.098] 
[15:58:05.098] ▶ 准备 simple_task (1 个实例)...
[15:58:05.098] 
[15:58:05.098] ▶ 准备 basic_task (1 个实例)...
[15:58:05.098] 
[15:58:05.098] ▶ 准备 data_pipeline (1 个实例)...
[15:58:05.098] 
[15:58:05.098] ▶ 准备 api_integration (1 个实例)...
[15:58:05.098] 
[15:58:05.098] ▶ 准备 multi_stage_pipeline (1 个实例)...
[15:58:05.098] 
[15:58:05.098] ▶ 开始执行 5 个测试...
[15:58:05.098] 📦 批量提交模式：每20个测试保存一次
[15:58:05.098] 🚀 检测到Azure API，使用超高并发: workers=100, qps=200.0
[15:58:05.100] 2025-08-20 15:58:05,100 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[15:58:05.172] 2025-08-20 15:58:05,172 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[15:58:05.172] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x177777530>
[15:58:05.172] 2025-08-20 15:58:05,172 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[15:58:05.172] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[15:58:05.176] 2025-08-20 15:58:05,176 - batch_test_runner - INFO - ============================================================
[15:58:05.176] 2025-08-20 15:58:05,176 - batch_test_runner - INFO - Batch test runner initialized
[15:58:05.176] 2025-08-20 15:58:05,176 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[15:58:05.176] 2025-08-20 15:58:05,176 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_155805.log
[15:58:05.176] 2025-08-20 15:58:05,176 - batch_test_runner - INFO - ============================================================
[15:58:05.176] 2025-08-20 15:58:05,176 - batch_test_runner - INFO - Running 5 tests with 100 workers, QPS limit: 200.0
[15:58:05.176] 2025-08-20 15:58:05,176 - batch_test_runner - INFO - Initializing test components...
[15:58:05.502] 2025-08-20 15:58:05,502 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[15:58:05.502] 2025-08-20 15:58:05,502 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[15:58:05.502] 2025-08-20 15:58:05,502 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[15:58:05.502] [DEBUG] Creating new ToolCapabilityManager instance
[15:58:05.502] [OperationEmbeddingIndex] Initializing with unified API client manager
[15:58:05.502] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[15:58:05.503] 2025-08-20 15:58:05,503 - api_client_manager - INFO - Loaded configuration from config/config.json
[15:58:05.510] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[15:58:05.510] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[15:58:05.510] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[15:58:06.447] 2025-08-20 15:58:06,447 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[15:58:06.449] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[15:58:06.488] [INFO] Loaded 4150 embeddings from persistent cache
[15:58:06.489] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[15:58:06.493] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[15:58:06.493] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[15:58:06.493] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[15:58:06.504] [INFO] Successfully loaded FAISS index with dimension 3072
[15:58:06.505] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[15:58:06.505] [INFO] Loaded 15 operations with dimension 3072
[15:58:06.505] [INFO] Successfully loaded cached index
[15:58:06.505] [INFO] Operation semantic index initialized
[15:58:06.505] [INFO] Using device: cpu
[15:58:06.506] [INFO] Initialized tool success tracking attributes
[15:58:06.506] [INFO] Initializing embedding manager for enhanced tool selection
[15:58:06.506] [MCPEmbeddingManager] Creating new singleton instance
[15:58:06.506] [MCPEmbeddingManager] Initializing with unified API client manager
[15:58:06.522] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[15:58:06.522] [MCPEmbeddingManager] Client initialized successfully
[15:58:06.522] 2025-08-20 15:58:06,522 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[15:58:06.744] 2025-08-20 15:58:06,744 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[15:58:07.002] 2025-08-20 15:58:07,002 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[15:58:07.002] 2025-08-20 15:58:07,002 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[15:58:07.026] 2025-08-20 15:58:07,026 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[15:58:07.082] 2025-08-20 15:58:07,082 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[15:58:07.522] 2025-08-20 15:58:07,522 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[15:58:07.522] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[15:58:07.522] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[15:58:07.522] 2025-08-20 15:58:07,522 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:58:08.009] 2025-08-20 15:58:08,009 - mcp_embedding_manager - INFO - FAISS index loaded
[15:58:08.010] 2025-08-20 15:58:08,009 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:58:08.010] 2025-08-20 15:58:08,009 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:58:08.012] [SUCCESS] Loaded 30 tool embeddings
[15:58:08.012] 2025-08-20 15:58:08,012 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[15:58:08.012] [SUCCESS] Embedding manager initialized with 30 tools
[15:58:08.012] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[15:58:08.012] [INFO] Loading full MCP protocol registry...
[15:58:08.013] 2025-08-20 15:58:08,013 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:58:08.013] [INFO] Loaded full tool registry with 30 tools
[15:58:08.013] 2025-08-20 15:58:08,013 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[15:58:08.013] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[15:58:08.014] [INFO] Embedding manager ready with 30 tools
[15:58:08.014] [WARNING] Embedding manager exists but has no embeddings
[15:58:08.014] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[15:58:08.014] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[15:58:08.015] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[15:58:08.015] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:58:08.015] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[15:58:08.015] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[15:58:08.015] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:58:08.015] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:58:08.015] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:58:08.015] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:58:08.015] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[15:58:08.015] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:58:08.015] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:58:08.015] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[15:58:08.015] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[15:58:08.015] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[15:58:08.015] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:58:08.015] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:58:08.015] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:58:08.015] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[15:58:08.015] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[15:58:08.015] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[15:58:08.015] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[15:58:08.015] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[15:58:08.015] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[15:58:08.015] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[15:58:08.015] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[15:58:08.015] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[15:58:08.015] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[15:58:08.015] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[15:58:08.015] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[15:58:08.015] 2025-08-20 15:58:08,015 - mdp_workflow_generator - INFO - Loaded 30 tools
[15:58:08.015] [INFO] Setting default state_dim based on loaded tools
[15:58:08.015] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[15:58:08.015] 2025-08-20 15:58:08,015 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[15:58:08.015] [INFO] Setting default action_dim based on loaded tools
[15:58:08.015] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[15:58:08.015] 2025-08-20 15:58:08,015 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[15:58:08.015] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[15:58:08.015] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[15:58:08.015] [INFO] ⚡ Will use pre-generated workflows or random policy
[15:58:08.015] 2025-08-20 15:58:08,015 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[15:58:08.015] [INFO] Initializing TaskManager...
[15:58:09.414] 2025-08-20 15:58:09,414 - unified_training_manager - INFO - Using device: cpu
[15:58:09.522] 2025-08-20 15:58:09,522 - unified_training_manager - INFO - Task filtering results:
[15:58:09.522] 2025-08-20 15:58:09,522 - unified_training_manager - INFO -   Total: 5040 -> 5040
[15:58:09.522] 2025-08-20 15:58:09,522 - unified_training_manager - INFO -   simple_task: 320 -> 320
[15:58:09.522] 2025-08-20 15:58:09,522 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[15:58:09.522] 2025-08-20 15:58:09,522 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[15:58:09.522] 2025-08-20 15:58:09,522 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[15:58:09.522] 2025-08-20 15:58:09,522 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[15:58:09.522] 2025-08-20 15:58:09,522 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[15:58:09.524] 2025-08-20 15:58:09,524 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[15:58:09.524] [TaskManager] Difficulty level 'easy': 1096 tasks
[15:58:09.524] [TaskManager] Difficulty level 'very_easy': 856 tasks
[15:58:09.524] [TaskManager] Difficulty level 'medium': 1136 tasks
[15:58:09.524] [TaskManager] Difficulty level 'hard': 1096 tasks
[15:58:09.524] [TaskManager] Difficulty level 'very_hard': 856 tasks
[15:58:09.526] [INFO] TaskManager initialized with 5040 tasks
[15:58:09.527] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[15:58:09.527] [INFO] Initializing ToolCallVerifier...
[15:58:09.527] [INFO] ToolCallVerifier initialized with 30 tools
[15:58:09.527] [INFO] Output tools identified: 1
[15:58:09.527] [INFO] Component initialization status:
[15:58:09.527]   - embedding_manager: initialized
[15:58:09.527]   - task_manager: initialized
[15:58:09.527]   - output_verifier: initialized
[15:58:09.527]   - tool_capability_manager: initialized
[15:58:09.527]   - tool_success_rates: initialized with 0 entries
[15:58:09.527] [INFO] MDPWorkflowGenerator initialization complete
[15:58:09.527] 2025-08-20 15:58:09,527 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[15:58:09.527] 2025-08-20 15:58:09,527 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[15:58:09.527] 2025-08-20 15:58:09,527 - batch_test_runner - INFO -   - task_manager: ✓
[15:58:09.527] 2025-08-20 15:58:09,527 - batch_test_runner - INFO -   - output_verifier: ✓
[15:58:09.527] 2025-08-20 15:58:09,527 - batch_test_runner - INFO -   - embedding_manager: ✓
[15:58:09.527] 2025-08-20 15:58:09,527 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[15:58:09.527] 2025-08-20 15:58:09,527 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[15:58:09.527] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13259022816)
[15:58:09.528] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:58:09.528] [FlawedWorkflowGenerator] Initialized with 30 tools
[15:58:09.528] [FlawedWorkflowGenerator] RAG support: disabled
[15:58:09.529] DEBUG: Checking generator attributes
[15:58:09.529]   - has tool_capabilities: True
[15:58:09.529]   - has tool_capability_manager: True
[15:58:09.529]   - has task_manager: True
[15:58:09.529] [INFO] Loaded 30 tools from generator
[15:58:09.529] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[15:58:09.529] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13259022816)
[15:58:09.529] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:58:09.529] [INFO] Initializing LLM client using APIClientManager
[15:58:09.535] [INFO] Using Azure OpenAI client
[15:58:09.535] [DEBUG] Checking if generator has tool_capability_manager attribute
[15:58:09.535] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[15:58:09.535] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13259022816)
[15:58:09.535] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:58:09.535] [FlawedWorkflowGenerator] Initialized with 30 tools
[15:58:09.535] [FlawedWorkflowGenerator] RAG support: enabled
[15:58:09.535] [INFO] FlawedWorkflowGenerator initialized successfully
[15:58:09.535] [INFO] Initializing StableScorer for Phase 2 scoring
[15:58:09.535] <tool_capability_manager.ToolCapabilityManager object at 0x1777d4860>
[15:58:09.535] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13259022816)
[15:58:09.535] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:58:09.535] [INFO] Loaded tool success history for 0 tools
[15:58:09.535] [INFO] StableScorer initialized with semantic capability
[15:58:09.535] [INFO] StableScorer initialized successfully
[15:58:09.535] [INFO] Loading task instances...
[15:58:09.535] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[15:58:09.543] [INFO] Loaded 630 task instances
[15:58:09.543] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[15:58:09.543] 2025-08-20 15:58:09,543 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[15:58:09.543] 2025-08-20 15:58:09,543 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[15:58:09.860] 2025-08-20 15:58:09,860 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[15:58:09.860] 2025-08-20 15:58:09,860 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[15:58:09.875] 2025-08-20 15:58:09,875 - batch_test_runner - INFO - Initialization complete
[15:58:09.900] 2025-08-20 15:58:09,900 - batch_test_runner - INFO - Detected Azure API, disabling QPS sleep for better performance
[15:58:09.900] 2025-08-20 15:58:09,900 - batch_test_runner - INFO - Starting batch test with 5 tasks, 100 workers
[15:58:09.900] 2025-08-20 15:58:09,900 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[15:58:09.901] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:58:09.901] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:58:09.901] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:58:09.901] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:58:09.901] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:58:09.905] 2025-08-20 15:58:09,905 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for DeepSeek-R1-0528-2
[15:58:10.173] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-2
[15:58:10.173] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:58:10.173] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-2
[15:58:10.173] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:58:10.173] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-2
[15:58:10.173] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:58:10.173] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-2
[15:58:10.173] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-2
[15:58:10.173] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:58:10.174] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:58:10.174] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[15:58:10.174] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13259022816)
[15:58:10.174] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:58:10.174] 2025-08-20 15:58:10,174 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:58:10.174] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2[InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[15:58:10.174] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13259022816)
[15:58:10.174] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:58:10.174] 
[15:58:10.174] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13259022816)
[15:58:10.174] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:58:10.174] 2025-08-20 15:58:10,174 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:58:10.174] 2025-08-20 15:58:10,174 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:58:10.174] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[15:58:10.174] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13259022816)
[15:58:10.174] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:58:10.174] 2025-08-20 15:58:10,174 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:58:10.180] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[15:58:10.180] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13259022816)
[15:58:10.180] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:58:10.180] 2025-08-20 15:58:10,180 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:58:10.264] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - FAISS index loaded
[15:58:10.264] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - FAISS index loaded
[15:58:10.264] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:58:10.264] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:58:10.264] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - FAISS index loaded
[15:58:10.264] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - FAISS index loaded
[15:58:10.264] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - FAISS index loaded
[15:58:10.264] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:58:10.267] [INFO] Tool embedding index loaded successfully
[15:58:10.267] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:58:10.269] [INFO] Tool embedding index loaded successfully
[15:58:10.269] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:58:10.269] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:58:10.269] 2025-08-20 15:58:10,269 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:58:10.271] [INFO] Tool embedding index loaded successfully
[15:58:10.272] 2025-08-20 15:58:10,264 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:58:10.272] 2025-08-20 15:58:10,272 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:58:10.274] [INFO] Tool embedding index loaded successfully
[15:58:10.274] 2025-08-20 15:58:10,269 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:58:10.277] [INFO] Tool embedding index loaded successfully
[15:58:10.277] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:58:10.278] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:58:10.278] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:58:10.278] [INFO] Operation semantic index initialized
[15:58:10.278] 
[15:58:10.278] [TURN 1/10]
[15:58:10.279] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:58:10.279] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:58:10.279] [INFO] Operation semantic index initialized
[15:58:10.279] [INFO] Operation semantic index initialized
[15:58:10.279] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:10.281] [INFO] Operation semantic index initialized
[15:58:10.281] 
[15:58:10.281] [TURN 1/10]
[15:58:10.281] [INFO] Operation semantic index initialized
[15:58:10.282] 
[15:58:10.282] [TURN 1/10]
[15:58:10.282] 
[15:58:10.282] [TURN 1/10]
[15:58:10.282] 
[15:58:10.282] [TURN 1/10]
[15:58:10.286] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:10.292] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:10.292] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:10.293] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:15.110] 2025-08-20 15:58:15,109 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:58:15.114]   [SEARCH] Query: file reader
[15:58:15.115] 
[15:58:15.115] [TURN 2/10]
[15:58:15.116] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:23.331] 2025-08-20 15:58:23,331 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:58:23.332]   [INFO] Tool info request: data_processing_parser
[15:58:23.332] 
[15:58:23.332] [TURN 3/10]
[15:58:23.332] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:23.794] 2025-08-20 15:58:23,794 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:58:23.795]   [SEARCH] Query: file_operations_reader
[15:58:23.795] 
[15:58:23.795] [TURN 2/10]
[15:58:23.795] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:26.768] 2025-08-20 15:58:26,768 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:58:26.770]   [SEARCH] Query: network api fetch
[15:58:26.772] 
[15:58:26.772] [TURN 2/10]
[15:58:26.772] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:27.022] 2025-08-20 15:58:27,022 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:58:27.025]   [PARSE] Found tool call: file_operations_reader
[15:58:27.025]   [EXECUTING] file_operations_reader
[15:58:27.026]     Result: SUCCESS
[15:58:27.026] 
[15:58:27.026] [TURN 3/10]
[15:58:27.027] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:29.109] 2025-08-20 15:58:29,109 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:58:29.110]   [PARSE] Found tool call: data_processing_parser
[15:58:29.110]   [EXECUTING] data_processing_parser
[15:58:29.110]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[15:58:29.110] 
[15:58:29.110] [TURN 4/10]
[15:58:29.111] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:36.344] 2025-08-20 15:58:36,343 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:58:36.347]   [PARSE] Found tool call: network_fetcher
[15:58:36.347]   [EXECUTING] network_fetcher
[15:58:36.347]     Result: SUCCESS
[15:58:36.347] 
[15:58:36.347] [TURN 3/10]
[15:58:36.348] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:39.124] 2025-08-20 15:58:39,122 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:58:39.124]   [SEARCH] Query: data_processing_parser
[15:58:39.125] 
[15:58:39.125] [TURN 4/10]
[15:58:39.127] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:43.374] 2025-08-20 15:58:43,373 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:58:43.376]   [PARSE] Found tool call: file_operations_reader
[15:58:43.376]   [EXECUTING] file_operations_reader
[15:58:43.377]     Result: SUCCESS
[15:58:43.377] 
[15:58:43.377] [TURN 5/10]
[15:58:43.377] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:58:57.709] 2025-08-20 15:58:57,708 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:58:57.714]   [SEARCH] Query: data validation
[15:58:57.716] 
[15:58:57.716] [TURN 4/10]
[15:58:57.725] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:59:10.328] 2025-08-20 15:59:10,328 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:59:10.330]   [PARSE] Found tool call: data_processing_parser
[15:59:10.330]   [EXECUTING] data_processing_parser
[15:59:10.331]     Result: SUCCESS
[15:59:10.331] 
[15:59:10.331] [TURN 5/10]
[15:59:10.332] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:59:11.661] 2025-08-20 15:59:11,659 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:59:11.665]   [PARSE] Found tool call: data_processing_parser
[15:59:11.665]   [EXECUTING] data_processing_parser
[15:59:11.669]     Result: FAILED - INVALID_INPUT: Input validation failed (expected: JSON format)
[15:59:11.669] 
[15:59:11.670] [TURN 6/10]
[15:59:11.675] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:59:13.466] 2025-08-20 15:59:13,466 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:59:13.467]   [SEARCH] Query: schema retrieval
[15:59:13.468] 
[15:59:13.469] [TURN 5/10]
[15:59:13.469] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:59:14.243] 2025-08-20 15:59:14,242 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:59:14.245]   [SEARCH] Query: data_processing_filter
[15:59:14.245] 
[15:59:14.245] [TURN 6/10]
[15:59:14.247] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[15:59:30.737] 2025-08-20 15:59:30,736 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[15:59:30.739]   [PARSE] Found tool call: data_processing_filter
[15:59:30.739]   [EXECUTING] data_processing_filter
[15:59:30.740]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[15:59:30.740]   [CONTINUE] Required tools failed: ['data_processing_filter'], may retry
[15:59:30.740] 
[15:59:30.740] [TURN 7/10]
[15:59:30.741] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:00:09.514] 2025-08-20 16:00:09,514 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:00:09.516]   [INFO] Tool info request: data_processing_filter
[16:00:09.516] 
[16:00:09.516] [TURN 8/10]
[16:00:09.517] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:00:10.567] 2025-08-20 16:00:10,566 - openai._base_client - INFO - Retrying request to /chat/completions in 0.424183 seconds
[16:00:10.568] 2025-08-20 16:00:10,568 - openai._base_client - INFO - Retrying request to /chat/completions in 0.381402 seconds
[16:00:14.946] 2025-08-20 16:00:14,944 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:00:14.952]   [INFO] Tool info request: file_operations_reader
[16:00:14.952] 
[16:00:14.952] [TURN 7/10]
[16:00:14.953] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:00:19.963] 2025-08-20 16:00:19,963 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:00:19.965]   [INFO] Tool info request: file_operations_reader
[16:00:19.966] 
[16:00:19.966] [TURN 2/10]
[16:00:19.966] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:00:23.309] 2025-08-20 16:00:23,308 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:00:23.311]   [PARSE] Fuzzy matched 'file_operations_reader
[16:00:23.311] {
[16:00:23.311]   "source": "data/input.json"
[16:00:23.311] }' to 'file_operations_reader'
[16:00:23.311]   [EXECUTING] file_operations_reader
[16:00:23.312]     Result: SUCCESS
[16:00:23.313] 
[16:00:23.313] [TURN 3/10]
[16:00:23.313] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:00:28.307] 2025-08-20 16:00:28,306 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:00:28.309]   [SEARCH] Query: data validation
[16:00:28.309] 
[16:00:28.309] [TURN 2/10]
[16:00:28.315] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:00:37.018] 2025-08-20 16:00:37,018 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:00:37.019]   [INFO] Tool info request: data_processing_validator
[16:00:37.019] 
[16:00:37.019] [TURN 4/10]
[16:00:37.020] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:00:37.979] 2025-08-20 16:00:37,979 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:00:37.980]   [INFO] Tool info request: data_processing_validator
[16:00:37.980] 
[16:00:37.980] [TURN 6/10]
[16:00:37.989] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:00:46.865] 2025-08-20 16:00:46,865 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:00:46.868]   [INFO] Tool info request: data_processing_parser
[16:00:46.868] 
[16:00:46.868] [TURN 5/10]
[16:00:46.869] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:01:20.128] 2025-08-20 16:01:20,127 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:01:20.139]   [INFO] Tool info request: data_processing_parser
[16:01:20.139] 
[16:01:20.139] [TURN 9/10]
[16:01:20.140] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:01:32.348] 2025-08-20 16:01:32,347 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:01:32.353]   [PARSE] Found tool call: file_operations_reader
[16:01:32.353]   [EXECUTING] file_operations_reader
[16:01:32.354]     Result: SUCCESS
[16:01:32.354] 
[16:01:32.354] [TURN 7/10]
[16:01:32.355] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:01:49.725] 2025-08-20 16:01:49,724 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:01:49.729]   [INFO] Tool info request: data_processing_parser
[16:01:49.729] 
[16:01:49.729] [TURN 3/10]
[16:01:49.731] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:01:53.058] 2025-08-20 16:01:53,058 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:01:53.060]   [PARSE] Found tool call: data_processing_parser
[16:01:53.060]   [EXECUTING] data_processing_parser
[16:01:53.063]     Result: SUCCESS
[16:01:53.063] 
[16:01:53.063] [TURN 4/10]
[16:01:53.067] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:01:55.703] 2025-08-20 16:01:55,703 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:01:55.704]   [PARSE] Found tool call: data_processing_parser
[16:01:55.704]   [EXECUTING] data_processing_parser
[16:01:55.704]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[16:01:55.704] 
[16:01:55.704] [TURN 8/10]
[16:01:55.705] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:02:09.847] 2025-08-20 16:02:09,846 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:02:09.849]   [PARSE] Found tool call: file_operations_converter
[16:02:09.850]   [EXECUTING] file_operations_converter
[16:02:09.850]     [PENALTY] Recent failures: 2, success rate reduced
[16:02:09.850]     Result: SUCCESS
[16:02:09.850] 
[16:02:09.850] [TURN 8/10]
[16:02:09.851] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:02:29.949] 2025-08-20 16:02:29,948 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:02:29.950]   [PARSE] Found tool call: data_processing_validator
[16:02:29.950]   [EXECUTING] data_processing_validator
[16:02:29.950]     Result: SUCCESS
[16:02:29.950] 
[16:02:29.950] [TURN 5/10]
[16:02:29.951] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:02:30.418] 2025-08-20 16:02:30,418 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:02:30.421]   [SEARCH] Query: data processing with input parameter
[16:02:30.995] 2025-08-20 16:02:30,994 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[16:02:30.998] 
[16:02:30.998] [TURN 10/10]
[16:02:30.999] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:02:37.663] 2025-08-20 16:02:37,663 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:02:37.666]   [PARSE] Found tool call: data_processing_parser
[16:02:37.666]   [EXECUTING] data_processing_parser
[16:02:37.666]     [PENALTY] Recent failures: 1, success rate reduced
[16:02:37.666]     Result: FAILED - INVALID_INPUT: Input validation failed (expected: JSON format)
[16:02:37.666] 
[16:02:37.666] [TURN 9/10]
[16:02:37.667] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:02:44.854] 2025-08-20 16:02:44,854 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:02:44.855]   [SEARCH] Query: data parser
[16:02:44.857] 
[16:02:44.857] [TURN 10/10]
[16:02:44.858] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:02:46.526] 2025-08-20 16:02:46,526 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:02:46.528]   [INFO] Tool info request: data_processing_validator
[16:02:46.531] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:02:46.877] 2025-08-20 16:02:46,877 - openai._base_client - INFO - Retrying request to /chat/completions in 0.413132 seconds
[16:03:15.660] 2025-08-20 16:03:15,659 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:03:15.664]   [PARSE] Found tool call: data_processing_transformer
[16:03:15.664]   [EXECUTING] data_processing_transformer
[16:03:15.665]     Result: SUCCESS
[16:03:15.666] 
[16:03:15.666] [TURN 6/10]
[16:03:15.668] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:03:26.147] 2025-08-20 16:03:26,145 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:03:26.150]   [INFO] Tool info request: data_processing_transformer
[16:03:26.152] [DEBUG RAG] data_processing_transformer semantically matched with data_processing_parser (score: 0.742)
[16:03:26.152] [DEBUG RAG] data_processing_transformer semantically matched with file_operations_converter (score: 0.618)
[16:03:26.152] [DEBUG RAG] data_processing_filter semantically matched with data_processing_parser (score: 0.684)
[16:03:26.153] [DEBUG RAG] data_processing_validator semantically matched with data_processing_parser (score: 0.625)
[16:03:26.154] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:03:30.736] 2025-08-20 16:03:30,735 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:03:30.736]   [PARSE] Found tool call: data_processing_filter
[16:03:30.736]   [EXECUTING] data_processing_filter
[16:03:30.736]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[16:03:30.736]   [CONTINUE] Required tools failed: ['data_processing_filter'], may retry
[16:03:30.736] 
[16:03:30.737] [TURN 7/10]
[16:03:30.737] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:03:31.150] 2025-08-20 16:03:31,149 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:03:31.151]   [INFO] Tool info request: data_processing_parser
[16:03:31.151] 
[16:03:31.151] [TURN 9/10]
[16:03:31.152] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:03:34.807] 2025-08-20 16:03:34,807 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:03:34.810]   [PARSE] Fuzzy matched 'data_processing_parser
[16:03:34.810] {
[16:03:34.810]   "source": "data/input.json"
[16:03:34.810] }' to 'data_processing_parser'
[16:03:34.810]   [EXECUTING] data_processing_parser
[16:03:34.810]     Result: SUCCESS
[16:03:34.810] 
[16:03:34.810] [TURN 6/10]
[16:03:34.810] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:03:43.095] 2025-08-20 16:03:43,094 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:03:43.098]   [PARSE] Fuzzy matched 'data_processing_parser source="data/input.json"' to 'data_processing_parser'
[16:03:43.098]   [EXECUTING] data_processing_parser
[16:03:43.099]     [PENALTY] Recent failures: 1, success rate reduced
[16:03:43.099]     Result: FAILED - TIMEOUT: Operation timed out (after 49 seconds)
[16:03:43.099] 
[16:03:43.099] [TURN 10/10]
[16:03:43.100] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:03:43.343] 2025-08-20 16:03:43,343 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:03:43.343]   [SEARCH] Query: data filter
[16:03:43.344] 
[16:03:43.344] [TURN 8/10]
[16:03:43.351] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:03:46.844] 2025-08-20 16:03:46,844 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:03:46.846]   [SEARCH] Query: data parser alternative
[16:03:46.848] [DEBUG RAG] data_processing_validator semantically matched with data_processing_parser (score: 0.625)
[16:03:46.849] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:04:14.255] 2025-08-20 16:04:14,254 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:04:14.257]   [INFO] Tool info request: data_processing_filter
[16:04:14.257] 
[16:04:14.257] [TURN 9/10]
[16:04:14.258] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:04:15.017] 2025-08-20 16:04:15,017 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:04:15.019]   [PARSE] Fuzzy matched 'data_processing_validator
[16:04:15.020] {
[16:04:15.020]   "schema": {"type": "object"},
[16:04:15.020]   "data": {}
[16:04:15.020] }' to 'data_processing_validator'
[16:04:15.020]   [EXECUTING] data_processing_validator
[16:04:15.021]     Result: SUCCESS
[16:04:15.021] 
[16:04:15.021] [TURN 7/10]
[16:04:15.021] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:04:18.297] 2025-08-20 16:04:18,296 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:04:18.298]   [INFO] Tool info request: data_processing_transformer
[16:04:18.298] 
[16:04:18.298] [TURN 8/10]
[16:04:18.299] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:04:34.138] 2025-08-20 16:04:34,138 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:04:34.141]   [PARSE] Fuzzy matched 'data_processing_transformer
[16:04:34.141] {
[16:04:34.142]   "input_format": "json",
[16:04:34.142]   "output_format": "json"
[16:04:34.142] }' to 'data_processing_transformer'
[16:04:34.142]   [EXECUTING] data_processing_transformer
[16:04:34.143]     Result: SUCCESS
[16:04:34.143] 
[16:04:34.143] [TURN 9/10]
[16:04:34.143] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:04:36.686] 2025-08-20 16:04:36,686 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:04:36.689]   [INFO] Tool info request: computation_analyzer
[16:04:36.689] 
[16:04:36.689] [TURN 10/10]
[16:04:36.690] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:04:39.477] 2025-08-20 16:04:39,477 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:04:39.479]   [INFO] Tool info request: data_processing_aggregator
[16:04:39.483] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:06:02.577] 2025-08-20 16:06:02,576 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:06:02.580]   [INFO] Tool info request: data_processing_aggregator
[16:06:02.580] 
[16:06:02.580] [TURN 10/10]
[16:06:02.581] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[16:06:16.599] 2025-08-20 16:06:16,599 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528-2/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[16:06:16.602]   [PARSE] Found tool call: data_processing_aggregator
[16:06:16.602]   [EXECUTING] data_processing_aggregator
[16:06:16.605]     [PENALTY] Recent failures: 1, success rate reduced
[16:06:16.605]     Result: FAILED - TIMEOUT: Operation timed out (after 23 seconds)
[16:06:16.605]   [CONTINUE] Required tools failed: ['data_processing_filter'], may retry
[16:06:16.607] [DEBUG] Got result for task: has_result=True, save_logs=True
[16:06:16.612] 
[16:06:16.612] [INFO] Batch writing 5 records to database (deepseek-r1-0528:5)
[16:06:16.612] 2025-08-20 16:06:16,612 - batch_test_runner - INFO - Batch writing 5 records to database (deepseek-r1-0528:5)
[16:06:16.614] [INFO] Successfully wrote 5/5 records (deepseek-r1-0528:5)
[16:06:16.614] 2025-08-20 16:06:16,614 - batch_test_runner - INFO - Successfully wrote 5/5 records (deepseek-r1-0528:5)
[16:06:16.616] [INFO] 数据已同步到Parquet存储
[16:06:16.617] 2025-08-20 16:06:16,616 - batch_test_runner - INFO - Database saved successfully
[16:06:16.617] 2025-08-20 16:06:16,617 - batch_test_runner - INFO - ============================================================
[16:06:16.617] 2025-08-20 16:06:16,617 - batch_test_runner - INFO - Batch test completed at 2025-08-20T16:06:16.617271
[16:06:16.617] 2025-08-20 16:06:16,617 - batch_test_runner - INFO - Summary:
[16:06:16.617] 2025-08-20 16:06:16,617 - batch_test_runner - INFO -   - Total tests: 5
[16:06:16.617] 2025-08-20 16:06:16,617 - batch_test_runner - INFO -   - Successful: 5
[16:06:16.617] 2025-08-20 16:06:16,617 - batch_test_runner - INFO -   - Failed: 0
[16:06:16.617] 2025-08-20 16:06:16,617 - batch_test_runner - INFO -   - Success rate: 100.0%
[16:06:16.617] 2025-08-20 16:06:16,617 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250820_155805.log
[16:06:16.617] 2025-08-20 16:06:16,617 - batch_test_runner - INFO - ============================================================
[16:06:16.618] 
[16:06:16.618] ✅ 批测试完成
[16:06:16.618]    成功: 5/5
[16:06:16.618]    失败: 0/5
[16:06:16.618] 
[16:06:16.618] 📤 最终保存5个测试结果...
[16:06:16.618] [DEBUG] 创建新的manager实例: key=True_
[16:06:16.619] ✅ 已保存 5 个测试结果到数据库
[16:06:16.749] [INFO] 已将 5 个汇总写入Parquet
[16:06:16.825] [INFO] 刷新manager缓存: key=True_

==================================================
分片 DeepSeek-R1-0528_easy_1 完成
退出码: 0
总行数: 634
运行时间: 497.3秒
时间: 2025-08-20T16:06:18.577050
