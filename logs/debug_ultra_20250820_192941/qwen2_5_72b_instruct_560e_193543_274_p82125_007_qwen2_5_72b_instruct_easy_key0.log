===== 分片 qwen2.5-72b-instruct_easy_key0 =====
时间: 2025-08-20T19:35:43.278570
模型: qwen2.5-72b-instruct
实例: qwen-key0
命令: python -u smart_batch_runner.py --model qwen2.5-72b-instruct --deployment qwen-key0 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[19:35:44.871] 2025-08-20 19:35:44,871 - faiss.loader - INFO - Loading faiss.
[19:35:44.885] 2025-08-20 19:35:44,885 - faiss.loader - INFO - Successfully loaded faiss.
[19:35:45.646] [INFO] 使用Parquet存储格式
[19:35:45.947] [INFO] 使用Parquet存储格式
[19:35:45.948] [INFO] 使用PARQUET存储格式
[19:35:45.949] 
[19:35:45.949] ============================================================
[19:35:45.949] 智能批测试: qwen2.5-72b-instruct (idealab)
[19:35:45.949] Prompt types: ['optimal']
[19:35:45.949] 难度: easy
[19:35:45.949] 目标: 每种配置 2 个实例
[19:35:45.949] ============================================================
[19:35:45.973] ○ simple_task         :   0/  2 已完成 (需要补充 2 个)
[19:35:45.977] ○ basic_task          :   0/  2 已完成 (需要补充 2 个)
[19:35:45.981] ○ data_pipeline       :   0/  2 已完成 (需要补充 2 个)
[19:35:45.986] ○ api_integration     :   0/  2 已完成 (需要补充 2 个)
[19:35:45.990] ○ multi_stage_pipeline:   0/  2 已完成 (需要补充 2 个)
[19:35:45.990] 
[19:35:45.990] ⏳ 需要运行 10 个新测试
[19:35:45.990] 
[19:35:45.990] ▶ 准备 simple_task (2 个实例)...
[19:35:45.990] 
[19:35:45.990] ▶ 准备 basic_task (2 个实例)...
[19:35:45.990] 
[19:35:45.990] ▶ 准备 data_pipeline (2 个实例)...
[19:35:45.990] 
[19:35:45.990] ▶ 准备 api_integration (2 个实例)...
[19:35:45.990] 
[19:35:45.990] ▶ 准备 multi_stage_pipeline (2 个实例)...
[19:35:45.990] 
[19:35:45.990] ▶ 开始执行 10 个测试...
[19:35:45.990] 📦 批量提交模式：每20个测试保存一次
[19:35:45.990] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[19:35:45.994] 2025-08-20 19:35:45,994 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[19:35:46.040] 2025-08-20 19:35:46,039 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[19:35:46.040] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x175225550>
[19:35:46.040] 2025-08-20 19:35:46,040 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[19:35:46.040] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[19:35:46.040] 2025-08-20 19:35:46,040 - batch_test_runner - INFO - ============================================================
[19:35:46.040] 2025-08-20 19:35:46,040 - batch_test_runner - INFO - Batch test runner initialized
[19:35:46.040] 2025-08-20 19:35:46,040 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[19:35:46.040] 2025-08-20 19:35:46,040 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_193545.log
[19:35:46.040] 2025-08-20 19:35:46,040 - batch_test_runner - INFO - ============================================================
[19:35:46.040] 2025-08-20 19:35:46,040 - batch_test_runner - INFO - Running 10 tests with 3 workers, QPS limit: 5.0
[19:35:46.040] 2025-08-20 19:35:46,040 - batch_test_runner - INFO - Initializing test components...
[19:35:46.334] 2025-08-20 19:35:46,333 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[19:35:46.334] 2025-08-20 19:35:46,334 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[19:35:46.334] 2025-08-20 19:35:46,334 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[19:35:46.334] [DEBUG] Creating new ToolCapabilityManager instance
[19:35:46.334] [OperationEmbeddingIndex] Initializing with unified API client manager
[19:35:46.334] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[19:35:46.334] 2025-08-20 19:35:46,334 - api_client_manager - INFO - Loaded configuration from config/config.json
[19:35:46.340] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[19:35:46.340] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[19:35:46.340] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[19:35:47.043] 2025-08-20 19:35:47,043 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:35:47.044] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[19:35:47.074] [INFO] Loaded 4150 embeddings from persistent cache
[19:35:47.074] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[19:35:47.074] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[19:35:47.074] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[19:35:47.074] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[19:35:47.078] [INFO] Successfully loaded FAISS index with dimension 3072
[19:35:47.078] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[19:35:47.078] [INFO] Loaded 15 operations with dimension 3072
[19:35:47.078] [INFO] Successfully loaded cached index
[19:35:47.078] [INFO] Operation semantic index initialized
[19:35:47.078] [INFO] Using device: cpu
[19:35:47.079] [INFO] Initialized tool success tracking attributes
[19:35:47.079] [INFO] Initializing embedding manager for enhanced tool selection
[19:35:47.079] [MCPEmbeddingManager] Creating new singleton instance
[19:35:47.079] [MCPEmbeddingManager] Initializing with unified API client manager
[19:35:47.086] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[19:35:47.086] [MCPEmbeddingManager] Client initialized successfully
[19:35:47.086] 2025-08-20 19:35:47,086 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[19:35:47.199] 2025-08-20 19:35:47,199 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[19:35:47.414] 2025-08-20 19:35:47,414 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[19:35:47.414] 2025-08-20 19:35:47,414 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[19:35:47.436] 2025-08-20 19:35:47,436 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[19:35:47.487] 2025-08-20 19:35:47,487 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[19:35:47.793] 2025-08-20 19:35:47,793 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[19:35:47.793] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[19:35:47.793] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[19:35:47.793] 2025-08-20 19:35:47,793 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:35:48.111] 2025-08-20 19:35:48,111 - mcp_embedding_manager - INFO - FAISS index loaded
[19:35:48.111] 2025-08-20 19:35:48,111 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:35:48.111] 2025-08-20 19:35:48,111 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:35:48.113] [SUCCESS] Loaded 30 tool embeddings
[19:35:48.113] 2025-08-20 19:35:48,113 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[19:35:48.113] [SUCCESS] Embedding manager initialized with 30 tools
[19:35:48.113] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[19:35:48.113] [INFO] Loading full MCP protocol registry...
[19:35:48.114] 2025-08-20 19:35:48,114 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:35:48.114] [INFO] Loaded full tool registry with 30 tools
[19:35:48.114] 2025-08-20 19:35:48,114 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[19:35:48.114] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[19:35:48.114] [INFO] Embedding manager ready with 30 tools
[19:35:48.114] [WARNING] Embedding manager exists but has no embeddings
[19:35:48.114] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[19:35:48.114] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[19:35:48.115] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[19:35:48.115] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:35:48.115] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[19:35:48.115] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[19:35:48.115] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:35:48.115] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:35:48.115] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:35:48.115] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:35:48.115] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[19:35:48.115] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:35:48.115] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[19:35:48.115] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[19:35:48.115] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[19:35:48.115] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[19:35:48.115] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:35:48.115] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:35:48.115] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[19:35:48.115] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[19:35:48.115] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[19:35:48.115] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[19:35:48.115] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[19:35:48.115] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[19:35:48.115] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[19:35:48.115] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[19:35:48.115] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[19:35:48.115] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[19:35:48.115] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[19:35:48.115] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[19:35:48.115] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[19:35:48.115] 2025-08-20 19:35:48,115 - mdp_workflow_generator - INFO - Loaded 30 tools
[19:35:48.115] [INFO] Setting default state_dim based on loaded tools
[19:35:48.115] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[19:35:48.115] 2025-08-20 19:35:48,115 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[19:35:48.115] [INFO] Setting default action_dim based on loaded tools
[19:35:48.115] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[19:35:48.115] 2025-08-20 19:35:48,115 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[19:35:48.115] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[19:35:48.115] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[19:35:48.115] [INFO] ⚡ Will use pre-generated workflows or random policy
[19:35:48.115] 2025-08-20 19:35:48,115 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[19:35:48.115] [INFO] Initializing TaskManager...
[19:35:48.967] 2025-08-20 19:35:48,967 - unified_training_manager - INFO - Using device: cpu
[19:35:49.067] 2025-08-20 19:35:49,066 - unified_training_manager - INFO - Task filtering results:
[19:35:49.067] 2025-08-20 19:35:49,067 - unified_training_manager - INFO -   Total: 5040 -> 5040
[19:35:49.067] 2025-08-20 19:35:49,067 - unified_training_manager - INFO -   simple_task: 320 -> 320
[19:35:49.067] 2025-08-20 19:35:49,067 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[19:35:49.067] 2025-08-20 19:35:49,067 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[19:35:49.067] 2025-08-20 19:35:49,067 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[19:35:49.067] 2025-08-20 19:35:49,067 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[19:35:49.067] 2025-08-20 19:35:49,067 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[19:35:49.068] 2025-08-20 19:35:49,068 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[19:35:49.068] [TaskManager] Difficulty level 'easy': 1096 tasks
[19:35:49.068] [TaskManager] Difficulty level 'very_easy': 856 tasks
[19:35:49.068] [TaskManager] Difficulty level 'medium': 1136 tasks
[19:35:49.068] [TaskManager] Difficulty level 'hard': 1096 tasks
[19:35:49.068] [TaskManager] Difficulty level 'very_hard': 856 tasks
[19:35:49.070] [INFO] TaskManager initialized with 5040 tasks
[19:35:49.070] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[19:35:49.070] [INFO] Initializing ToolCallVerifier...
[19:35:49.071] [INFO] ToolCallVerifier initialized with 30 tools
[19:35:49.071] [INFO] Output tools identified: 1
[19:35:49.071] [INFO] Component initialization status:
[19:35:49.071]   - embedding_manager: initialized
[19:35:49.071]   - task_manager: initialized
[19:35:49.071]   - output_verifier: initialized
[19:35:49.071]   - tool_capability_manager: initialized
[19:35:49.071]   - tool_success_rates: initialized with 0 entries
[19:35:49.071] [INFO] MDPWorkflowGenerator initialization complete
[19:35:49.071] 2025-08-20 19:35:49,071 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[19:35:49.071] 2025-08-20 19:35:49,071 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[19:35:49.071] 2025-08-20 19:35:49,071 - batch_test_runner - INFO -   - task_manager: ✓
[19:35:49.071] 2025-08-20 19:35:49,071 - batch_test_runner - INFO -   - output_verifier: ✓
[19:35:49.071] 2025-08-20 19:35:49,071 - batch_test_runner - INFO -   - embedding_manager: ✓
[19:35:49.071] 2025-08-20 19:35:49,071 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[19:35:49.071] 2025-08-20 19:35:49,071 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[19:35:49.071] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6265190928)
[19:35:49.071] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:35:49.071] [FlawedWorkflowGenerator] Initialized with 30 tools
[19:35:49.071] [FlawedWorkflowGenerator] RAG support: disabled
[19:35:49.072] DEBUG: Checking generator attributes
[19:35:49.072]   - has tool_capabilities: True
[19:35:49.072]   - has tool_capability_manager: True
[19:35:49.072]   - has task_manager: True
[19:35:49.072] [INFO] Loaded 30 tools from generator
[19:35:49.072] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[19:35:49.072] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6265190928)
[19:35:49.072] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:35:49.072] [INFO] Initializing LLM client using APIClientManager
[19:35:49.078] [INFO] Using Azure OpenAI client
[19:35:49.078] [DEBUG] Checking if generator has tool_capability_manager attribute
[19:35:49.078] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[19:35:49.078] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6265190928)
[19:35:49.078] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:35:49.078] [FlawedWorkflowGenerator] Initialized with 30 tools
[19:35:49.078] [FlawedWorkflowGenerator] RAG support: enabled
[19:35:49.078] [INFO] FlawedWorkflowGenerator initialized successfully
[19:35:49.078] [INFO] Initializing StableScorer for Phase 2 scoring
[19:35:49.078] <tool_capability_manager.ToolCapabilityManager object at 0x30a4c7170>
[19:35:49.078] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6265190928)
[19:35:49.078] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:35:49.078] [INFO] Loaded tool success history for 0 tools
[19:35:49.078] [INFO] StableScorer initialized with semantic capability
[19:35:49.078] [INFO] StableScorer initialized successfully
[19:35:49.078] [INFO] Loading task instances...
[19:35:49.078] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[19:35:49.083] [INFO] Loaded 630 task instances
[19:35:49.083] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[19:35:49.083] 2025-08-20 19:35:49,083 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[19:35:49.083] 2025-08-20 19:35:49,083 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[19:35:49.385] 2025-08-20 19:35:49,385 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[19:35:49.385] 2025-08-20 19:35:49,385 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[19:35:49.400] 2025-08-20 19:35:49,400 - batch_test_runner - INFO - Initialization complete
[19:35:49.424] 2025-08-20 19:35:49,424 - batch_test_runner - INFO - Starting batch test with 10 tasks, 3 workers
[19:35:49.424] 2025-08-20 19:35:49,424 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[19:35:49.424] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:35:49.425] 2025-08-20 19:35:49,425 - smart_model_router - INFO - Using idealab for qwen2.5-72b-instruct
[19:35:49.431] 2025-08-20 19:35:49,431 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:35:49.431] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:35:49.431] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:35:49.431] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:35:49.431] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6265190928)
[19:35:49.431] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:35:49.431] 2025-08-20 19:35:49,431 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:35:49.685] 2025-08-20 19:35:49,685 - mcp_embedding_manager - INFO - FAISS index loaded
[19:35:49.685] 2025-08-20 19:35:49,685 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:35:49.685] 2025-08-20 19:35:49,685 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:35:49.687] [INFO] Tool embedding index loaded successfully
[19:35:49.687] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:35:49.691] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:35:49.691] [INFO] Operation semantic index initialized
[19:35:49.692] 
[19:35:49.692] [TURN 1/10]
[19:35:49.692] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:49.699] 2025-08-20 19:35:49,699 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:35:49.699] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:35:49.699] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:35:49.699] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:35:49.699] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6265190928)
[19:35:49.699] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:35:49.699] 2025-08-20 19:35:49,699 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:35:49.714] 2025-08-20 19:35:49,714 - mcp_embedding_manager - INFO - FAISS index loaded
[19:35:49.715] 2025-08-20 19:35:49,714 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:35:49.715] 2025-08-20 19:35:49,714 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:35:49.717] [INFO] Tool embedding index loaded successfully
[19:35:49.717] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:35:49.717] [INFO] Operation semantic index initialized
[19:35:49.717] 
[19:35:49.717] [TURN 1/10]
[19:35:49.718] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:49.878] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:35:49.888] 2025-08-20 19:35:49,888 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:35:49.888] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:35:49.888] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:35:49.888] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:35:49.888] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6265190928)
[19:35:49.888] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:35:49.888] 2025-08-20 19:35:49,888 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:35:49.908] 2025-08-20 19:35:49,908 - mcp_embedding_manager - INFO - FAISS index loaded
[19:35:49.908] 2025-08-20 19:35:49,908 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:35:49.908] 2025-08-20 19:35:49,908 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:35:49.911] [INFO] Tool embedding index loaded successfully
[19:35:49.911] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:35:49.912] [INFO] Operation semantic index initialized
[19:35:49.912] 
[19:35:49.912] [TURN 1/10]
[19:35:49.912] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:51.110] 2025-08-20 19:35:51,110 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:51.111] 2025-08-20 19:35:51,111 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:51.115]   [SEARCH] Query: data validation schema
[19:35:51.116] 
[19:35:51.116] [TURN 2/10]
[19:35:51.116]   [SEARCH] Query: data validation parser
[19:35:51.117] 
[19:35:51.117] [TURN 2/10]
[19:35:51.117] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:51.119] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:51.244] 2025-08-20 19:35:51,243 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:51.245]   [SEARCH] Query: file reader
[19:35:51.246] 
[19:35:51.246] [TURN 2/10]
[19:35:51.247] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:52.236] 2025-08-20 19:35:52,235 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:52.237] 2025-08-20 19:35:52,237 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:52.238] 2025-08-20 19:35:52,238 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:52.239]   [INFO] Tool info request: data_processing_validator
[19:35:52.239] 
[19:35:52.240] [TURN 3/10]  [INFO] Tool info request: data_processing_validator
[19:35:52.240] 
[19:35:52.240] [TURN 3/10]
[19:35:52.240] 
[19:35:52.240]   [EARLY_EXIT] No actions taken, continuing...
[19:35:52.240] 
[19:35:52.240] [TURN 3/10]
[19:35:52.243] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:52.245] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:52.248] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:52.629] 2025-08-20 19:35:52,628 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:35:52.631] 2025-08-20 19:35:52,630 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:35:52.632] 2025-08-20 19:35:52,631 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:35:52.633] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f4e75208-b2ec-975d-868a-b457106cca02"}, traceId: 213e062b17557437523703091e7f2b'}
[19:35:52.633] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[19:35:52.633] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b44bf2d1-b675-9696-a0f7-e1221dd11a7b"}, traceId: 213e043b17557437523657580e22c6'}
[19:35:52.633] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[19:35:52.633] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f3c995e0-c987-9c19-926f-17ee1ca3d60b"}, traceId: 213e007917557437523724740ee831'}
[19:35:52.633] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[19:35:54.384] 2025-08-20 19:35:54,384 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:54.385] 2025-08-20 19:35:54,385 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:54.385]   [INFO] Tool info request: data_processing_parser
[19:35:54.385] 
[19:35:54.386] [TURN 4/10]
[19:35:54.386]   [EARLY_EXIT] No actions taken, continuing...
[19:35:54.387] 
[19:35:54.387] [TURN 4/10]
[19:35:54.387] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:54.389] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:54.724] 2025-08-20 19:35:54,723 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:35:54.725] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cfb65648-94d9-9e4f-bc5f-a5544092bf63"}, traceId: 213e007917557437545134757ee831'}
[19:35:54.725] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[19:35:54.726] 2025-08-20 19:35:54,725 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:35:54.727] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9fa4fa7a-66e5-92eb-9f18-4a11123075cc"}, traceId: 213e043b17557437545087624e22c6'}
[19:35:54.727] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[19:35:54.940] 2025-08-20 19:35:54,939 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:54.941]   [INFO] Tool info request: data_processing_parser
[19:35:54.941] 
[19:35:54.941] [TURN 4/10]
[19:35:54.941] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:55.974] 2025-08-20 19:35:55,972 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:55.979]   [EARLY_EXIT] No actions taken, continuing...
[19:35:55.979] 
[19:35:55.979] [TURN 5/10]
[19:35:55.980] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:56.286] 2025-08-20 19:35:56,285 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:56.288]   [EARLY_EXIT] No actions taken, continuing...
[19:35:56.288] 
[19:35:56.288] [TURN 5/10]
[19:35:56.291] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:56.631] 2025-08-20 19:35:56,630 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:56.633]   [EARLY_EXIT] No actions taken, continuing...
[19:35:56.633] 
[19:35:56.633] [TURN 6/10]
[19:35:56.634] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:56.759] 2025-08-20 19:35:56,759 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:56.762]   [EARLY_EXIT] No actions taken, continuing...
[19:35:56.762] 
[19:35:56.762] [TURN 5/10]
[19:35:56.763] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:56.915] 2025-08-20 19:35:56,914 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:56.916]   [EARLY_EXIT] No actions taken, continuing...
[19:35:56.916] 
[19:35:56.916] [TURN 6/10]
[19:35:56.917] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:56.975] 2025-08-20 19:35:56,974 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:35:56.975] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4b59d8f7-3b30-9a03-b813-da99ad3db780"}, traceId: 213e062b17557437567583108e7f2b'}
[19:35:56.975] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[19:35:57.090] 2025-08-20 19:35:57,090 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:35:57.092] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5438bea9-d857-935a-8215-6b1b715c0e0a"}, traceId: 213e043b17557437568837672e22c6'}
[19:35:57.092] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[19:35:57.796] 2025-08-20 19:35:57,795 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:57.798]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[19:35:57.798] 
[19:35:57.798] [TURN 7/10]
[19:35:57.800] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:58.129] 2025-08-20 19:35:58,128 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:35:58.130] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f4431819-b23c-9648-9fab-14d77e463be3"}, traceId: 213e007917557437579244774ee831'}
[19:35:58.130] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[19:35:58.800] 2025-08-20 19:35:58,800 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:58.801]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[19:35:58.801] 
[19:35:58.801] [TURN 7/10]
[19:35:58.802] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:59.495] 2025-08-20 19:35:59,494 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:59.499]   [EARLY_EXIT] No actions taken, continuing...
[19:35:59.499] 
[19:35:59.499] [TURN 6/10]
[19:35:59.504] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:35:59.779] 2025-08-20 19:35:59,778 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:35:59.781]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[19:35:59.781] 
[19:35:59.781] [TURN 8/10]
[19:35:59.782] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:00.141] 2025-08-20 19:36:00,140 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:00.143] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1c049c5a-e554-98e5-9c56-e3244079e044"}, traceId: 213e062b17557437599093120e7f2b'}
[19:36:00.143] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[19:36:00.403] 2025-08-20 19:36:00,402 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:00.405]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[19:36:00.405] 
[19:36:00.405] [TURN 8/10]
[19:36:00.406] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:00.441] 2025-08-20 19:36:00,440 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:00.443]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[19:36:00.443] 
[19:36:00.443] [TURN 7/10]
[19:36:00.444] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:01.392] 2025-08-20 19:36:01,388 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:01.393]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[19:36:01.393] 
[19:36:01.393] [TURN 9/10]
[19:36:01.394] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:01.398] 2025-08-20 19:36:01,398 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:01.398]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[19:36:01.399] 
[19:36:01.399] [TURN 8/10]
[19:36:01.400] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:02.063] 2025-08-20 19:36:02,063 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:02.063]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[19:36:02.063] 
[19:36:02.063] [TURN 10/10]
[19:36:02.064] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:02.121] 2025-08-20 19:36:02,121 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:02.122]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[19:36:02.122] 
[19:36:02.122] [TURN 9/10]
[19:36:02.122] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:02.343] 2025-08-20 19:36:02,342 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:02.347]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[19:36:02.347] 
[19:36:02.347] [TURN 9/10]
[19:36:02.348] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:02.466] 2025-08-20 19:36:02,463 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:02.469] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7cfc74f6-476b-95aa-9236-eeb6ec9c4a12"}, traceId: 213e062b17557437622453131e7f2b'}
[19:36:02.469] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[19:36:02.659] 2025-08-20 19:36:02,659 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:02.662] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8a37479d-00f3-9b7b-a125-6052cc61f362"}, traceId: 213e043b17557437624707733e22c6'}
[19:36:02.662] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[19:36:02.844] 2025-08-20 19:36:02,843 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:02.846]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[19:36:02.846] [ASSISTED] Task received 5 format helps, final result: failure
[19:36:02.848] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:36:02.848] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:36:02.848] [AI_DEBUG] 生成的txt_content长度: 14673
[19:36:02.848] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:36:02.848]   - use_ai_classification=True
[19:36:02.848]   - ai_classifier=True
[19:36:02.848]   - txt_content_len=14673
[19:36:02.848]   - task_model=qwen2.5-72b-instruct
[19:36:02.848] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:36:02.849] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:36:02.862] 2025-08-20 19:36:02,861 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:36:02.862] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:36:02.862] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:36:02.862] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:36:02.862] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6265190928)
[19:36:02.862] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:36:02.862] 2025-08-20 19:36:02,862 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:36:02.882] 2025-08-20 19:36:02,882 - mcp_embedding_manager - INFO - FAISS index loaded
[19:36:02.882] 2025-08-20 19:36:02,882 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:36:02.882] 2025-08-20 19:36:02,882 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:36:02.885] [INFO] Tool embedding index loaded successfully
[19:36:02.894] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:36:02.894] [INFO] Operation semantic index initialized
[19:36:02.894] 
[19:36:02.894] [TURN 1/10]
[19:36:02.894] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:04.274] 2025-08-20 19:36:04,273 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:04.279]   [SEARCH] Query: file reader
[19:36:04.279] 
[19:36:04.279] [TURN 2/10]
[19:36:04.287] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:04.579] 2025-08-20 19:36:04,579 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:04.580]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[19:36:04.580] 
[19:36:04.580] [TURN 10/10]
[19:36:04.581] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:04.896] 2025-08-20 19:36:04,896 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:04.899] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8058e687-a7e8-9edc-8e3d-0a1f96cd1552"}, traceId: 213e043b17557437647007758e22c6'}
[19:36:04.899] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[19:36:05.004] 2025-08-20 19:36:05,004 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:05.005]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[19:36:05.005] 
[19:36:05.005] [TURN 10/10]
[19:36:05.023] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:05.193] 2025-08-20 19:36:05,193 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:05.195]   [EARLY_EXIT] No actions taken, continuing...
[19:36:05.195] 
[19:36:05.196] [TURN 3/10]
[19:36:05.213] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:05.531] 2025-08-20 19:36:05,530 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:05.534] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5ef48e02-a182-9f65-a678-ab526bdd66cb"}, traceId: 213e006917557437653294590ee17e'}
[19:36:05.534] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[19:36:05.752] 2025-08-20 19:36:05,752 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:05.752] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e8b58c51-34fe-9cd9-86e3-fe4abdbb08fc"}, traceId: 213e043b17557437655507759e22c6'}
[19:36:05.752] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[19:36:06.199] 2025-08-20 19:36:06,199 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:06.200]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[19:36:06.200] [ASSISTED] Task received 5 format helps, final result: failure
[19:36:06.203] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:36:06.218] 2025-08-20 19:36:06,218 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:36:06.219] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:36:06.219] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:36:06.219] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:36:06.219] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6265190928)
[19:36:06.219] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:36:06.219] 2025-08-20 19:36:06,219 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:36:06.255] 2025-08-20 19:36:06,255 - mcp_embedding_manager - INFO - FAISS index loaded
[19:36:06.256] 2025-08-20 19:36:06,255 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:36:06.256] 2025-08-20 19:36:06,256 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:36:06.258] [INFO] Tool embedding index loaded successfully
[19:36:06.259] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:36:06.259] [INFO] Operation semantic index initialized
[19:36:06.259] 
[19:36:06.259] [TURN 1/10]
[19:36:06.259] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:06.995] 2025-08-20 19:36:06,995 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:06.998] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f2823d98-95c1-9b78-bfe0-249116551793"}, traceId: 213e007f17557437667957094eea87'}
[19:36:06.998] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[19:36:07.456] 2025-08-20 19:36:07,456 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:07.458]   [EARLY_EXIT] No actions taken, continuing...
[19:36:07.458] 
[19:36:07.458] [TURN 4/10]
[19:36:07.459] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:07.991] 2025-08-20 19:36:07,990 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:07.993] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6ffe0fcd-123b-9c3c-bcbf-82094c611063"}, traceId: 213e007f17557437677887106eea87'}
[19:36:07.993] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[19:36:07.994] 2025-08-20 19:36:07,994 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:07.998]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[19:36:07.998] [ASSISTED] Task received 5 format helps, final result: failure
[19:36:07.999] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:36:08.011] 2025-08-20 19:36:08,011 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:36:08.011] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:36:08.011] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:36:08.011] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:36:08.011] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6265190928)
[19:36:08.011] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:36:08.011] 2025-08-20 19:36:08,011 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:36:08.035] 2025-08-20 19:36:08,035 - mcp_embedding_manager - INFO - FAISS index loaded
[19:36:08.035] 2025-08-20 19:36:08,035 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:36:08.035] 2025-08-20 19:36:08,035 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:36:08.038] [INFO] Tool embedding index loaded successfully
[19:36:08.039] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:36:08.039] [INFO] Operation semantic index initialized
[19:36:08.039] 
[19:36:08.039] [TURN 1/10]
[19:36:08.039] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:08.358] 2025-08-20 19:36:08,357 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:08.360]   [EARLY_EXIT] No actions taken, continuing...
[19:36:08.360] 
[19:36:08.360] [TURN 5/10]
[19:36:08.366] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:09.231] 2025-08-20 19:36:09,231 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:09.234]   [EARLY_EXIT] No actions taken, continuing...
[19:36:09.234] 
[19:36:09.234] [TURN 6/10]
[19:36:09.235] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:09.378] 2025-08-20 19:36:09,378 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:09.379]   [SEARCH] Query: file reader
[19:36:09.379] 
[19:36:09.379] [TURN 2/10]
[19:36:09.379] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:10.360] 2025-08-20 19:36:10,359 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:10.361]   [EARLY_EXIT] No actions taken, continuing...
[19:36:10.361] 
[19:36:10.361] [TURN 3/10]
[19:36:10.361] 2025-08-20 19:36:10,361 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:10.362] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:10.365]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[19:36:10.365] 
[19:36:10.365] [TURN 7/10]
[19:36:10.367] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:10.503] 2025-08-20 19:36:10,503 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:10.506]   [SEARCH] Query: file reader
[19:36:10.506] 
[19:36:10.506] [TURN 2/10]
[19:36:10.506] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:10.681] 2025-08-20 19:36:10,680 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:10.683] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"58662857-ba53-9ba2-abe5-4e1d3251f2ec"}, traceId: 213e006917557437704844645ee17e'}
[19:36:10.683] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[19:36:10.713] 2025-08-20 19:36:10,713 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:10.714] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6f8da703-6502-99c5-901f-d09851079fe5"}, traceId: 213e001317557437704828314e0aab'}
[19:36:10.714] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[19:36:10.731] 2025-08-20 19:36:10,731 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:36:10.733] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[19:36:10.737] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:36:10.737] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:36:10.737] [AI_DEBUG] 生成的txt_content长度: 16496
[19:36:10.737] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:36:10.737]   - use_ai_classification=True
[19:36:10.737]   - ai_classifier=True
[19:36:10.737]   - txt_content_len=16496
[19:36:10.737]   - task_model=qwen2.5-72b-instruct
[19:36:10.737] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:36:10.816] 2025-08-20 19:36:10,816 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:10.819] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2ebe4e3e-f70b-9470-8502-19e35c537717"}, traceId: 213e007f17557437706257128eea87'}
[19:36:10.819] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[19:36:12.365] 2025-08-20 19:36:12,364 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:12.368]   [EARLY_EXIT] No actions taken, continuing...
[19:36:12.368] 
[19:36:12.368] [TURN 3/10]
[19:36:12.375] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:12.696] 2025-08-20 19:36:12,696 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:12.696] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c04225d3-18dc-9134-830d-c454657a3766"}, traceId: 213e007f17557437724937176eea87'}
[19:36:12.696] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[19:36:12.814] 2025-08-20 19:36:12,814 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:12.815]   [EARLY_EXIT] No actions taken, continuing...
[19:36:12.815] 
[19:36:12.815] [TURN 4/10]
[19:36:12.816] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:12.913] 2025-08-20 19:36:12,913 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:12.916]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[19:36:12.916] 
[19:36:12.916] [TURN 8/10]
[19:36:12.917] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:13.126] 2025-08-20 19:36:13,126 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:13.127] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a7c4519c-269c-96cc-9779-c72009c86445"}, traceId: 213e001317557437729358324e0aab'}
[19:36:13.127] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[19:36:13.853] 2025-08-20 19:36:13,853 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:13.857]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[19:36:13.857] 
[19:36:13.857] [TURN 9/10]
[19:36:13.857] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:14.051] 2025-08-20 19:36:14,051 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:14.054] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"65cde554-5b84-9e7f-93fe-380c24f07804"}, traceId: 213e007f17557437738547194eea87'}
[19:36:14.054] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[19:36:14.852] 2025-08-20 19:36:14,851 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:14.852] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ce8dbb77-8fd3-9274-b48b-bee4bc551f14"}, traceId: 213e001317557437746498330e0aab'}
[19:36:14.852] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[19:36:14.981] 2025-08-20 19:36:14,981 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:14.984]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[19:36:14.984] 
[19:36:14.984] [TURN 10/10]
[19:36:14.984] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:15.922] 2025-08-20 19:36:15,922 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:15.925]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[19:36:15.925] [ASSISTED] Task received 5 format helps, final result: failure
[19:36:15.926] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[19:36:15.934] 2025-08-20 19:36:15,934 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[19:36:15.934] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[19:36:15.934] [InteractiveExecutor] Using prompt type: optimal for API key selection
[19:36:15.934] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[19:36:15.934] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6265190928)
[19:36:15.934] [MCPEmbeddingManager] Current cache size: 30 embeddings
[19:36:15.934] 2025-08-20 19:36:15,934 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[19:36:15.951] 2025-08-20 19:36:15,951 - mcp_embedding_manager - INFO - FAISS index loaded
[19:36:15.951] 2025-08-20 19:36:15,951 - mcp_embedding_manager - INFO - Updated dimension to 3072
[19:36:15.951] 2025-08-20 19:36:15,951 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[19:36:15.954] [INFO] Tool embedding index loaded successfully
[19:36:15.954] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[19:36:15.954] [INFO] Operation semantic index initialized
[19:36:15.955] 
[19:36:15.955] [TURN 1/10]
[19:36:15.955] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:16.169] 2025-08-20 19:36:16,169 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:16.172]   [EARLY_EXIT] No actions taken, continuing...
[19:36:16.172] 
[19:36:16.172] [TURN 4/10]
[19:36:16.173] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:16.934] 2025-08-20 19:36:16,934 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:16.937]   [EARLY_EXIT] No actions taken, continuing...
[19:36:16.937] 
[19:36:16.937] [TURN 5/10]
[19:36:16.938] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:17.573] 2025-08-20 19:36:17,573 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:17.574]   [SEARCH] Query: network api fetch
[19:36:17.575] 
[19:36:17.575] [TURN 2/10]
[19:36:17.575] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:17.920] 2025-08-20 19:36:17,920 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:17.920] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c42b4d33-edaa-91e7-8980-d4f7069f329a"}, traceId: 213e00cd17557437776936690e9460'}
[19:36:17.920] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[19:36:18.064] 2025-08-20 19:36:18,063 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:18.066]   [EARLY_EXIT] No actions taken, continuing...
[19:36:18.066] 
[19:36:18.066] [TURN 6/10]
[19:36:18.067] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:18.183] 2025-08-20 19:36:18,183 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:18.184]   [EARLY_EXIT] No actions taken, continuing...
[19:36:18.184] 
[19:36:18.184] [TURN 5/10]
[19:36:18.184] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:18.677] 2025-08-20 19:36:18,677 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[19:36:18.678] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[19:36:18.680] [DEBUG] Got result for task: has_result=True, save_logs=True
[19:36:18.680] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[19:36:18.680] [AI_DEBUG] 生成的txt_content长度: 16524
[19:36:18.680] [AI_DEBUG] _ai_classify_with_txt_content called:
[19:36:18.680]   - use_ai_classification=True
[19:36:18.680]   - ai_classifier=True
[19:36:18.680]   - txt_content_len=16524
[19:36:18.680]   - task_model=qwen2.5-72b-instruct
[19:36:18.680] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[19:36:18.681] 2025-08-20 19:36:18,681 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:18.684]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[19:36:18.684] 
[19:36:18.684] [TURN 7/10]
[19:36:18.685] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:18.881] 2025-08-20 19:36:18,880 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:18.881] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c73deb0f-0378-9864-b252-b3f2f3994f78"}, traceId: 213e00cd17557437786836700e9460'}
[19:36:18.881] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[19:36:18.989] 2025-08-20 19:36:18,989 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[19:36:18.992] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f54c4f07-2710-98e6-90ba-4fab263308e8"}, traceId: 213e007f17557437788047269eea87'}
[19:36:18.992] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[19:36:19.171] 2025-08-20 19:36:19,171 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:19.171]   [EARLY_EXIT] No actions taken, continuing...
[19:36:19.171] 
[19:36:19.171] [TURN 6/10]
[19:36:19.171] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:20.092] 2025-08-20 19:36:20,089 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:20.099]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[19:36:20.099] 
[19:36:20.099] [TURN 7/10]
[19:36:20.102] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[19:36:20.802] 2025-08-20 19:36:20,802 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[19:36:20.802]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[19:36:20.802] 
[19:36:20.802] [TURN 8/10]
[19:36:20.803] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
