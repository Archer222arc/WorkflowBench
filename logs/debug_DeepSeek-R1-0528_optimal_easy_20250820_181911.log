2025-08-20 18:19:12,069 - INFO - 初始化实例池: 18个实例 (2个Azure + 7个IdealLab)
2025-08-20 18:19:12,069 - INFO - 调试日志目录: logs/debug_ultra_20250820_181610
2025-08-20 18:19:12,070 - INFO - [DEBUG] 开始调试模式运行
2025-08-20 18:19:12,070 - INFO - [DEBUG] 参数: args=(), kwargs={'model': 'DeepSeek-R1-0528', 'prompt_types': 'optimal', 'difficulty': 'easy', 'task_types': 'all', 'num_instances': 2, 'max_workers': 5, 'tool_success_rate': 0.8, 'rate_mode': 'fixed', 'silent': False}
2025-08-20 18:19:12,070 - INFO - 
🔥 启动超高并行测试
2025-08-20 18:19:12,070 - INFO -    模型: DeepSeek-R1-0528
2025-08-20 18:19:12,070 - INFO -    Prompt类型: optimal
2025-08-20 18:19:12,070 - INFO -    难度: easy
2025-08-20 18:19:12,070 - INFO -    实例数: 2
2025-08-20 18:19:12,070 - INFO -    速率模式: fixed
2025-08-20 18:19:12,070 - INFO - 创建任务分片: 3个实例并行
2025-08-20 18:19:12,070 - INFO - 📊 创建了 3 个并行分片
2025-08-20 18:19:12,070 - INFO - [DEBUG] 启动分片 DeepSeek-R1-0528_easy_0，包含模型: deepseek-r1-0528
2025-08-20 18:19:12,070 - INFO -    传递STORAGE_FORMAT=parquet给子进程
2025-08-20 18:19:12,073 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0 日志: logs/debug_ultra_20250820_181610/deepseek_r1_0528_74df_181912_070_p65061_004_DeepSeek_R1_0528_easy_0.log
2025-08-20 18:19:12,073 - INFO - [DEBUG] 运行命令: python -u smart_batch_runner.py --model deepseek-r1-0528 --deployment DeepSeek-R1-0528 --prompt-types optimal --difficulty easy --task-types all --num-instances 1 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
2025-08-20 18:19:12,080 - INFO - 🚀 第一个分片 DeepSeek-R1-0528_easy_0 立即启动
2025-08-20 18:19:12,080 - INFO - ⏱️  延迟30秒后启动第二个分片...
[分片DeepSeek-R1-0528_easy_0] 🚀 检测到Azure API，使用超高并发: workers=100, qps=200.0
[分片DeepSeek-R1-0528_easy_0] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x16f507110>
[分片DeepSeek-R1-0528_easy_0] [OperationEmbeddingIndex] Initializing with unified API client manager
[分片DeepSeek-R1-0528_easy_0] [MCPEmbeddingManager] Initializing with unified API client manager
[分片DeepSeek-R1-0528_easy_0] [WARNING] Embedding manager exists but has no embeddings
2025-08-20 18:19:19,336 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0: 100 行输出，运行 7.3秒
[分片DeepSeek-R1-0528_easy_0] [INFO] Initializing LLM client using APIClientManager
2025-08-20 18:19:20,908 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0: 200 行输出，运行 8.8秒
[分片DeepSeek-R1-0528_easy_0] 2025-08-20 18:19:21,272 - batch_test_runner - INFO - Detected Azure API, disabling QPS sleep for better performance
[分片DeepSeek-R1-0528_easy_0] 2025-08-20 18:19:21,272 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528[InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
2025-08-20 18:19:37,129 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0: 300 行输出，运行 25.0秒
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
2025-08-20 18:19:42,081 - INFO - [DEBUG] 启动分片 DeepSeek-R1-0528_easy_1，包含模型: deepseek-r1-0528
2025-08-20 18:19:42,082 - INFO -    传递STORAGE_FORMAT=parquet给子进程
2025-08-20 18:19:42,082 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_1 日志: logs/debug_ultra_20250820_181610/deepseek_r1_0528_74df_181942_082_p65061_005_DeepSeek_R1_0528_easy_1.log
2025-08-20 18:19:42,082 - INFO - [DEBUG] 运行命令: python -u smart_batch_runner.py --model deepseek-r1-0528 --deployment DeepSeek-R1-0528-2 --prompt-types optimal --difficulty easy --task-types all --num-instances 1 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
2025-08-20 18:19:42,103 - INFO - ⏱️  延迟20秒后启动分片 3...
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_1] 🚀 检测到Azure API，使用超高并发: workers=100, qps=200.0
[分片DeepSeek-R1-0528_easy_1] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x17cf22b70>
[分片DeepSeek-R1-0528_easy_1] [OperationEmbeddingIndex] Initializing with unified API client manager
[分片DeepSeek-R1-0528_easy_1] [MCPEmbeddingManager] Initializing with unified API client manager
[分片DeepSeek-R1-0528_easy_1] [WARNING] Embedding manager exists but has no embeddings
2025-08-20 18:19:48,470 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_1: 100 行输出，运行 6.4秒
[分片DeepSeek-R1-0528_easy_1] [INFO] Initializing LLM client using APIClientManager
2025-08-20 18:19:50,613 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_1: 200 行输出，运行 8.5秒
[分片DeepSeek-R1-0528_easy_1] 2025-08-20 18:19:51,158 - batch_test_runner - INFO - Detected Azure API, disabling QPS sleep for better performance
[分片DeepSeek-R1-0528_easy_1] 2025-08-20 18:19:51,158 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[分片DeepSeek-R1-0528_easy_1] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_1] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_1] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_1] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_1] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_1] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[分片DeepSeek-R1-0528_easy_1] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[分片DeepSeek-R1-0528_easy_1] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[分片DeepSeek-R1-0528_easy_1] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13096121168)[InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[分片DeepSeek-R1-0528_easy_1] [InteractiveExecutor] API model name: DeepSeek-R1-0528-2
[分片DeepSeek-R1-0528_easy_1] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[分片DeepSeek-R1-0528_easy_1] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[分片DeepSeek-R1-0528_easy_1] [TURN 1/10][LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[分片DeepSeek-R1-0528_easy_1] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2[LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
2025-08-20 18:20:02,107 - INFO - [DEBUG] 启动分片 DeepSeek-R1-0528_easy_2，包含模型: deepseek-r1-0528
2025-08-20 18:20:02,110 - INFO -    传递STORAGE_FORMAT=parquet给子进程
2025-08-20 18:20:02,116 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_2 日志: logs/debug_ultra_20250820_181610/deepseek_r1_0528_74df_182002_110_p65061_006_DeepSeek_R1_0528_easy_2.log
2025-08-20 18:20:02,116 - INFO - [DEBUG] 运行命令: python -u smart_batch_runner.py --model deepseek-r1-0528 --deployment DeepSeek-R1-0528-3 --prompt-types optimal --difficulty easy --task-types all --num-instances 3 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
2025-08-20 18:20:02,144 - INFO - ⏳ 并发等待 3 个分片完成...
2025-08-20 18:20:03,242 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_1: 300 行输出，运行 21.1秒
[分片DeepSeek-R1-0528_easy_1] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
[分片DeepSeek-R1-0528_easy_2] 🚀 检测到Azure API，使用超高并发: workers=100, qps=200.0
[分片DeepSeek-R1-0528_easy_2] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x16b89c230>
[分片DeepSeek-R1-0528_easy_2] [OperationEmbeddingIndex] Initializing with unified API client manager
[分片DeepSeek-R1-0528_easy_2] [MCPEmbeddingManager] Initializing with unified API client manager
[分片DeepSeek-R1-0528_easy_2] [WARNING] Embedding manager exists but has no embeddings
2025-08-20 18:20:11,148 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_2: 100 行输出，运行 9.0秒
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_2] [INFO] Initializing LLM client using APIClientManager
2025-08-20 18:20:12,833 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_2: 200 行输出，运行 10.7秒
[分片DeepSeek-R1-0528_easy_2] 2025-08-20 18:20:13,204 - batch_test_runner - INFO - Detected Azure API, disabling QPS sleep for better performance
[分片DeepSeek-R1-0528_easy_2] 2025-08-20 18:20:13,205 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection[InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection[InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection[InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-32025-08-20 18:20:13,507 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13225758400)[InteractiveExecutor] API model name: DeepSeek-R1-0528-3
2025-08-20 18:20:13,522 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_2: 300 行输出，运行 11.4秒
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [InteractiveExecutor] API model name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3[LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
2025-08-20 18:20:13,752 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_2: 400 行输出，运行 11.6秒
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3[LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_2] [LLM_CALL] Using model: DeepSeek-R1-0528-3, API name: DeepSeek-R1-0528-3
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_1] [LLM_CALL] Using model: DeepSeek-R1-0528-2, API name: DeepSeek-R1-0528-2
./run_systematic_test_final.sh: line 3397: 65061 Terminated: 15          python -u ultra_parallel_runner_debug.py --model DeepSeek-R1-0528 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --rate-mode fixed --debug-log-dir logs/debug_ultra_20250820_181610
