===== 分片 qwen2.5-32b-instruct_easy_key1 =====
时间: 2025-08-27T00:18:53.355757
模型: qwen2.5-32b-instruct
实例: qwen-key1
命令: python -u smart_batch_runner.py --model qwen2.5-32b-instruct --deployment qwen-key1 --prompt-types optimal --difficulty easy --task-types all --num-instances 1 --max-workers 50 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=json
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[00:18:55.591] 2025-08-27 00:18:55,589 - faiss.loader - INFO - Loading faiss.
[00:18:55.662] 2025-08-27 00:18:55,661 - faiss.loader - INFO - Successfully loaded faiss.
[00:18:57.913] [INFO] 使用JSON存储格式
[00:18:57.931] [INFO] 使用JSON存储格式
[00:18:58.706] [INFO] 使用JSON存储格式
[00:18:58.708] [INFO] 使用JSON存储格式
[00:18:58.709] 
[00:18:58.709] ============================================================
[00:18:58.709] 智能批测试: qwen2.5-32b-instruct (idealab)
[00:18:58.709] Prompt types: ['optimal']
[00:18:58.709] 难度: easy
[00:18:58.709] 目标: 每种配置 1 个实例
[00:18:58.709] ============================================================
[00:18:58.709] ○ simple_task         :   0/  1 已完成 (需要补充 1 个)
[00:18:58.709] ○ basic_task          :   0/  1 已完成 (需要补充 1 个)
[00:18:58.709] ○ data_pipeline       :   0/  1 已完成 (需要补充 1 个)
[00:18:58.709] ○ api_integration     :   0/  1 已完成 (需要补充 1 个)
[00:18:58.709] ○ multi_stage_pipeline:   0/  1 已完成 (需要补充 1 个)
[00:18:58.709] 
[00:18:58.709] ⏳ 需要运行 5 个新测试
[00:18:58.709] 
[00:18:58.709] ▶ 准备 simple_task (1 个实例)...
[00:18:58.709] 
[00:18:58.709] ▶ 准备 basic_task (1 个实例)...
[00:18:58.709] 
[00:18:58.709] ▶ 准备 data_pipeline (1 个实例)...
[00:18:58.709] 
[00:18:58.709] ▶ 准备 api_integration (1 个实例)...
[00:18:58.709] 
[00:18:58.709] ▶ 准备 multi_stage_pipeline (1 个实例)...
[00:18:58.709] 
[00:18:58.709] ▶ 开始执行 5 个测试...
[00:18:58.709] 📊 自适应checkpoint_interval: 20
[00:18:58.709] 📦 批量提交模式：每20个测试保存一次
[00:18:58.709] ⚠️  检测到idealab API，调整并发: workers=2, qps=None
[00:18:58.709] 2025-08-27 00:18:58,709 - smart_result_collector - INFO - 自动保存线程已启动
[00:18:58.710] 2025-08-27 00:18:58,709 - smart_result_collector - INFO - SmartResultCollector初始化完成
[00:18:58.710] 2025-08-27 00:18:58,710 - smart_result_collector - INFO -   - 临时目录: temp_results
[00:18:58.710] 2025-08-27 00:18:58,710 - smart_result_collector - INFO -   - 内存阈值: 20
[00:18:58.710] 2025-08-27 00:18:58,710 - smart_result_collector - INFO -   - 时间阈值: 300秒
[00:18:58.710] 2025-08-27 00:18:58,710 - smart_result_collector - INFO -   - 自动保存: 60秒
[00:18:58.710] 2025-08-27 00:18:58,710 - smart_result_collector - INFO -   - 自适应阈值: True
[00:18:58.710] 2025-08-27 00:18:58,710 - result_collector_adapter - INFO - ✅ 使用SmartResultCollector
[00:18:58.710] 2025-08-27 00:18:58,710 - result_collector_adapter - INFO - AdaptiveResultCollector初始化完成，使用: smart
[00:18:58.710] 🧠 启用SmartResultCollector模式，智能数据管理
[00:18:58.711] 2025-08-27 00:18:58,711 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[00:18:58.787] 2025-08-27 00:18:58,787 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[00:18:58.787] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x7fcb81aa65c0>
[00:18:58.787] 2025-08-27 00:18:58,787 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[00:18:58.787] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=False, use_ai_classification=True, checkpoint_interval=20
[00:18:58.787] 2025-08-27 00:18:58,787 - batch_test_runner - INFO - ============================================================
[00:18:58.787] 2025-08-27 00:18:58,787 - batch_test_runner - INFO - Batch test runner initialized
[00:18:58.787] 2025-08-27 00:18:58,787 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[00:18:58.787] 2025-08-27 00:18:58,787 - batch_test_runner - INFO - Log file: logs/batch_test_20250827_001858.log
[00:18:58.787] 2025-08-27 00:18:58,787 - batch_test_runner - INFO - ============================================================
[00:18:58.787] 2025-08-27 00:18:58,787 - batch_test_runner - INFO - Running 5 tests with 2 workers, QPS limit: None
[00:18:58.787] 2025-08-27 00:18:58,787 - batch_test_runner - INFO - Initializing test components...
[00:19:00.019] 2025-08-27 00:19:00,015 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[00:19:00.038] 2025-08-27 00:19:00,018 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[00:19:00.043] 2025-08-27 00:19:00,018 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[00:19:00.044] [DEBUG] Creating new ToolCapabilityManager instance
[00:19:00.048] [OperationEmbeddingIndex] Initializing with unified API client manager
[00:19:00.051] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[00:19:00.052] 2025-08-27 00:19:00,020 - api_client_manager - INFO - Loaded configuration from config/config.json
[00:19:00.076] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[00:19:00.076] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[00:19:00.076] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[00:19:02.073] 2025-08-27 00:19:02,073 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[00:19:02.082] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[00:19:02.136] [INFO] Loaded 4150 embeddings from persistent cache
[00:19:02.136] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[00:19:02.137] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[00:19:02.137] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[00:19:02.137] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[00:19:02.145] [INFO] Successfully loaded FAISS index with dimension 3072
[00:19:02.145] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[00:19:02.145] [INFO] Loaded 15 operations with dimension 3072
[00:19:02.145] [INFO] Successfully loaded cached index
[00:19:02.146] [INFO] Operation semantic index initialized
[00:19:02.148] [INFO] Using device: cpu
[00:19:02.149] [INFO] Initialized tool success tracking attributes
[00:19:02.149] [INFO] Initializing embedding manager for enhanced tool selection
[00:19:02.149] [MCPEmbeddingManager] Creating new singleton instance
[00:19:02.150] [MCPEmbeddingManager] Initializing with unified API client manager
[00:19:02.161] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[00:19:02.161] [MCPEmbeddingManager] Client initialized successfully
[00:19:02.161] 2025-08-27 00:19:02,161 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[00:19:02.328] 2025-08-27 00:19:02,328 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[00:19:03.395] 2025-08-27 00:19:03,394 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[00:19:03.395] 2025-08-27 00:19:03,395 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[00:19:03.428] 2025-08-27 00:19:03,428 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[00:19:03.540] 2025-08-27 00:19:03,540 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[00:19:04.419] 2025-08-27 00:19:04,416 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[00:19:04.422] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[00:19:04.422] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[00:19:04.422] 2025-08-27 00:19:04,417 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[00:19:04.448] 2025-08-27 00:19:04,448 - mcp_embedding_manager - INFO - FAISS index loaded
[00:19:04.448] 2025-08-27 00:19:04,448 - mcp_embedding_manager - INFO - Updated dimension to 3072
[00:19:04.448] 2025-08-27 00:19:04,448 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[00:19:04.451] [SUCCESS] Loaded 30 tool embeddings
[00:19:04.451] 2025-08-27 00:19:04,451 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[00:19:04.451] [SUCCESS] Embedding manager initialized with 30 tools
[00:19:04.451] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[00:19:04.451] [INFO] Loading full MCP protocol registry...
[00:19:04.451] 2025-08-27 00:19:04,451 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[00:19:04.451] [INFO] Loaded full tool registry with 30 tools
[00:19:04.451] 2025-08-27 00:19:04,451 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[00:19:04.451] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[00:19:04.452] [INFO] Embedding manager ready with 30 tools
[00:19:04.452] [WARNING] Embedding manager exists but has no embeddings
[00:19:04.452] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[00:19:04.462] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[00:19:04.462] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[00:19:04.462] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[00:19:04.462] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[00:19:04.462] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[00:19:04.462] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[00:19:04.462] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[00:19:04.462] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[00:19:04.462] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[00:19:04.462] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[00:19:04.462] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[00:19:04.462] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[00:19:04.462] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[00:19:04.462] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[00:19:04.462] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[00:19:04.462] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[00:19:04.462] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[00:19:04.462] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[00:19:04.462] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[00:19:04.462] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[00:19:04.462] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[00:19:04.462] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[00:19:04.462] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[00:19:04.462] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[00:19:04.462] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[00:19:04.462] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[00:19:04.463] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[00:19:04.463] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[00:19:04.463] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[00:19:04.463] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[00:19:04.463] 2025-08-27 00:19:04,463 - mdp_workflow_generator - INFO - Loaded 30 tools
[00:19:04.463] [INFO] Setting default state_dim based on loaded tools
[00:19:04.463] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[00:19:04.463] 2025-08-27 00:19:04,463 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[00:19:04.463] [INFO] Setting default action_dim based on loaded tools
[00:19:04.463] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[00:19:04.463] 2025-08-27 00:19:04,463 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[00:19:04.463] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[00:19:04.463] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[00:19:04.463] [INFO] ⚡ Will use pre-generated workflows or random policy
[00:19:04.463] 2025-08-27 00:19:04,463 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[00:19:04.463] [INFO] Initializing TaskManager...
[00:19:05.841] 2025-08-27 00:19:05,840 - unified_training_manager - INFO - Using device: cpu
[00:19:05.976] 2025-08-27 00:19:05,976 - unified_training_manager - INFO - Task filtering results:
[00:19:05.976] 2025-08-27 00:19:05,976 - unified_training_manager - INFO -   Total: 5040 -> 5040
[00:19:05.976] 2025-08-27 00:19:05,976 - unified_training_manager - INFO -   simple_task: 320 -> 320
[00:19:05.976] 2025-08-27 00:19:05,976 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[00:19:05.976] 2025-08-27 00:19:05,976 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[00:19:05.977] 2025-08-27 00:19:05,976 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[00:19:05.977] 2025-08-27 00:19:05,976 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[00:19:05.977] 2025-08-27 00:19:05,976 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[00:19:05.980] 2025-08-27 00:19:05,980 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[00:19:05.980] [TaskManager] Difficulty level 'easy': 1096 tasks
[00:19:05.980] [TaskManager] Difficulty level 'very_easy': 856 tasks
[00:19:05.980] [TaskManager] Difficulty level 'medium': 1136 tasks
[00:19:05.980] [TaskManager] Difficulty level 'hard': 1096 tasks
[00:19:05.980] [TaskManager] Difficulty level 'very_hard': 856 tasks
[00:19:05.983] [INFO] TaskManager initialized with 5040 tasks
[00:19:05.983] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[00:19:05.983] [INFO] Initializing ToolCallVerifier...
[00:19:05.986] [INFO] ToolCallVerifier initialized with 30 tools
[00:19:05.986] [INFO] Output tools identified: 1
[00:19:05.986] [INFO] Component initialization status:
[00:19:05.986]   - embedding_manager: initialized
[00:19:05.986]   - task_manager: initialized
[00:19:05.986]   - output_verifier: initialized
[00:19:05.986]   - tool_capability_manager: initialized
[00:19:05.986]   - tool_success_rates: initialized with 0 entries
[00:19:05.986] [INFO] MDPWorkflowGenerator initialization complete
[00:19:05.986] 2025-08-27 00:19:05,986 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[00:19:05.986] 2025-08-27 00:19:05,986 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[00:19:05.986] 2025-08-27 00:19:05,986 - batch_test_runner - INFO -   - task_manager: ✓
[00:19:05.986] 2025-08-27 00:19:05,986 - batch_test_runner - INFO -   - output_verifier: ✓
[00:19:05.986] 2025-08-27 00:19:05,986 - batch_test_runner - INFO -   - embedding_manager: ✓
[00:19:05.986] 2025-08-27 00:19:05,986 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[00:19:05.987] 2025-08-27 00:19:05,986 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[00:19:05.987] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140510969107776)
[00:19:05.987] [MCPEmbeddingManager] Current cache size: 30 embeddings
[00:19:05.987] [FlawedWorkflowGenerator] Initialized with 30 tools
[00:19:05.987] [FlawedWorkflowGenerator] RAG support: disabled
[00:19:05.995] 2025-08-27 00:19:05,995 - focused_ai_classifier - INFO - Focused AI classifier initialized with gpt-5-nano (parameter-filtered)
[00:19:05.995] [INFO] Enhanced manager: AI错误分类系统已启用
[00:19:05.996] [INFO] 检测到并发环境，使用安全存储模式（ResultCollector）
[00:19:05.997] 2025-08-27 00:19:05,997 - result_collector - INFO - ResultCollector初始化，临时目录: temp_results
[00:19:05.997] 2025-08-27 00:19:05,997 - result_merger - INFO - ResultMerger初始化完成
[00:19:05.997] 2025-08-27 00:19:05,997 - result_merger - WARNING - 另一个合并器已在运行 (PID: -1)
[00:19:05.997] [INFO] 后台合并进程已启动（每10秒合并一次）
[00:19:05.997] DEBUG: Checking generator attributes
[00:19:05.997]   - has tool_capabilities: True
[00:19:05.998]   - has tool_capability_manager: True
[00:19:05.998]   - has task_manager: True
[00:19:05.998] [INFO] Loaded 30 tools from generator
[00:19:05.998] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[00:19:05.998] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140510969107776)
[00:19:05.998] [MCPEmbeddingManager] Current cache size: 30 embeddings
[00:19:05.998] [INFO] Initializing LLM client using APIClientManager
[00:19:06.005] [INFO] Using Azure OpenAI client
[00:19:06.005] [DEBUG] Checking if generator has tool_capability_manager attribute
[00:19:06.005] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[00:19:06.005] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140510969107776)
[00:19:06.005] [MCPEmbeddingManager] Current cache size: 30 embeddings
[00:19:06.005] [FlawedWorkflowGenerator] Initialized with 30 tools
[00:19:06.005] [FlawedWorkflowGenerator] RAG support: enabled
[00:19:06.005] [INFO] FlawedWorkflowGenerator initialized successfully
[00:19:06.005] [INFO] Initializing StableScorer for Phase 2 scoring
[00:19:06.005] <tool_capability_manager.ToolCapabilityManager object at 0x7fcb81aa5540>
[00:19:06.005] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140510969107776)
[00:19:06.005] [MCPEmbeddingManager] Current cache size: 30 embeddings
[00:19:06.005] [INFO] Loaded tool success history for 0 tools
[00:19:06.005] [INFO] StableScorer initialized with semantic capability
[00:19:06.005] [INFO] StableScorer initialized successfully
[00:19:06.005] [INFO] Loading task instances...
[00:19:06.005] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[00:19:06.012] [INFO] Loaded 630 task instances
[00:19:06.012] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[00:19:06.012] 2025-08-27 00:19:06,012 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[00:19:06.012] 2025-08-27 00:19:06,012 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[00:19:07.912] 2025-08-27 00:19:07,912 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[00:19:07.912] 2025-08-27 00:19:07,912 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[00:19:07.963] 2025-08-27 00:19:07,963 - batch_test_runner - INFO - Initialization complete
[00:19:08.022] 2025-08-27 00:19:08,022 - batch_test_runner - INFO - Starting batch test with 5 tasks, 2 workers
[00:19:08.023] 2025-08-27 00:19:08,022 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[00:19:08.028] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[00:19:08.032] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[00:19:08.033] 2025-08-27 00:19:08,033 - smart_model_router - INFO - Using idealab for qwen2.5-32b-instruct
[00:19:08.045] 2025-08-27 00:19:08,045 - api_client_manager - INFO - Created idealab client for model qwen2.5-32b-instruct
[00:19:08.045] [InteractiveExecutor] Initialized client with model: qwen2.5-32b-instruct
[00:19:08.045] [InteractiveExecutor] Using prompt type: optimal for API key selection
[00:19:08.045] [InteractiveExecutor] API model name: qwen2.5-32b-instruct
[00:19:08.045] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140510969107776)
[00:19:08.045] [MCPEmbeddingManager] Current cache size: 30 embeddings
[00:19:08.045] 2025-08-27 00:19:08,045 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[00:19:08.047] 2025-08-27 00:19:08,047 - api_client_manager - INFO - Created idealab client for model qwen2.5-32b-instruct
[00:19:08.047] [InteractiveExecutor] Initialized client with model: qwen2.5-32b-instruct
[00:19:08.047] [InteractiveExecutor] Using prompt type: optimal for API key selection
[00:19:08.049] [InteractiveExecutor] API model name: qwen2.5-32b-instruct
[00:19:08.049] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140510969107776)
[00:19:08.049] [MCPEmbeddingManager] Current cache size: 30 embeddings
[00:19:08.050] 2025-08-27 00:19:08,050 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[00:19:08.094] 2025-08-27 00:19:08,094 - mcp_embedding_manager - INFO - FAISS index loaded
[00:19:08.094] 2025-08-27 00:19:08,094 - mcp_embedding_manager - INFO - Updated dimension to 3072
[00:19:08.094] 2025-08-27 00:19:08,094 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[00:19:08.097] [INFO] Tool embedding index loaded successfully
[00:19:08.099] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[00:19:08.099] [INFO] Operation semantic index initialized
[00:19:08.100] 
[00:19:08.100] [TURN 1/10]
[00:19:08.101] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:08.121] 2025-08-27 00:19:08,121 - mcp_embedding_manager - INFO - FAISS index loaded
[00:19:08.121] 2025-08-27 00:19:08,121 - mcp_embedding_manager - INFO - Updated dimension to 3072
[00:19:08.121] 2025-08-27 00:19:08,121 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[00:19:08.123] [INFO] Tool embedding index loaded successfully
[00:19:08.124] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[00:19:08.124] [INFO] Operation semantic index initialized
[00:19:08.124] 
[00:19:08.124] [TURN 1/10]
[00:19:08.124] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:10.190] 2025-08-27 00:19:10,189 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:10.215]   [SEARCH] Query: file reader writer
[00:19:10.216] 
[00:19:10.216] [TURN 2/10]
[00:19:10.217] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:10.810] 2025-08-27 00:19:10,808 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:10.812]   [SEARCH] Query: data processing validator
[00:19:10.815] 
[00:19:10.815] [TURN 2/10]
[00:19:10.816] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:11.406] 2025-08-27 00:19:11,406 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:11.409]   [EARLY_EXIT] No actions taken, continuing...
[00:19:11.409] 
[00:19:11.409] [TURN 3/10]
[00:19:11.410] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:11.914] 2025-08-27 00:19:11,914 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:11.915]   [INFO] Tool info request: data_processing_validator
[00:19:11.915] 
[00:19:11.915] [TURN 3/10]
[00:19:11.916] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:12.624] 2025-08-27 00:19:12,623 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:12.629]   [INFO] Tool info request: file_operations_reader
[00:19:12.629] 
[00:19:12.629] [TURN 4/10]
[00:19:12.629] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:13.486] 2025-08-27 00:19:13,486 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:13.487]   [NO_ACTION] Quick feedback provided - no valid action format detected
[00:19:13.487] 
[00:19:13.487] [TURN 4/10]
[00:19:13.487] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:13.805] 2025-08-27 00:19:13,805 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:13.807]   [EARLY_EXIT] No actions taken, continuing...
[00:19:13.807] 
[00:19:13.807] [TURN 5/10]
[00:19:13.807] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:14.600] 2025-08-27 00:19:14,599 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:14.603]   [EARLY_EXIT] No actions taken, continuing...
[00:19:14.603] 
[00:19:14.604] [TURN 5/10]
[00:19:14.604] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:14.831] 2025-08-27 00:19:14,831 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:14.838]   [EARLY_EXIT] No actions taken, continuing...
[00:19:14.838] 
[00:19:14.838] [TURN 6/10]
[00:19:14.839] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:15.663] 2025-08-27 00:19:15,659 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:15.668] 2025-08-27 00:19:15,667 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:15.676]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns  [EARLY_EXIT] No actions taken, continuing...
[00:19:15.676] 
[00:19:15.677] 
[00:19:15.677] [TURN 7/10]
[00:19:15.677] 
[00:19:15.677] [TURN 6/10]
[00:19:15.677] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:15.682] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:16.606] 2025-08-27 00:19:16,606 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:16.607]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[00:19:16.607] 
[00:19:16.607] [TURN 8/10]
[00:19:16.608] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:17.069] 2025-08-27 00:19:17,069 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:17.070]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[00:19:17.070] 
[00:19:17.070] [TURN 7/10]
[00:19:17.070] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:17.832] 2025-08-27 00:19:17,832 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:17.836]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[00:19:17.836] 
[00:19:17.836] [TURN 9/10]
[00:19:17.836] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:18.112] 2025-08-27 00:19:18,112 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:18.114]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[00:19:18.114] 
[00:19:18.114] [TURN 8/10]
[00:19:18.115] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:19.042] 2025-08-27 00:19:19,042 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:19.043]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[00:19:19.043] 
[00:19:19.043] [TURN 9/10]
[00:19:19.043] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:19.345] 2025-08-27 00:19:19,344 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:19.345]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[00:19:19.345] 
[00:19:19.345] [TURN 10/10]
[00:19:19.346] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:20.198] 2025-08-27 00:19:20,198 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:20.200]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[00:19:20.200] 
[00:19:20.200] [TURN 10/10]
[00:19:20.200] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:20.822] 2025-08-27 00:19:20,822 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:20.823]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[00:19:20.824] [ASSISTED] Task received 5 format helps, final result: failure
[00:19:20.831] [DEBUG] Got result for task: has_result=True, save_logs=True
[00:19:20.831] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[00:19:20.831] [AI_DEBUG] 生成的txt_content长度: 25277
[00:19:20.831] [AI_DEBUG] _ai_classify_with_txt_content called:
[00:19:20.831]   - use_ai_classification=True
[00:19:20.831]   - ai_classifier=True
[00:19:20.831]   - txt_content_len=25277
[00:19:20.831]   - task_model=qwen2.5-32b-instruct
[00:19:20.831] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[00:19:20.833] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[00:19:20.843] 2025-08-27 00:19:20,843 - api_client_manager - INFO - Created idealab client for model qwen2.5-32b-instruct
[00:19:20.843] [InteractiveExecutor] Initialized client with model: qwen2.5-32b-instruct
[00:19:20.843] [InteractiveExecutor] Using prompt type: optimal for API key selection
[00:19:20.843] [InteractiveExecutor] API model name: qwen2.5-32b-instruct
[00:19:20.843] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140510969107776)
[00:19:20.843] [MCPEmbeddingManager] Current cache size: 30 embeddings
[00:19:20.844] 2025-08-27 00:19:20,844 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[00:19:20.897] 2025-08-27 00:19:20,897 - mcp_embedding_manager - INFO - FAISS index loaded
[00:19:20.897] 2025-08-27 00:19:20,897 - mcp_embedding_manager - INFO - Updated dimension to 3072
[00:19:20.897] 2025-08-27 00:19:20,897 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[00:19:20.899] [INFO] Tool embedding index loaded successfully
[00:19:20.899] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[00:19:20.900] [INFO] Operation semantic index initialized
[00:19:20.900] 
[00:19:20.900] [TURN 1/10]
[00:19:20.901] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:21.424] 2025-08-27 00:19:21,424 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:21.425]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[00:19:21.425] [ASSISTED] Task received 6 format helps, final result: failure
[00:19:21.428] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[00:19:21.436] 2025-08-27 00:19:21,436 - api_client_manager - INFO - Created idealab client for model qwen2.5-32b-instruct
[00:19:21.436] [InteractiveExecutor] Initialized client with model: qwen2.5-32b-instruct
[00:19:21.436] [InteractiveExecutor] Using prompt type: optimal for API key selection
[00:19:21.436] [InteractiveExecutor] API model name: qwen2.5-32b-instruct
[00:19:21.436] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140510969107776)
[00:19:21.436] [MCPEmbeddingManager] Current cache size: 30 embeddings
[00:19:21.436] 2025-08-27 00:19:21,436 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[00:19:21.460] 2025-08-27 00:19:21,460 - mcp_embedding_manager - INFO - FAISS index loaded
[00:19:21.460] 2025-08-27 00:19:21,460 - mcp_embedding_manager - INFO - Updated dimension to 3072
[00:19:21.460] 2025-08-27 00:19:21,460 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[00:19:21.462] [INFO] Tool embedding index loaded successfully
[00:19:21.462] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[00:19:21.462] [INFO] Operation semantic index initialized
[00:19:21.462] 
[00:19:21.462] [TURN 1/10]
[00:19:21.463] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:23.073] 2025-08-27 00:19:23,072 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:23.077]   [SEARCH] Query: network api fetch
[00:19:23.078] 
[00:19:23.091] [TURN 2/10]
[00:19:23.091] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:23.845] 2025-08-27 00:19:23,845 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:23.846]   [SEARCH] Query: file reader
[00:19:23.846] 
[00:19:23.846] [TURN 2/10]
[00:19:23.847] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:25.900] 2025-08-27 00:19:25,896 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:25.915]   [NO_ACTION] Quick feedback provided - no valid action format detected
[00:19:25.916] 
[00:19:25.916] [TURN 3/10]
[00:19:25.920] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:26.221] 2025-08-27 00:19:26,221 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:26.223]   [NO_ACTION] Quick feedback provided - no valid action format detected
[00:19:26.223] 
[00:19:26.223] [TURN 3/10]
[00:19:26.223] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:26.436] 2025-08-27 00:19:26,436 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[00:19:26.447] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[00:19:26.475] [DEBUG] Got result for task: has_result=True, save_logs=True
[00:19:26.475] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[00:19:26.476] [AI_DEBUG] 生成的txt_content长度: 27369
[00:19:26.476] [AI_DEBUG] _ai_classify_with_txt_content called:
[00:19:26.476]   - use_ai_classification=True
[00:19:26.476]   - ai_classifier=True
[00:19:26.476]   - txt_content_len=27369
[00:19:26.476]   - task_model=qwen2.5-32b-instruct
[00:19:26.476] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[00:19:27.240] 2025-08-27 00:19:27,231 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:27.245]   [EARLY_EXIT] No actions taken, continuing...
[00:19:27.245] 
[00:19:27.245] [TURN 4/10]
[00:19:27.249] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:27.338] 2025-08-27 00:19:27,338 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:27.341]   [EARLY_EXIT] No actions taken, continuing...
[00:19:27.341] 
[00:19:27.341] [TURN 4/10]
[00:19:27.341] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:28.555] 2025-08-27 00:19:28,554 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:28.565]   [EARLY_EXIT] No actions taken, continuing...
[00:19:28.565] 
[00:19:28.565] [TURN 5/10]
[00:19:28.567] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:28.730] 2025-08-27 00:19:28,730 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:28.731]   [EARLY_EXIT] No actions taken, continuing...
[00:19:28.731] 
[00:19:28.731] [TURN 5/10]
[00:19:28.731] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:29.661] 2025-08-27 00:19:29,660 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:29.665]   [EARLY_EXIT] No actions taken, continuing...
[00:19:29.665] 
[00:19:29.665] [TURN 6/10]
[00:19:29.666] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:30.327] 2025-08-27 00:19:30,327 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:30.328]   [EARLY_EXIT] No actions taken, continuing...
[00:19:30.328] 
[00:19:30.328] [TURN 6/10]
[00:19:30.328] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:30.426] 2025-08-27 00:19:30,426 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[00:19:30.427] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.86
[00:19:31.902] 2025-08-27 00:19:31,901 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:31.905]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[00:19:31.905] 
[00:19:31.905] [TURN 7/10]
[00:19:31.906] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:32.536] 2025-08-27 00:19:32,535 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:32.539]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[00:19:32.539] 
[00:19:32.539] [TURN 7/10]
[00:19:32.540] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:33.373] 2025-08-27 00:19:33,373 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:33.374]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[00:19:33.374] 
[00:19:33.374] [TURN 8/10]
[00:19:33.375] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:34.027] 2025-08-27 00:19:34,027 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:34.029]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[00:19:34.029] 
[00:19:34.029] [TURN 8/10]
[00:19:34.029] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:35.002] 2025-08-27 00:19:35,001 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:35.002]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[00:19:35.002] 
[00:19:35.002] [TURN 9/10]
[00:19:35.003] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:35.193] 2025-08-27 00:19:35,193 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:35.194]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[00:19:35.194] 
[00:19:35.194] [TURN 9/10]
[00:19:35.194] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:36.172] 2025-08-27 00:19:36,171 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:36.177]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[00:19:36.177] 
[00:19:36.177] [TURN 10/10]
[00:19:36.177] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:36.387] 2025-08-27 00:19:36,386 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:36.390]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[00:19:36.393] 
[00:19:36.393] [TURN 10/10]
[00:19:36.394] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:37.142] 2025-08-27 00:19:37,141 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:37.144]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[00:19:37.145] [ASSISTED] Task received 6 format helps, final result: failure
[00:19:37.159] [DEBUG] Got result for task: has_result=True, save_logs=True
[00:19:37.159] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[00:19:37.159] [AI_DEBUG] 生成的txt_content长度: 26478
[00:19:37.159] [AI_DEBUG] _ai_classify_with_txt_content called:
[00:19:37.159]   - use_ai_classification=True
[00:19:37.159]   - ai_classifier=True
[00:19:37.159]   - txt_content_len=26478
[00:19:37.159]   - task_model=qwen2.5-32b-instruct
[00:19:37.160] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[00:19:37.163] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[00:19:37.181] 2025-08-27 00:19:37,181 - api_client_manager - INFO - Created idealab client for model qwen2.5-32b-instruct
[00:19:37.181] [InteractiveExecutor] Initialized client with model: qwen2.5-32b-instruct
[00:19:37.181] [InteractiveExecutor] Using prompt type: optimal for API key selection
[00:19:37.181] [InteractiveExecutor] API model name: qwen2.5-32b-instruct
[00:19:37.181] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140510969107776)
[00:19:37.182] [MCPEmbeddingManager] Current cache size: 30 embeddings
[00:19:37.182] 2025-08-27 00:19:37,182 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[00:19:37.232] 2025-08-27 00:19:37,231 - mcp_embedding_manager - INFO - FAISS index loaded
[00:19:37.232] 2025-08-27 00:19:37,232 - mcp_embedding_manager - INFO - Updated dimension to 3072
[00:19:37.232] 2025-08-27 00:19:37,232 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[00:19:37.234] [INFO] Tool embedding index loaded successfully
[00:19:37.235] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[00:19:37.235] [INFO] Operation semantic index initialized
[00:19:37.236] 
[00:19:37.236] [TURN 1/10]
[00:19:37.237] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:37.465] 2025-08-27 00:19:37,465 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:37.466]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[00:19:37.466] [ASSISTED] Task received 6 format helps, final result: failure
[00:19:39.336] 2025-08-27 00:19:39,336 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:39.338]   [SEARCH] Query: data processing parser
[00:19:39.341] 
[00:19:39.341] [TURN 2/10]
[00:19:39.341] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:40.340] 2025-08-27 00:19:40,339 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:40.340]   [EARLY_EXIT] No actions taken, continuing...
[00:19:40.341] 
[00:19:40.341] [TURN 3/10]
[00:19:40.341] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:41.316] 2025-08-27 00:19:41,316 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:41.318]   [EARLY_EXIT] No actions taken, continuing...
[00:19:41.318] 
[00:19:41.318] [TURN 4/10]
[00:19:41.318] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:42.115] 2025-08-27 00:19:42,114 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:42.116]   [EARLY_EXIT] No actions taken, continuing...
[00:19:42.116] 
[00:19:42.116] [TURN 5/10]
[00:19:42.116] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:42.837] 2025-08-27 00:19:42,837 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[00:19:42.838] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[00:19:42.841] [DEBUG] Got result for task: has_result=True, save_logs=True
[00:19:42.841] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[00:19:42.841] [AI_DEBUG] 生成的txt_content长度: 26114
[00:19:42.841] [AI_DEBUG] _ai_classify_with_txt_content called:
[00:19:42.841]   - use_ai_classification=True
[00:19:42.841]   - ai_classifier=True
[00:19:42.841]   - txt_content_len=26114
[00:19:42.841]   - task_model=qwen2.5-32b-instruct
[00:19:42.841] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[00:19:43.300] 2025-08-27 00:19:43,300 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:43.301]   [EARLY_EXIT] No actions taken, continuing...
[00:19:43.301] 
[00:19:43.301] [TURN 6/10]
[00:19:43.301] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:44.346] 2025-08-27 00:19:44,346 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:44.354]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[00:19:44.355] 
[00:19:44.355] [TURN 7/10]
[00:19:44.355] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:45.990] 2025-08-27 00:19:45,988 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:45.995]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[00:19:45.995] 
[00:19:45.995] [TURN 8/10]
[00:19:45.995] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:47.042] 2025-08-27 00:19:47,037 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:47.056]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[00:19:47.056] 
[00:19:47.056] [TURN 9/10]
[00:19:47.059] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:48.269] 2025-08-27 00:19:48,268 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:48.278]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[00:19:48.279] 
[00:19:48.279] [TURN 10/10]
[00:19:48.279] [LLM_CALL] Using model: qwen2.5-32b-instruct, API name: qwen2.5-32b-instruct
[00:19:49.099] 2025-08-27 00:19:49,098 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[00:19:49.128] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[00:19:49.174] 2025-08-27 00:19:49,172 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[00:19:49.180]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[00:19:49.180] [ASSISTED] Task received 5 format helps, final result: failure
[00:19:49.203] [DEBUG] Got result for task: has_result=True, save_logs=True
[00:19:49.203] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[00:19:49.203] [AI_DEBUG] 生成的txt_content长度: 23867
[00:19:49.203] [AI_DEBUG] _ai_classify_with_txt_content called:
[00:19:49.203]   - use_ai_classification=True
[00:19:49.203]   - ai_classifier=True
[00:19:49.203]   - txt_content_len=23867
[00:19:49.203]   - task_model=qwen2.5-32b-instruct
[00:19:49.203] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[00:19:53.754] 2025-08-27 00:19:53,735 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[00:19:54.047] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[00:19:54.101] 💾 智能Checkpoint: 保存5个结果...
[00:19:54.101]    触发原因: 数量=5, 时间=0.0s, 强制=True
[00:19:54.114] 2025-08-27 00:19:54,110 - result_collector - INFO - 📤 已提交 qwen2.5-32b-instruct 的 1 个结果到收集器: qwen2.5-32b-instruct_87110_1756268394105252.json
[00:19:54.127] 2025-08-27 00:19:54,127 - result_collector - INFO - 📤 已提交 qwen2.5-32b-instruct 的 1 个结果到收集器: qwen2.5-32b-instruct_87110_1756268394114870.json
[00:19:54.131] 2025-08-27 00:19:54,130 - result_collector - INFO - 📤 已提交 qwen2.5-32b-instruct 的 1 个结果到收集器: qwen2.5-32b-instruct_87110_1756268394128858.json
[00:19:54.133] 2025-08-27 00:19:54,133 - result_collector - INFO - 📤 已提交 qwen2.5-32b-instruct 的 1 个结果到收集器: qwen2.5-32b-instruct_87110_1756268394131252.json
[00:19:54.135] 2025-08-27 00:19:54,134 - result_collector - INFO - 📤 已提交 qwen2.5-32b-instruct 的 1 个结果到收集器: qwen2.5-32b-instruct_87110_1756268394133630.json
[00:19:54.135] ✅ Checkpoint完成: 成功保存 5/5 个结果
[00:19:54.135] 
[00:19:54.135] [INFO] Batch writing 5 records to database (qwen2.5-32b-instruct:5)
[00:19:54.135] 2025-08-27 00:19:54,135 - batch_test_runner - INFO - Batch writing 5 records to database (qwen2.5-32b-instruct:5)
[00:19:54.137] 2025-08-27 00:19:54,137 - result_collector - INFO - 📤 已提交 qwen2.5-32b-instruct 的 5 个结果到收集器: qwen2.5-32b-instruct_87110_1756268394136281.json
[00:19:54.137] [INFO] Successfully wrote 5/5 records (qwen2.5-32b-instruct:5)
[00:19:54.137] 2025-08-27 00:19:54,137 - batch_test_runner - INFO - Successfully wrote 5/5 records (qwen2.5-32b-instruct:5)
[00:19:54.144] [INFO] Runtime error report saved to: runtime_reports/runtime_error_report_20250827_001954.json
[00:19:54.160] 2025-08-27 00:19:54,160 - batch_test_runner - INFO - Database saved successfully
[00:19:54.164] 
[00:19:54.164] 📊 Statistics saved to: /Users/ruicheng/Documents/GitHub/WorkflowBench/pilot_bench_cumulative_results/master_database.json
[00:19:54.164] 2025-08-27 00:19:54,163 - batch_test_runner - INFO - Statistics saved to: /Users/ruicheng/Documents/GitHub/WorkflowBench/pilot_bench_cumulative_results/master_database.json
[00:19:54.164] 2025-08-27 00:19:54,163 - batch_test_runner - INFO - ============================================================
[00:19:54.164] 2025-08-27 00:19:54,163 - batch_test_runner - INFO - Batch test completed at 2025-08-27T00:19:54.163845
[00:19:54.164] 2025-08-27 00:19:54,163 - batch_test_runner - INFO - Summary:
[00:19:54.164] 2025-08-27 00:19:54,164 - batch_test_runner - INFO -   - Total tests: 5
[00:19:54.164] 2025-08-27 00:19:54,164 - batch_test_runner - INFO -   - Successful: 0
[00:19:54.164] 2025-08-27 00:19:54,164 - batch_test_runner - INFO -   - Failed: 5
[00:19:54.164] 2025-08-27 00:19:54,164 - batch_test_runner - INFO -   - Success rate: 0.0%
[00:19:54.164] 2025-08-27 00:19:54,164 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250827_001858.log
[00:19:54.165] 2025-08-27 00:19:54,164 - batch_test_runner - INFO - ============================================================
[00:19:54.168] 
[00:19:54.168] ✅ 批测试完成
[00:19:54.168]    成功: 0/5
[00:19:54.168]    失败: 5/5
[00:19:54.169] 📤 提交 5 个结果到ResultCollector...
