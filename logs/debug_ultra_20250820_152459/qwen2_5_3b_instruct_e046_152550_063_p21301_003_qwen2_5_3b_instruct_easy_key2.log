===== 分片 qwen2.5-3b-instruct_easy_key2 =====
时间: 2025-08-20T15:25:50.082792
模型: qwen2.5-3b-instruct
实例: qwen-key2
命令: python -u smart_batch_runner.py --model qwen2.5-3b-instruct --deployment qwen-key2 --prompt-types optimal --difficulty easy --task-types all --num-instances 1 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[15:25:53.127] 2025-08-20 15:25:53,127 - faiss.loader - INFO - Loading faiss.
[15:25:53.142] 2025-08-20 15:25:53,142 - faiss.loader - INFO - Successfully loaded faiss.
[15:25:54.683] [INFO] 使用Parquet存储格式
[15:25:55.154] [INFO] 使用Parquet存储格式
[15:25:55.159] [INFO] 使用PARQUET存储格式
[15:25:55.160] 
[15:25:55.160] ============================================================
[15:25:55.160] 智能批测试: qwen2.5-3b-instruct (idealab)
[15:25:55.160] Prompt types: ['optimal']
[15:25:55.160] 难度: easy
[15:25:55.160] 目标: 每种配置 1 个实例
[15:25:55.160] ============================================================
[15:25:55.193] ○ simple_task         :   0/  1 已完成 (需要补充 1 个)
[15:25:55.204] ○ basic_task          :   0/  1 已完成 (需要补充 1 个)
[15:25:55.218] ○ data_pipeline       :   0/  1 已完成 (需要补充 1 个)
[15:25:55.250] ○ api_integration     :   0/  1 已完成 (需要补充 1 个)
[15:25:55.257] ○ multi_stage_pipeline:   0/  1 已完成 (需要补充 1 个)
[15:25:55.257] 
[15:25:55.257] ⏳ 需要运行 5 个新测试
[15:25:55.257] 
[15:25:55.258] ▶ 准备 simple_task (1 个实例)...
[15:25:55.258] 
[15:25:55.258] ▶ 准备 basic_task (1 个实例)...
[15:25:55.258] 
[15:25:55.258] ▶ 准备 data_pipeline (1 个实例)...
[15:25:55.258] 
[15:25:55.258] ▶ 准备 api_integration (1 个实例)...
[15:25:55.258] 
[15:25:55.258] ▶ 准备 multi_stage_pipeline (1 个实例)...
[15:25:55.258] 
[15:25:55.258] ▶ 开始执行 5 个测试...
[15:25:55.258] 📦 批量提交模式：每20个测试保存一次
[15:25:55.258] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[15:25:55.259] 2025-08-20 15:25:55,259 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[15:25:55.326] 2025-08-20 15:25:55,325 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[15:25:55.326] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x16b7c3da0>
[15:25:55.326] 2025-08-20 15:25:55,326 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[15:25:55.326] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[15:25:55.326] 2025-08-20 15:25:55,326 - batch_test_runner - INFO - ============================================================
[15:25:55.326] 2025-08-20 15:25:55,326 - batch_test_runner - INFO - Batch test runner initialized
[15:25:55.326] 2025-08-20 15:25:55,326 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[15:25:55.326] 2025-08-20 15:25:55,326 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_152555.log
[15:25:55.326] 2025-08-20 15:25:55,326 - batch_test_runner - INFO - ============================================================
[15:25:55.326] 2025-08-20 15:25:55,326 - batch_test_runner - INFO - Running 5 tests with 3 workers, QPS limit: 5.0
[15:25:55.326] 2025-08-20 15:25:55,326 - batch_test_runner - INFO - Initializing test components...
[15:25:55.648] 2025-08-20 15:25:55,647 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[15:25:55.648] 2025-08-20 15:25:55,648 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[15:25:55.648] 2025-08-20 15:25:55,648 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[15:25:55.648] [DEBUG] Creating new ToolCapabilityManager instance
[15:25:55.648] [OperationEmbeddingIndex] Initializing with unified API client manager
[15:25:55.648] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[15:25:55.649] 2025-08-20 15:25:55,649 - api_client_manager - INFO - Loaded configuration from config/config.json
[15:25:55.664] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[15:25:55.664] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[15:25:55.664] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[15:25:56.748] 2025-08-20 15:25:56,748 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[15:25:56.750] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[15:25:56.785] [INFO] Loaded 4150 embeddings from persistent cache
[15:25:56.785] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[15:25:56.785] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[15:25:56.786] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[15:25:56.786] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[15:25:56.804] [INFO] Successfully loaded FAISS index with dimension 3072
[15:25:56.804] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[15:25:56.805] [INFO] Loaded 15 operations with dimension 3072
[15:25:56.805] [INFO] Successfully loaded cached index
[15:25:56.805] [INFO] Operation semantic index initialized
[15:25:56.805] [INFO] Using device: cpu
[15:25:56.805] [INFO] Initialized tool success tracking attributes
[15:25:56.805] [INFO] Initializing embedding manager for enhanced tool selection
[15:25:56.805] [MCPEmbeddingManager] Creating new singleton instance
[15:25:56.805] [MCPEmbeddingManager] Initializing with unified API client manager
[15:25:56.816] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[15:25:56.816] [MCPEmbeddingManager] Client initialized successfully
[15:25:56.816] 2025-08-20 15:25:56,816 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[15:25:56.917] 2025-08-20 15:25:56,917 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[15:25:57.155] 2025-08-20 15:25:57,155 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[15:25:57.155] 2025-08-20 15:25:57,155 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[15:25:57.178] 2025-08-20 15:25:57,178 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[15:25:57.272] 2025-08-20 15:25:57,272 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[15:25:57.655] 2025-08-20 15:25:57,655 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[15:25:57.655] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[15:25:57.655] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[15:25:57.655] 2025-08-20 15:25:57,655 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:25:58.057] 2025-08-20 15:25:58,057 - mcp_embedding_manager - INFO - FAISS index loaded
[15:25:58.057] 2025-08-20 15:25:58,057 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:25:58.057] 2025-08-20 15:25:58,057 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:25:58.060] [SUCCESS] Loaded 30 tool embeddings
[15:25:58.060] 2025-08-20 15:25:58,060 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[15:25:58.060] [SUCCESS] Embedding manager initialized with 30 tools
[15:25:58.060] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[15:25:58.060] [INFO] Loading full MCP protocol registry...
[15:25:58.061] 2025-08-20 15:25:58,061 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:25:58.061] [INFO] Loaded full tool registry with 30 tools
[15:25:58.061] 2025-08-20 15:25:58,061 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[15:25:58.061] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[15:25:58.061] [INFO] Embedding manager ready with 30 tools
[15:25:58.061] [WARNING] Embedding manager exists but has no embeddings
[15:25:58.061] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[15:25:58.061] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[15:25:58.062] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[15:25:58.062] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:25:58.062] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[15:25:58.062] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[15:25:58.062] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:25:58.062] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:25:58.062] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:25:58.062] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:25:58.062] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[15:25:58.062] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:25:58.062] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:25:58.062] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[15:25:58.062] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[15:25:58.062] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[15:25:58.062] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:25:58.062] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:25:58.062] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:25:58.062] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[15:25:58.062] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[15:25:58.062] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[15:25:58.062] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[15:25:58.062] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[15:25:58.062] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[15:25:58.062] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[15:25:58.062] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[15:25:58.062] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[15:25:58.062] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[15:25:58.062] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[15:25:58.062] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[15:25:58.062] 2025-08-20 15:25:58,062 - mdp_workflow_generator - INFO - Loaded 30 tools
[15:25:58.062] [INFO] Setting default state_dim based on loaded tools
[15:25:58.062] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[15:25:58.062] 2025-08-20 15:25:58,062 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[15:25:58.062] [INFO] Setting default action_dim based on loaded tools
[15:25:58.062] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[15:25:58.062] 2025-08-20 15:25:58,062 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[15:25:58.062] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[15:25:58.062] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[15:25:58.062] [INFO] ⚡ Will use pre-generated workflows or random policy
[15:25:58.062] 2025-08-20 15:25:58,062 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[15:25:58.062] [INFO] Initializing TaskManager...
[15:25:59.381] 2025-08-20 15:25:59,381 - unified_training_manager - INFO - Using device: cpu
[15:25:59.486] 2025-08-20 15:25:59,486 - unified_training_manager - INFO - Task filtering results:
[15:25:59.486] 2025-08-20 15:25:59,486 - unified_training_manager - INFO -   Total: 5040 -> 5040
[15:25:59.486] 2025-08-20 15:25:59,486 - unified_training_manager - INFO -   simple_task: 320 -> 320
[15:25:59.486] 2025-08-20 15:25:59,486 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[15:25:59.486] 2025-08-20 15:25:59,486 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[15:25:59.486] 2025-08-20 15:25:59,486 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[15:25:59.486] 2025-08-20 15:25:59,486 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[15:25:59.486] 2025-08-20 15:25:59,486 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[15:25:59.488] 2025-08-20 15:25:59,488 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[15:25:59.488] [TaskManager] Difficulty level 'easy': 1096 tasks
[15:25:59.488] [TaskManager] Difficulty level 'very_easy': 856 tasks
[15:25:59.488] [TaskManager] Difficulty level 'medium': 1136 tasks
[15:25:59.488] [TaskManager] Difficulty level 'hard': 1096 tasks
[15:25:59.488] [TaskManager] Difficulty level 'very_hard': 856 tasks
[15:25:59.490] [INFO] TaskManager initialized with 5040 tasks
[15:25:59.490] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[15:25:59.490] [INFO] Initializing ToolCallVerifier...
[15:25:59.491] [INFO] ToolCallVerifier initialized with 30 tools
[15:25:59.491] [INFO] Output tools identified: 1
[15:25:59.491] [INFO] Component initialization status:
[15:25:59.491]   - embedding_manager: initialized
[15:25:59.491]   - task_manager: initialized
[15:25:59.491]   - output_verifier: initialized
[15:25:59.491]   - tool_capability_manager: initialized
[15:25:59.491]   - tool_success_rates: initialized with 0 entries
[15:25:59.491] [INFO] MDPWorkflowGenerator initialization complete
[15:25:59.491] 2025-08-20 15:25:59,491 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[15:25:59.491] 2025-08-20 15:25:59,491 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[15:25:59.491] 2025-08-20 15:25:59,491 - batch_test_runner - INFO -   - task_manager: ✓
[15:25:59.491] 2025-08-20 15:25:59,491 - batch_test_runner - INFO -   - output_verifier: ✓
[15:25:59.491] 2025-08-20 15:25:59,491 - batch_test_runner - INFO -   - embedding_manager: ✓
[15:25:59.491] 2025-08-20 15:25:59,491 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[15:25:59.491] 2025-08-20 15:25:59,491 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[15:25:59.491] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13349263008)
[15:25:59.491] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:59.491] [FlawedWorkflowGenerator] Initialized with 30 tools
[15:25:59.491] [FlawedWorkflowGenerator] RAG support: disabled
[15:25:59.492] DEBUG: Checking generator attributes
[15:25:59.492]   - has tool_capabilities: True
[15:25:59.492]   - has tool_capability_manager: True
[15:25:59.492]   - has task_manager: True
[15:25:59.492] [INFO] Loaded 30 tools from generator
[15:25:59.492] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[15:25:59.492] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13349263008)
[15:25:59.492] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:59.492] [INFO] Initializing LLM client using APIClientManager
[15:25:59.498] [INFO] Using Azure OpenAI client
[15:25:59.498] [DEBUG] Checking if generator has tool_capability_manager attribute
[15:25:59.498] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[15:25:59.498] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13349263008)
[15:25:59.498] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:59.498] [FlawedWorkflowGenerator] Initialized with 30 tools
[15:25:59.498] [FlawedWorkflowGenerator] RAG support: enabled
[15:25:59.498] [INFO] FlawedWorkflowGenerator initialized successfully
[15:25:59.498] [INFO] Initializing StableScorer for Phase 2 scoring
[15:25:59.498] <tool_capability_manager.ToolCapabilityManager object at 0x31b2c7170>
[15:25:59.498] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13349263008)
[15:25:59.498] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:59.498] [INFO] Loaded tool success history for 0 tools
[15:25:59.498] [INFO] StableScorer initialized with semantic capability
[15:25:59.498] [INFO] StableScorer initialized successfully
[15:25:59.498] [INFO] Loading task instances...
[15:25:59.498] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[15:25:59.505] [INFO] Loaded 630 task instances
[15:25:59.505] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[15:25:59.505] 2025-08-20 15:25:59,505 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[15:25:59.505] 2025-08-20 15:25:59,505 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[15:25:59.850] 2025-08-20 15:25:59,850 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[15:25:59.850] 2025-08-20 15:25:59,850 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[15:25:59.866] 2025-08-20 15:25:59,866 - batch_test_runner - INFO - Initialization complete
[15:25:59.903] 2025-08-20 15:25:59,903 - batch_test_runner - INFO - Starting batch test with 5 tasks, 3 workers
[15:25:59.903] 2025-08-20 15:25:59,903 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[15:25:59.903] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:25:59.904] 2025-08-20 15:25:59,904 - smart_model_router - INFO - Using idealab for qwen2.5-3b-instruct
[15:25:59.910] 2025-08-20 15:25:59,910 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:25:59.911] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:25:59.911] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:25:59.911] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:25:59.911] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13349263008)
[15:25:59.911] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:59.911] 2025-08-20 15:25:59,911 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:26:00.185] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:26:00.185] 2025-08-20 15:26:00,185 - mcp_embedding_manager - INFO - FAISS index loaded
[15:26:00.185] 2025-08-20 15:26:00,185 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:26:00.185] 2025-08-20 15:26:00,185 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:26:00.187] [INFO] Tool embedding index loaded successfully
[15:26:00.194] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:26:00.194] [INFO] Operation semantic index initialized
[15:26:00.195] 
[15:26:00.195] [TURN 1/10]
[15:26:00.195] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:00.201] 2025-08-20 15:26:00,201 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:26:00.201] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:26:00.201] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:26:00.202] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:26:00.202] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13349263008)
[15:26:00.202] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:26:00.202] 2025-08-20 15:26:00,202 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:26:00.223] 2025-08-20 15:26:00,223 - mcp_embedding_manager - INFO - FAISS index loaded
[15:26:00.223] 2025-08-20 15:26:00,223 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:26:00.223] 2025-08-20 15:26:00,223 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:26:00.225] [INFO] Tool embedding index loaded successfully
[15:26:00.234] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:26:00.235] [INFO] Operation semantic index initialized
[15:26:00.235] 
[15:26:00.235] [TURN 1/10]
[15:26:00.236] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:00.380] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:26:00.394] 2025-08-20 15:26:00,393 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:26:00.394] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:26:00.394] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:26:00.394] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:26:00.394] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13349263008)
[15:26:00.394] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:26:00.394] 2025-08-20 15:26:00,394 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:26:00.415] 2025-08-20 15:26:00,415 - mcp_embedding_manager - INFO - FAISS index loaded
[15:26:00.415] 2025-08-20 15:26:00,415 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:26:00.415] 2025-08-20 15:26:00,415 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:26:00.418] [INFO] Tool embedding index loaded successfully
[15:26:00.419] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:26:00.419] [INFO] Operation semantic index initialized
[15:26:00.419] 
[15:26:00.419] [TURN 1/10]
[15:26:00.420] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:03.400] 2025-08-20 15:26:03,399 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:03.402]   [SEARCH] Query: data_processing_validator
[15:26:03.403] 
[15:26:03.403] [TURN 2/10]
[15:26:03.403] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:04.135] 2025-08-20 15:26:04,135 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:04.138]   [SEARCH] Query: file_operations_reader
[15:26:04.139] 
[15:26:04.139] [TURN 2/10]
[15:26:04.140] 2025-08-20 15:26:04,140 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:04.140] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:04.143]   [SEARCH] Query: file_operations_reader
[15:26:04.143] 
[15:26:04.143] [TURN 2/10]
[15:26:04.144] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:05.405] 2025-08-20 15:26:05,404 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:05.406]   [INFO] Tool info request: data_processing_validator
[15:26:05.406] 
[15:26:05.406] [TURN 3/10]
[15:26:05.407] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:05.793] 2025-08-20 15:26:05,793 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[15:26:05.801] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"ee1724ce-0469-9d58-9094-cccf9039247a"}, traceId: 213e059617557287656261967e3e9d'}
[15:26:05.801] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[15:26:06.047] 2025-08-20 15:26:06,046 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:06.048]   [INFO] Tool info request: file_operations_reader
[15:26:06.048] 
[15:26:06.048] [TURN 3/10]
[15:26:06.049] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:06.051] 2025-08-20 15:26:06,051 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:06.052]   [INFO] Tool info request: file_operations_reader
[15:26:06.052] 
[15:26:06.052] [TURN 3/10]
[15:26:06.054] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:10.545] 2025-08-20 15:26:10,545 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:10.556]   [SEARCH] Query: data_processing_parser
[15:26:10.558] 
[15:26:10.558] [TURN 4/10]
[15:26:10.559] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:10.561] 2025-08-20 15:26:10,561 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:10.561]   [SEARCH] Query: data_processing_parser
[15:26:10.561] 
[15:26:10.561] [TURN 4/10]
[15:26:10.562] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:10.819] 2025-08-20 15:26:10,819 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:10.820]   [SEARCH] Query: data_processing_parser
[15:26:10.820] 
[15:26:10.820] [TURN 4/10]
[15:26:10.821] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:11.798] 2025-08-20 15:26:11,798 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:11.802]   [INFO] Tool info request: data_processing_parser
[15:26:11.802] 
[15:26:11.802] [TURN 5/10]
[15:26:11.803] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:12.068] 2025-08-20 15:26:12,066 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:12.072]   [INFO] Tool info request: data_processing_parser
[15:26:12.072] 
[15:26:12.072] [TURN 5/10]
[15:26:12.077] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:12.673] 2025-08-20 15:26:12,673 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:12.673]   [INFO] Tool info request: data_processing_parser
[15:26:12.673] 
[15:26:12.673] [TURN 5/10]
[15:26:12.673] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:16.685] 2025-08-20 15:26:16,685 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:16.690]   [SEARCH] Query: data_processing_validator
[15:26:16.691] 
[15:26:16.691] [TURN 6/10]
[15:26:16.692] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:16.708] 2025-08-20 15:26:16,708 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:16.709]   [SEARCH] Query: data_processing_filter
[15:26:16.709] 
[15:26:16.709] [TURN 6/10]
[15:26:16.710] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:17.440] 2025-08-20 15:26:17,437 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:17.441]   [SEARCH] Query: data_processing_transformer
[15:26:17.442] 
[15:26:17.442] [TURN 6/10]
[15:26:17.442] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:18.620] 2025-08-20 15:26:18,619 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:18.620]   [INFO] Tool info request: data_processing_filter
[15:26:18.620] 
[15:26:18.620] [TURN 7/10]
[15:26:18.621] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:18.754] 2025-08-20 15:26:18,754 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:18.755]   [INFO] Tool info request: data_processing_validator
[15:26:18.755] 
[15:26:18.755] [TURN 7/10]
[15:26:18.762] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:18.921] 2025-08-20 15:26:18,916 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:18.923]   [INFO] Tool info request: data_processing_transformer
[15:26:18.923] 
[15:26:18.923] [TURN 7/10]
[15:26:18.925] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:22.445] 2025-08-20 15:26:22,444 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:22.449]   [INFO] Tool info request: data_processing_parser
[15:26:22.449] 
[15:26:22.449] [TURN 8/10]
[15:26:22.455] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:22.458] 2025-08-20 15:26:22,458 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:22.458]   [INFO] Tool info request: file_operations_reader
[15:26:22.458] 
[15:26:22.458] [TURN 8/10]
[15:26:22.459] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:23.062] 2025-08-20 15:26:23,061 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:23.063]   [SEARCH] Query: data_processing_validator
[15:26:23.063] 
[15:26:23.063] [TURN 8/10]
[15:26:23.065] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:23.459] 2025-08-20 15:26:23,459 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[15:26:23.461] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"7b6ea005-04d4-93ab-bc83-1e543629cfb1"}, traceId: 213e043117557287832864984e2398'}
[15:26:23.461] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[15:26:24.132] 2025-08-20 15:26:24,131 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:24.133]   [SEARCH] Query: data_processing_transformer
[15:26:24.133] 
[15:26:24.133] [TURN 9/10]
[15:26:24.134] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:25.903] 2025-08-20 15:26:25,903 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:25.904]   [INFO] Tool info request: data_processing_parser
[15:26:25.904] 
[15:26:25.904] [TURN 9/10]
[15:26:25.905] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:28.633] 2025-08-20 15:26:28,633 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:28.634]   [INFO] Tool info request: data_processing_validator
[15:26:28.634] 
[15:26:28.634] [TURN 9/10]
[15:26:28.637] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:29.215] 2025-08-20 15:26:29,215 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:29.219]   [INFO] Tool info request: data_processing_transformer
[15:26:29.219] 
[15:26:29.219] [TURN 10/10]
[15:26:29.223] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:29.500] 2025-08-20 15:26:29,499 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:29.502]   [INFO] Tool info request: data_processing_filter
[15:26:29.502] 
[15:26:29.502] [TURN 10/10]
[15:26:29.506] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:29.931] 2025-08-20 15:26:29,931 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[15:26:29.932] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"c89d4147-ad59-979b-b4ea-715fed66837c"}, traceId: 213e041717557287897321479e98df'}
[15:26:29.932] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[15:26:30.447] 2025-08-20 15:26:30,447 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:30.448]   [INFO] Tool info request: data_processing_validator
[15:26:30.448] 
[15:26:30.448] [TURN 10/10]
[15:26:30.449] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:30.690] 2025-08-20 15:26:30,689 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:30.691]   [SEARCH] Query: data_processing_filter
[15:26:30.695] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:26:30.695] [AI_DEBUG] 测试失败，准备调用AI分类
[15:26:30.695] [AI_DEBUG] 生成的txt_content长度: 29576
[15:26:30.695] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:26:30.696]   - use_ai_classification=True
[15:26:30.696]   - ai_classifier=True
[15:26:30.696]   - txt_content_len=29576
[15:26:30.696]   - task_model=qwen2.5-3b-instruct[InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:26:30.696] 
[15:26:30.696] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:26:30.711] 2025-08-20 15:26:30,711 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:26:30.711] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:26:30.711] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:26:30.711] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:26:30.711] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13349263008)
[15:26:30.711] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:26:30.711] 2025-08-20 15:26:30,711 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:26:30.747] 2025-08-20 15:26:30,746 - mcp_embedding_manager - INFO - FAISS index loaded
[15:26:30.747] 2025-08-20 15:26:30,747 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:26:30.747] 2025-08-20 15:26:30,747 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:26:30.749] [INFO] Tool embedding index loaded successfully
[15:26:30.750] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:26:30.751] [INFO] Operation semantic index initialized
[15:26:30.751] 
[15:26:30.751] [TURN 1/10]
[15:26:30.751] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:33.783] 2025-08-20 15:26:33,783 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:33.784]   [SEARCH] Query: network api fetch
[15:26:33.784] 
[15:26:33.784] [TURN 2/10]
[15:26:33.785] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:33.800] 2025-08-20 15:26:33,800 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:33.801]   [SEARCH] Query: file_operations_writer
[15:26:33.801] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:26:33.801] [AI_DEBUG] 测试失败，准备调用AI分类
[15:26:33.802] [AI_DEBUG] 生成的txt_content长度: 30253
[15:26:33.802] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:26:33.802]   - use_ai_classification=True
[15:26:33.802]   - ai_classifier=True
[15:26:33.802]   - txt_content_len=30253
[15:26:33.802]   - task_model=qwen2.5-3b-instruct
[15:26:33.802] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:26:33.802] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:26:33.810] 2025-08-20 15:26:33,810 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:26:33.810] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:26:33.810] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:26:33.811] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:26:33.811] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13349263008)
[15:26:33.811] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:26:33.811] 2025-08-20 15:26:33,811 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:26:33.834] 2025-08-20 15:26:33,834 - mcp_embedding_manager - INFO - FAISS index loaded
[15:26:33.834] 2025-08-20 15:26:33,834 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:26:33.834] 2025-08-20 15:26:33,834 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:26:33.837] [INFO] Tool embedding index loaded successfully
[15:26:33.837] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:26:33.837] [INFO] Operation semantic index initialized
[15:26:33.837] 
[15:26:33.837] [TURN 1/10]
[15:26:33.838] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:34.550] 2025-08-20 15:26:34,550 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:34.551]   [INFO] Tool info request: file_operations_reader
[15:26:34.552] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:26:34.552] [AI_DEBUG] 测试失败，准备调用AI分类
[15:26:34.552] [AI_DEBUG] 生成的txt_content长度: 23187
[15:26:34.552] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:26:34.552]   - use_ai_classification=True
[15:26:34.553]   - ai_classifier=True
[15:26:34.553]   - txt_content_len=23187
[15:26:34.553]   - task_model=qwen2.5-3b-instruct
[15:26:34.553] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:26:35.200] 2025-08-20 15:26:35,199 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:35.201]   [INFO] Tool info request: network_fetcher
[15:26:35.201] 
[15:26:35.201] [TURN 3/10]
[15:26:35.201] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:35.374] 2025-08-20 15:26:35,374 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:35.374]   [SEARCH] Query: file reader writer
[15:26:35.375] 
[15:26:35.375] [TURN 2/10]
[15:26:35.378] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:40.383] 2025-08-20 15:26:40,383 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:40.385]   [INFO] Tool info request: file_operations_reader
[15:26:40.385] 
[15:26:40.385] [TURN 3/10]
[15:26:40.386] 2025-08-20 15:26:40,386 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:40.386] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:40.391]   [INFO] Tool info request: network_fetcher
[15:26:40.391] 
[15:26:40.391] [TURN 4/10]
[15:26:40.393] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:41.888] 2025-08-20 15:26:41,888 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:41.892]   [INFO] Tool info request: file_operations_writer
[15:26:41.892] 
[15:26:41.892] [TURN 4/10]
[15:26:41.894] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:46.481] 2025-08-20 15:26:46,481 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:46.486]   [SEARCH] Query: data_processing_parser
[15:26:46.486] 
[15:26:46.486] [TURN 5/10]
[15:26:46.487] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:46.587] 2025-08-20 15:26:46,586 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:46.588]   [INFO] Tool info request: network_fetcher
[15:26:46.588] 
[15:26:46.589] [TURN 5/10]
[15:26:46.591] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:48.189] 2025-08-20 15:26:48,189 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:48.193]   [INFO] Tool info request: data_processing_parser
[15:26:48.193] 
[15:26:48.193] [TURN 6/10]
[15:26:48.196] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:51.187] 2025-08-20 15:26:51,187 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:51.192]   [INFO] Tool info request: data_processing_filter
[15:26:51.192] 
[15:26:51.192] [TURN 7/10]
[15:26:51.195] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:53.160] 2025-08-20 15:26:53,160 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:53.168]   [INFO] Tool info request: computation_analyzer
[15:26:53.168] 
[15:26:53.168] [TURN 8/10]
[15:26:53.175] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:53.257] 2025-08-20 15:26:53,255 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:53.259]   [INFO] Tool info request: network_fetcher
[15:26:53.259] 
[15:26:53.259] [TURN 6/10]
[15:26:53.260] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:53.672] 2025-08-20 15:26:53,671 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[15:26:53.672] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"9390fee7-953d-9089-a376-2eaad2bd1907"}, traceId: 213e06c317557288134463253e7906'}
[15:26:53.672] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[15:26:54.518] 2025-08-20 15:26:54,518 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:54.523]   [INFO] Tool info request: file_operations_writer
[15:26:54.523] 
[15:26:54.523] [TURN 9/10]
[15:26:54.523] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:59.172] 2025-08-20 15:26:59,172 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:59.193]   [INFO] Tool info request: file_operations_reader
[15:26:59.193] 
[15:26:59.193] [TURN 10/10]
[15:26:59.195] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:27:01.716] 2025-08-20 15:27:01,716 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:27:01.718]   [INFO] Tool info request: data_processing_transformer
[15:27:01.722] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:27:01.722] [AI_DEBUG] 测试失败，准备调用AI分类
[15:27:01.722] [AI_DEBUG] 生成的txt_content长度: 21220
[15:27:01.722] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:27:01.722]   - use_ai_classification=True
[15:27:01.722]   - ai_classifier=True
[15:27:01.722]   - txt_content_len=21220
[15:27:01.722]   - task_model=qwen2.5-3b-instruct
[15:27:01.722] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:27:03.164] 2025-08-20 15:27:03,162 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:27:03.165]   [INFO] Tool info request: network_fetcher
[15:27:03.165] 
[15:27:03.165] [TURN 7/10]
[15:27:03.166] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:27:15.751] 2025-08-20 15:27:15,749 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:27:15.756]   [INFO] Tool info request: network_fetcher
[15:27:15.756] 
[15:27:15.756] [TURN 8/10]
[15:27:15.768] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:27:34.205] 2025-08-20 15:27:34,204 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:27:34.207]   [INFO] Tool info request: data_processing_validator
[15:27:34.207] 
[15:27:34.207] [TURN 9/10]
[15:27:34.208] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:27:47.777] 2025-08-20 15:27:47,776 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:27:47.780]   [INFO] Tool info request: data_processing_transformer
[15:27:47.780] 
[15:27:47.780] [TURN 10/10]
[15:27:47.788] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:27:53.437] 2025-08-20 15:27:53,437 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:27:53.440]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[15:27:53.440] [ASSISTED] Task received 1 format helps, final result: failure
[15:27:53.442] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:27:53.442] [AI_DEBUG] 测试失败，准备调用AI分类
[15:27:53.442] [AI_DEBUG] 生成的txt_content长度: 21395
[15:27:53.442] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:27:53.442]   - use_ai_classification=True
[15:27:53.442]   - ai_classifier=True
[15:27:53.442]   - txt_content_len=21395
[15:27:53.442]   - task_model=qwen2.5-3b-instruct
[15:27:53.442] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:27:53.445] 
[15:27:53.445] [INFO] Batch writing 5 records to database (qwen2.5-3b-instruct:5)
[15:27:53.445] 2025-08-20 15:27:53,445 - batch_test_runner - INFO - Batch writing 5 records to database (qwen2.5-3b-instruct:5)
[15:27:53.445] [INFO] Successfully wrote 5/5 records (qwen2.5-3b-instruct:5)
[15:27:53.445] 2025-08-20 15:27:53,445 - batch_test_runner - INFO - Successfully wrote 5/5 records (qwen2.5-3b-instruct:5)
[15:27:53.446] [INFO] 数据已同步到Parquet存储
[15:27:53.446] 2025-08-20 15:27:53,446 - batch_test_runner - INFO - Database saved successfully
[15:27:53.446] 2025-08-20 15:27:53,446 - batch_test_runner - INFO - ============================================================
[15:27:53.446] 2025-08-20 15:27:53,446 - batch_test_runner - INFO - Batch test completed at 2025-08-20T15:27:53.446248
[15:27:53.446] 2025-08-20 15:27:53,446 - batch_test_runner - INFO - Summary:
[15:27:53.446] 2025-08-20 15:27:53,446 - batch_test_runner - INFO -   - Total tests: 5
[15:27:53.446] 2025-08-20 15:27:53,446 - batch_test_runner - INFO -   - Successful: 0
[15:27:53.446] 2025-08-20 15:27:53,446 - batch_test_runner - INFO -   - Failed: 5
[15:27:53.446] 2025-08-20 15:27:53,446 - batch_test_runner - INFO -   - Success rate: 0.0%
[15:27:53.446] 2025-08-20 15:27:53,446 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250820_152555.log
[15:27:53.446] 2025-08-20 15:27:53,446 - batch_test_runner - INFO - ============================================================
[15:27:53.446] 
[15:27:53.446] ✅ 批测试完成
[15:27:53.446]    成功: 0/5
[15:27:53.446]    失败: 5/5
[15:27:53.446] 
[15:27:53.446] 📤 最终保存5个测试结果...
[15:27:53.449] [DEBUG] 创建新的manager实例: key=True_
[15:27:53.449] ✅ 已保存 5 个测试结果到数据库
[15:27:53.574] [INFO] 已将 5 个汇总写入Parquet
[15:27:53.722] [INFO] 刷新manager缓存: key=True_

==================================================
分片 qwen2.5-3b-instruct_easy_key2 完成
退出码: 0
总行数: 619
运行时间: 125.1秒
时间: 2025-08-20T15:27:55.146282
