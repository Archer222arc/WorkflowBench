===== 分片 qwen2.5-3b-instruct_easy_key0 =====
时间: 2025-08-20T15:25:00.036292
模型: qwen2.5-3b-instruct
实例: qwen-key0
命令: python -u smart_batch_runner.py --model qwen2.5-3b-instruct --deployment qwen-key0 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[15:25:02.406] 2025-08-20 15:25:02,406 - faiss.loader - INFO - Loading faiss.
[15:25:02.432] 2025-08-20 15:25:02,432 - faiss.loader - INFO - Successfully loaded faiss.
[15:25:03.700] [INFO] 使用Parquet存储格式
[15:25:04.105] [INFO] 使用Parquet存储格式
[15:25:04.114] [INFO] 使用PARQUET存储格式
[15:25:04.114] 
[15:25:04.114] ============================================================
[15:25:04.114] 智能批测试: qwen2.5-3b-instruct (idealab)
[15:25:04.114] Prompt types: ['optimal']
[15:25:04.114] 难度: easy
[15:25:04.115] 目标: 每种配置 2 个实例
[15:25:04.115] ============================================================
[15:25:04.202] ○ simple_task         :   0/  2 已完成 (需要补充 2 个)
[15:25:04.209] ○ basic_task          :   0/  2 已完成 (需要补充 2 个)
[15:25:04.219] ○ data_pipeline       :   0/  2 已完成 (需要补充 2 个)
[15:25:04.227] ○ api_integration     :   0/  2 已完成 (需要补充 2 个)
[15:25:04.236] ○ multi_stage_pipeline:   0/  2 已完成 (需要补充 2 个)
[15:25:04.236] 
[15:25:04.237] ⏳ 需要运行 10 个新测试
[15:25:04.237] 
[15:25:04.237] ▶ 准备 simple_task (2 个实例)...
[15:25:04.237] 
[15:25:04.237] ▶ 准备 basic_task (2 个实例)...
[15:25:04.237] 
[15:25:04.237] ▶ 准备 data_pipeline (2 个实例)...
[15:25:04.237] 
[15:25:04.237] ▶ 准备 api_integration (2 个实例)...
[15:25:04.237] 
[15:25:04.237] ▶ 准备 multi_stage_pipeline (2 个实例)...
[15:25:04.237] 
[15:25:04.237] ▶ 开始执行 10 个测试...
[15:25:04.237] 📦 批量提交模式：每20个测试保存一次
[15:25:04.237] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[15:25:04.240] 2025-08-20 15:25:04,240 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[15:25:04.308] 2025-08-20 15:25:04,308 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[15:25:04.308] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x16a7c3ec0>
[15:25:04.308] 2025-08-20 15:25:04,308 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[15:25:04.308] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[15:25:04.309] 2025-08-20 15:25:04,309 - batch_test_runner - INFO - ============================================================
[15:25:04.309] 2025-08-20 15:25:04,309 - batch_test_runner - INFO - Batch test runner initialized
[15:25:04.309] 2025-08-20 15:25:04,309 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[15:25:04.309] 2025-08-20 15:25:04,309 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_152504.log
[15:25:04.309] 2025-08-20 15:25:04,309 - batch_test_runner - INFO - ============================================================
[15:25:04.309] 2025-08-20 15:25:04,309 - batch_test_runner - INFO - Running 10 tests with 3 workers, QPS limit: 5.0
[15:25:04.309] 2025-08-20 15:25:04,309 - batch_test_runner - INFO - Initializing test components...
[15:25:04.605] 2025-08-20 15:25:04,605 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[15:25:04.605] 2025-08-20 15:25:04,605 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[15:25:04.605] 2025-08-20 15:25:04,605 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[15:25:04.605] [DEBUG] Creating new ToolCapabilityManager instance
[15:25:04.605] [OperationEmbeddingIndex] Initializing with unified API client manager
[15:25:04.605] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[15:25:04.607] 2025-08-20 15:25:04,607 - api_client_manager - INFO - Loaded configuration from config/config.json
[15:25:04.615] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[15:25:04.615] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[15:25:04.615] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[15:25:05.575] 2025-08-20 15:25:05,574 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[15:25:05.576] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[15:25:05.623] [INFO] Loaded 4150 embeddings from persistent cache
[15:25:05.623] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[15:25:05.624] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[15:25:05.624] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[15:25:05.624] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[15:25:05.630] [INFO] Successfully loaded FAISS index with dimension 3072
[15:25:05.630] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[15:25:05.630] [INFO] Loaded 15 operations with dimension 3072
[15:25:05.630] [INFO] Successfully loaded cached index
[15:25:05.630] [INFO] Operation semantic index initialized
[15:25:05.630] [INFO] Using device: cpu
[15:25:05.631] [INFO] Initialized tool success tracking attributes
[15:25:05.631] [INFO] Initializing embedding manager for enhanced tool selection
[15:25:05.631] [MCPEmbeddingManager] Creating new singleton instance
[15:25:05.631] [MCPEmbeddingManager] Initializing with unified API client manager
[15:25:05.639] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[15:25:05.639] [MCPEmbeddingManager] Client initialized successfully
[15:25:05.640] 2025-08-20 15:25:05,639 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[15:25:05.765] 2025-08-20 15:25:05,765 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[15:25:05.984] 2025-08-20 15:25:05,984 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[15:25:05.984] 2025-08-20 15:25:05,984 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[15:25:06.007] 2025-08-20 15:25:06,007 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[15:25:06.066] 2025-08-20 15:25:06,065 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[15:25:06.402] 2025-08-20 15:25:06,402 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[15:25:06.402] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[15:25:06.402] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[15:25:06.402] 2025-08-20 15:25:06,402 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:25:06.784] 2025-08-20 15:25:06,784 - mcp_embedding_manager - INFO - FAISS index loaded
[15:25:06.785] 2025-08-20 15:25:06,784 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:25:06.785] 2025-08-20 15:25:06,784 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:25:06.787] [SUCCESS] Loaded 30 tool embeddings
[15:25:06.787] 2025-08-20 15:25:06,787 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[15:25:06.787] [SUCCESS] Embedding manager initialized with 30 tools
[15:25:06.787] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[15:25:06.787] [INFO] Loading full MCP protocol registry...
[15:25:06.788] 2025-08-20 15:25:06,788 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:25:06.788] [INFO] Loaded full tool registry with 30 tools
[15:25:06.788] 2025-08-20 15:25:06,788 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[15:25:06.788] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[15:25:06.788] [INFO] Embedding manager ready with 30 tools
[15:25:06.788] [WARNING] Embedding manager exists but has no embeddings
[15:25:06.788] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[15:25:06.790] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[15:25:06.790] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[15:25:06.790] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:25:06.790] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[15:25:06.790] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[15:25:06.790] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:25:06.790] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:25:06.790] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:25:06.790] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:25:06.790] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[15:25:06.790] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:25:06.790] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:25:06.790] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[15:25:06.790] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[15:25:06.790] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[15:25:06.790] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:25:06.790] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:25:06.790] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:25:06.790] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[15:25:06.790] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[15:25:06.790] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[15:25:06.790] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[15:25:06.790] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[15:25:06.790] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[15:25:06.790] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[15:25:06.790] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[15:25:06.791] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[15:25:06.791] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[15:25:06.791] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[15:25:06.791] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[15:25:06.791] 2025-08-20 15:25:06,791 - mdp_workflow_generator - INFO - Loaded 30 tools
[15:25:06.791] [INFO] Setting default state_dim based on loaded tools
[15:25:06.791] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[15:25:06.791] 2025-08-20 15:25:06,791 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[15:25:06.791] [INFO] Setting default action_dim based on loaded tools
[15:25:06.791] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[15:25:06.791] 2025-08-20 15:25:06,791 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[15:25:06.791] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[15:25:06.791] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[15:25:06.791] [INFO] ⚡ Will use pre-generated workflows or random policy
[15:25:06.791] 2025-08-20 15:25:06,791 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[15:25:06.791] [INFO] Initializing TaskManager...
[15:25:08.041] 2025-08-20 15:25:08,041 - unified_training_manager - INFO - Using device: cpu
[15:25:08.145] 2025-08-20 15:25:08,145 - unified_training_manager - INFO - Task filtering results:
[15:25:08.145] 2025-08-20 15:25:08,145 - unified_training_manager - INFO -   Total: 5040 -> 5040
[15:25:08.145] 2025-08-20 15:25:08,145 - unified_training_manager - INFO -   simple_task: 320 -> 320
[15:25:08.145] 2025-08-20 15:25:08,145 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[15:25:08.145] 2025-08-20 15:25:08,145 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[15:25:08.145] 2025-08-20 15:25:08,145 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[15:25:08.145] 2025-08-20 15:25:08,145 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[15:25:08.145] 2025-08-20 15:25:08,145 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[15:25:08.147] 2025-08-20 15:25:08,147 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[15:25:08.147] [TaskManager] Difficulty level 'easy': 1096 tasks
[15:25:08.147] [TaskManager] Difficulty level 'very_easy': 856 tasks
[15:25:08.147] [TaskManager] Difficulty level 'medium': 1136 tasks
[15:25:08.147] [TaskManager] Difficulty level 'hard': 1096 tasks
[15:25:08.147] [TaskManager] Difficulty level 'very_hard': 856 tasks
[15:25:08.149] [INFO] TaskManager initialized with 5040 tasks
[15:25:08.149] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[15:25:08.150] [INFO] Initializing ToolCallVerifier...
[15:25:08.150] [INFO] ToolCallVerifier initialized with 30 tools
[15:25:08.150] [INFO] Output tools identified: 1
[15:25:08.150] [INFO] Component initialization status:
[15:25:08.150]   - embedding_manager: initialized
[15:25:08.150]   - task_manager: initialized
[15:25:08.150]   - output_verifier: initialized
[15:25:08.150]   - tool_capability_manager: initialized
[15:25:08.150]   - tool_success_rates: initialized with 0 entries
[15:25:08.150] [INFO] MDPWorkflowGenerator initialization complete
[15:25:08.150] 2025-08-20 15:25:08,150 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[15:25:08.150] 2025-08-20 15:25:08,150 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[15:25:08.150] 2025-08-20 15:25:08,150 - batch_test_runner - INFO -   - task_manager: ✓
[15:25:08.150] 2025-08-20 15:25:08,150 - batch_test_runner - INFO -   - output_verifier: ✓
[15:25:08.150] 2025-08-20 15:25:08,150 - batch_test_runner - INFO -   - embedding_manager: ✓
[15:25:08.150] 2025-08-20 15:25:08,150 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[15:25:08.150] 2025-08-20 15:25:08,150 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[15:25:08.150] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:25:08.150] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:08.150] [FlawedWorkflowGenerator] Initialized with 30 tools
[15:25:08.150] [FlawedWorkflowGenerator] RAG support: disabled
[15:25:08.151] DEBUG: Checking generator attributes
[15:25:08.151]   - has tool_capabilities: True
[15:25:08.151]   - has tool_capability_manager: True
[15:25:08.151]   - has task_manager: True
[15:25:08.151] [INFO] Loaded 30 tools from generator
[15:25:08.151] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[15:25:08.151] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:25:08.151] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:08.151] [INFO] Initializing LLM client using APIClientManager
[15:25:08.157] [INFO] Using Azure OpenAI client
[15:25:08.157] [DEBUG] Checking if generator has tool_capability_manager attribute
[15:25:08.157] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[15:25:08.157] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:25:08.157] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:08.157] [FlawedWorkflowGenerator] Initialized with 30 tools
[15:25:08.157] [FlawedWorkflowGenerator] RAG support: enabled
[15:25:08.157] [INFO] FlawedWorkflowGenerator initialized successfully
[15:25:08.157] [INFO] Initializing StableScorer for Phase 2 scoring
[15:25:08.157] <tool_capability_manager.ToolCapabilityManager object at 0x16a7771a0>
[15:25:08.157] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:25:08.157] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:08.157] [INFO] Loaded tool success history for 0 tools
[15:25:08.157] [INFO] StableScorer initialized with semantic capability
[15:25:08.157] [INFO] StableScorer initialized successfully
[15:25:08.157] [INFO] Loading task instances...
[15:25:08.157] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[15:25:08.164] [INFO] Loaded 630 task instances
[15:25:08.164] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[15:25:08.164] 2025-08-20 15:25:08,164 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[15:25:08.164] 2025-08-20 15:25:08,164 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[15:25:08.479] 2025-08-20 15:25:08,478 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[15:25:08.479] 2025-08-20 15:25:08,478 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[15:25:08.494] 2025-08-20 15:25:08,494 - batch_test_runner - INFO - Initialization complete
[15:25:08.520] 2025-08-20 15:25:08,520 - batch_test_runner - INFO - Starting batch test with 10 tasks, 3 workers
[15:25:08.520] 2025-08-20 15:25:08,520 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[15:25:08.521] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:25:08.521] 2025-08-20 15:25:08,521 - smart_model_router - INFO - Using idealab for qwen2.5-3b-instruct
[15:25:08.528] 2025-08-20 15:25:08,528 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:25:08.528] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:25:08.528] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:25:08.535] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:25:08.535] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:25:08.535] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:08.535] 2025-08-20 15:25:08,535 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:25:08.796] 2025-08-20 15:25:08,796 - mcp_embedding_manager - INFO - FAISS index loaded
[15:25:08.796] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:25:08.797] 2025-08-20 15:25:08,797 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:25:08.797] 2025-08-20 15:25:08,797 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:25:08.799] [INFO] Tool embedding index loaded successfully
[15:25:08.800] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:25:08.800] [INFO] Operation semantic index initialized
[15:25:08.800] 
[15:25:08.800] [TURN 1/10]
[15:25:08.803] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:08.808] 2025-08-20 15:25:08,808 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:25:08.808] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:25:08.808] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:25:08.822] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:25:08.822] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:25:08.822] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:08.822] 2025-08-20 15:25:08,822 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:25:08.839] 2025-08-20 15:25:08,839 - mcp_embedding_manager - INFO - FAISS index loaded
[15:25:08.839] 2025-08-20 15:25:08,839 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:25:08.839] 2025-08-20 15:25:08,839 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:25:08.841] [INFO] Tool embedding index loaded successfully
[15:25:08.848] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:25:08.848] [INFO] Operation semantic index initialized
[15:25:08.848] 
[15:25:08.848] [TURN 1/10]
[15:25:08.850] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:08.988] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:25:08.995] 2025-08-20 15:25:08,995 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:25:08.995] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:25:08.995] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:25:08.995] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:25:08.995] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:25:08.995] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:08.995] 2025-08-20 15:25:08,995 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:25:09.013] 2025-08-20 15:25:09,013 - mcp_embedding_manager - INFO - FAISS index loaded
[15:25:09.013] 2025-08-20 15:25:09,013 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:25:09.013] 2025-08-20 15:25:09,013 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:25:09.016] [INFO] Tool embedding index loaded successfully
[15:25:09.016] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:25:09.017] [INFO] Operation semantic index initialized
[15:25:09.017] 
[15:25:09.017] [TURN 1/10]
[15:25:09.017] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:10.852] 2025-08-20 15:25:10,852 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:10.857]   [SEARCH] Query: data_processing_validator
[15:25:10.857] 
[15:25:10.857] [TURN 2/10]
[15:25:10.861] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:10.957] 2025-08-20 15:25:10,956 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:10.957]   [EARLY_EXIT] No actions taken, continuing...
[15:25:10.957] 
[15:25:10.957] [TURN 2/10]
[15:25:10.958] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:11.493] 2025-08-20 15:25:11,493 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:11.494]   [SEARCH] Query: data_processing_validator
[15:25:11.494] 
[15:25:11.494] [TURN 2/10]
[15:25:11.499] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:12.016] 2025-08-20 15:25:12,016 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:12.019]   [INFO] Tool info request: data_processing_validator
[15:25:12.019] 
[15:25:12.019] [TURN 3/10]
[15:25:12.025] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:12.046] 2025-08-20 15:25:12,046 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:12.051]   [SEARCH] Query: file reader writer
[15:25:12.052] 
[15:25:12.052] [TURN 3/10]
[15:25:12.055] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:15.526] 2025-08-20 15:25:15,525 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:15.532]   [INFO] Tool info request: file_operations_reader
[15:25:15.532] 
[15:25:15.532] [TURN 4/10]
[15:25:15.534] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:16.424] 2025-08-20 15:25:16,423 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:16.427]   [INFO] Tool info request: data_processing_validator
[15:25:16.427] 
[15:25:16.427] [TURN 3/10]
[15:25:16.430] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:17.133] 2025-08-20 15:25:17,133 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:17.145]   [SEARCH] Query: data_processing_parser
[15:25:17.146] 
[15:25:17.146] [TURN 4/10]
[15:25:17.146] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:17.447] 2025-08-20 15:25:17,447 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:17.447]   [SEARCH] Query: data_processing_parser
[15:25:17.448] 
[15:25:17.448] [TURN 5/10]
[15:25:17.449] 2025-08-20 15:25:17,448 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:17.449]   [SEARCH] Query: data_processing_parser
[15:25:17.449] 
[15:25:17.449] [TURN 4/10]
[15:25:17.450] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct[LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:17.451] 
[15:25:18.314] 2025-08-20 15:25:18,314 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:18.315]   [INFO] Tool info request: data_processing_parser
[15:25:18.315] 
[15:25:18.315] [TURN 5/10]
[15:25:18.316] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:22.215] 2025-08-20 15:25:22,214 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:22.217]   [INFO] Tool info request: data_processing_parser
[15:25:22.217] 
[15:25:22.217] [TURN 5/10]
[15:25:22.217] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:22.220] 2025-08-20 15:25:22,220 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:22.220]   [INFO] Tool info request: data_processing_parser
[15:25:22.220] 
[15:25:22.221] [TURN 6/10]
[15:25:22.221] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:23.132] 2025-08-20 15:25:23,131 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:23.134]   [SEARCH] Query: data_processing_validator
[15:25:23.135] 
[15:25:23.135] [TURN 6/10]
[15:25:23.136] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:24.303] 2025-08-20 15:25:24,302 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:24.305] 2025-08-20 15:25:24,304 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:24.305]   [INFO] Tool info request: data_processing_validator
[15:25:24.305] 
[15:25:24.305] [TURN 6/10]
[15:25:24.306]   [SEARCH] Query: data_processing_filter
[15:25:24.307] 
[15:25:24.307] [TURN 7/10][LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:24.309] 
[15:25:24.312] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:24.394] 2025-08-20 15:25:24,393 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:24.395]   [INFO] Tool info request: data_processing_validator
[15:25:24.395] 
[15:25:24.395] [TURN 7/10]
[15:25:24.396] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:27.627] 2025-08-20 15:25:27,626 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:27.628]   [INFO] Tool info request: data_processing_parser
[15:25:27.628] 
[15:25:27.628] [TURN 8/10]
[15:25:27.633] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:28.590] 2025-08-20 15:25:28,590 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:28.593]   [SEARCH] Query: data_processing_parser
[15:25:28.594] 
[15:25:28.594] [TURN 7/10]
[15:25:28.595] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:28.597] 2025-08-20 15:25:28,597 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:28.597]   [INFO] Tool info request: data_processing_filter
[15:25:28.597] 
[15:25:28.597] [TURN 8/10]
[15:25:28.598] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:28.979] 2025-08-20 15:25:28,979 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:28.980]   [SEARCH] Query: data_processing_transformer
[15:25:28.982] 
[15:25:28.982] [TURN 9/10]
[15:25:28.983] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:30.097] 2025-08-20 15:25:30,097 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:30.097]   [INFO] Tool info request: data_processing_parser
[15:25:30.097] 
[15:25:30.097] [TURN 8/10]
[15:25:30.098] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:30.112] 2025-08-20 15:25:30,112 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:30.112]   [INFO] Tool info request: file_operations_writer
[15:25:30.112] 
[15:25:30.112] [TURN 9/10]
[15:25:30.114] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:34.045] 2025-08-20 15:25:34,044 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:34.048]   [INFO] Tool info request: data_processing_transformer
[15:25:34.048] 
[15:25:34.048] [TURN 10/10]
[15:25:34.048] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:34.370] 2025-08-20 15:25:34,369 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:34.372]   [INFO] Tool info request: data_processing_validator
[15:25:34.372] 
[15:25:34.372] [TURN 9/10]
[15:25:34.383] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:35.715] 2025-08-20 15:25:35,714 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:35.719]   [INFO] Tool info request: data_processing_validator
[15:25:35.723] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:25:35.723] [AI_DEBUG] 测试失败，准备调用AI分类
[15:25:35.723] [AI_DEBUG] 生成的txt_content长度: 26962
[15:25:35.723] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:25:35.723]   - use_ai_classification=True
[15:25:35.723]   - ai_classifier=True
[15:25:35.723]   - txt_content_len=26962
[15:25:35.724]   - task_model=qwen2.5-3b-instruct
[15:25:35.724] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:25:35.724] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:25:35.747] 2025-08-20 15:25:35,746 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:35.830]   [SEARCH] Query: data_processing_transformer
[15:25:35.834] 
[15:25:35.834] [TURN 10/10]
[15:25:35.913] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:35.922] 2025-08-20 15:25:35,922 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:25:35.922] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:25:35.922] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:25:35.925] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:25:35.925] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:25:35.926] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:35.926] 2025-08-20 15:25:35,924 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:25:35.977] 2025-08-20 15:25:35,977 - mcp_embedding_manager - INFO - FAISS index loaded
[15:25:35.977] 2025-08-20 15:25:35,977 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:25:35.978] 2025-08-20 15:25:35,977 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:25:35.980] [INFO] Tool embedding index loaded successfully
[15:25:35.981] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:25:35.981] [INFO] Operation semantic index initialized
[15:25:35.982] 
[15:25:35.982] [TURN 1/10]
[15:25:35.982] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:39.873] 2025-08-20 15:25:39,873 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:39.876]   [INFO] Tool info request: data_processing_transformer
[15:25:39.880] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:25:39.880] [AI_DEBUG] 测试失败，准备调用AI分类
[15:25:39.880] [AI_DEBUG] 生成的txt_content长度: 26659
[15:25:39.880] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:25:39.880] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:25:39.880]   - use_ai_classification=True
[15:25:39.880]   - ai_classifier=True
[15:25:39.880]   - txt_content_len=26659
[15:25:39.881]   - task_model=qwen2.5-3b-instruct
[15:25:39.881] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:25:39.920] 2025-08-20 15:25:39,920 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:25:39.921] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:25:39.921] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:25:39.921] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:25:39.921] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:25:39.921] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:39.921] 2025-08-20 15:25:39,921 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:25:39.958] 2025-08-20 15:25:39,958 - mcp_embedding_manager - INFO - FAISS index loaded
[15:25:39.958] 2025-08-20 15:25:39,958 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:25:39.958] 2025-08-20 15:25:39,958 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:25:39.961] [INFO] Tool embedding index loaded successfully
[15:25:39.961] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:25:39.962] [INFO] Operation semantic index initialized
[15:25:39.962] 
[15:25:39.962] [TURN 1/10]
[15:25:39.965] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:39.979] 2025-08-20 15:25:39,977 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:39.979]   [SEARCH] Query: file_operations_reader
[15:25:39.980] 
[15:25:39.980] [TURN 2/10]
[15:25:39.987] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:41.150] 2025-08-20 15:25:41,150 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:41.150]   [INFO] Tool info request: file_operations_reader
[15:25:41.150] 
[15:25:41.151] [TURN 3/10]
[15:25:41.151] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:41.587] 2025-08-20 15:25:41,587 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:41.588]   [SEARCH] Query: file_operations_reader
[15:25:41.588] 
[15:25:41.588] [TURN 2/10]
[15:25:41.599] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:42.188] 2025-08-20 15:25:42,188 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:42.190]   [SEARCH] Query: data_processing_parser
[15:25:42.190] 
[15:25:42.190] [TURN 4/10]
[15:25:42.191] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:43.048] 2025-08-20 15:25:43,048 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:43.051]   [INFO] Tool info request: data_processing_filter
[15:25:43.051] 
[15:25:43.051] [TURN 10/10]
[15:25:43.052] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:46.643] 2025-08-20 15:25:46,642 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:46.647]   [INFO] Tool info request: file_operations_reader
[15:25:46.647] 
[15:25:46.647] [TURN 3/10]
[15:25:46.655] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:46.885] 2025-08-20 15:25:46,885 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:46.886]   [INFO] Tool info request: data_processing_parser
[15:25:46.887] 
[15:25:46.887] [TURN 5/10]
[15:25:46.924] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:48.390] 2025-08-20 15:25:48,389 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:48.394]   [SEARCH] Query: data_processing_filter
[15:25:48.394] 
[15:25:48.394] [TURN 6/10]
[15:25:48.395] 2025-08-20 15:25:48,395 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:48.397] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:48.400]   [SEARCH] Query: data_processing_transformer
[15:25:48.400] 
[15:25:48.400] [TURN 4/10]
[15:25:48.401] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:51.420] 2025-08-20 15:25:51,420 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:51.421]   [INFO] Tool info request: data_processing_transformer
[15:25:51.421] 
[15:25:51.421] [TURN 5/10]
[15:25:51.422] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:52.507] 2025-08-20 15:25:52,505 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:52.508]   [INFO] Tool info request: data_processing_filter
[15:25:52.508] 
[15:25:52.508] [TURN 7/10]
[15:25:52.514] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:52.638] 2025-08-20 15:25:52,638 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:52.639]   [INFO] Tool info request: file_operations_reader
[15:25:52.641] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:25:52.641] [AI_DEBUG] 测试失败，准备调用AI分类
[15:25:52.641] [AI_DEBUG] 生成的txt_content长度: 23821
[15:25:52.641] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:25:52.641]   - use_ai_classification=True
[15:25:52.641]   - ai_classifier=True
[15:25:52.641]   - txt_content_len=23821
[15:25:52.641]   - task_model=qwen2.5-3b-instruct[InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:25:52.641] 
[15:25:52.641] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:25:52.651] 2025-08-20 15:25:52,651 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:25:52.651] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:25:52.651] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:25:52.654] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:25:52.654] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:25:52.654] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:25:52.655] 2025-08-20 15:25:52,654 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:25:52.749] 2025-08-20 15:25:52,749 - mcp_embedding_manager - INFO - FAISS index loaded
[15:25:52.749] 2025-08-20 15:25:52,749 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:25:52.749] 2025-08-20 15:25:52,749 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:25:52.752] [INFO] Tool embedding index loaded successfully
[15:25:52.757] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:25:52.757] [INFO] Operation semantic index initialized
[15:25:52.758] 
[15:25:52.758] [TURN 1/10]
[15:25:52.759] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:53.453] 2025-08-20 15:25:53,453 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:53.454]   [SEARCH] Query: data_processing_parser
[15:25:53.454] 
[15:25:53.454] [TURN 6/10]
[15:25:53.454] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:53.772] 2025-08-20 15:25:53,771 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:53.772]   [INFO] Tool info request: file_operations_reader
[15:25:53.772] 
[15:25:53.772] [TURN 8/10]
[15:25:53.772] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:54.835] 2025-08-20 15:25:54,835 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:54.839]   [SEARCH] Query: file_operations_reader
[15:25:54.839] 
[15:25:54.839] [TURN 2/10]
[15:25:54.839] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:57.810] 2025-08-20 15:25:57,809 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:57.813]   [INFO] Tool info request: data_processing_parser
[15:25:57.813] 
[15:25:57.813] [TURN 9/10]
[15:25:57.814] 2025-08-20 15:25:57,814 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:57.815]   [INFO] Tool info request: data_processing_parser
[15:25:57.815] 
[15:25:57.815] [TURN 7/10]
[15:25:57.815] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:57.818] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:58.750] 2025-08-20 15:25:58,750 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:58.753]   [INFO] Tool info request: file_operations_reader
[15:25:58.753] 
[15:25:58.753] [TURN 3/10]
[15:25:58.753] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:25:59.985] 2025-08-20 15:25:59,985 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:25:59.986]   [INFO] Tool info request: data_processing_filter
[15:25:59.986] 
[15:25:59.986] [TURN 10/10]
[15:25:59.986] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:00.005] 2025-08-20 15:26:00,005 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:00.009]   [INFO] Tool info request: file_operations_reader
[15:26:00.009] 
[15:26:00.009] [TURN 4/10]
[15:26:00.013] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:00.079] 2025-08-20 15:26:00,079 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:00.080]   [INFO] Tool info request: data_processing_transformer
[15:26:00.080] 
[15:26:00.080] [TURN 8/10]
[15:26:00.080] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:03.399] 2025-08-20 15:26:03,399 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:03.400]   [INFO] Tool info request: file_operations_reader
[15:26:03.403] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:26:03.403] [AI_DEBUG] 测试失败，准备调用AI分类
[15:26:03.403] [AI_DEBUG] 生成的txt_content长度: 23191
[15:26:03.403] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:26:03.403]   - use_ai_classification=True
[15:26:03.403]   - ai_classifier=True
[15:26:03.403]   - txt_content_len=23191
[15:26:03.403]   - task_model=qwen2.5-3b-instruct
[15:26:03.403] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:26:03.404] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:26:03.413] 2025-08-20 15:26:03,413 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:26:03.413] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:26:03.413] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:26:03.414] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:26:03.414] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:26:03.414] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:26:03.414] 2025-08-20 15:26:03,414 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:26:03.442] 2025-08-20 15:26:03,442 - mcp_embedding_manager - INFO - FAISS index loaded
[15:26:03.443] 2025-08-20 15:26:03,442 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:26:03.443] 2025-08-20 15:26:03,442 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:26:03.445] [INFO] Tool embedding index loaded successfully
[15:26:03.446] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:26:03.447] [INFO] Operation semantic index initialized
[15:26:03.447] 
[15:26:03.447] [TURN 1/10]
[15:26:03.451] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:05.089] 2025-08-20 15:26:05,087 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:05.093]   [EARLY_EXIT] No actions taken, continuing...
[15:26:05.093] 
[15:26:05.093] [TURN 5/10]
[15:26:05.094] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:05.120] 2025-08-20 15:26:05,120 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:05.122]   [INFO] Tool info request: data_processing_filter
[15:26:05.122] 
[15:26:05.122] [TURN 9/10]
[15:26:05.123] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:06.057] 2025-08-20 15:26:06,056 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:06.061]   [SEARCH] Query: network api fetch
[15:26:06.061] 
[15:26:06.061] [TURN 2/10]
[15:26:06.062] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:08.865] 2025-08-20 15:26:08,864 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:08.865]   [INFO] Tool info request: data_processing_validator
[15:26:08.866] 
[15:26:08.866] [TURN 10/10]
[15:26:08.869] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:10.079] 2025-08-20 15:26:10,079 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:10.084]   [EARLY_EXIT] No actions taken, continuing...
[15:26:10.084] 
[15:26:10.084] [TURN 6/10]
[15:26:10.085] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:10.471] 2025-08-20 15:26:10,470 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:10.472]   [INFO] Tool info request: file_operations_reader
[15:26:10.473] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:26:10.473] [AI_DEBUG] 测试失败，准备调用AI分类
[15:26:10.473] [AI_DEBUG] 生成的txt_content长度: 24061
[15:26:10.474] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:26:10.474]   - use_ai_classification=True
[15:26:10.474]   - ai_classifier=True
[15:26:10.474]   - txt_content_len=24061
[15:26:10.474]   - task_model=qwen2.5-3b-instruct
[15:26:10.474] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:26:10.474] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:26:10.483] 2025-08-20 15:26:10,483 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:26:10.483] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:26:10.483] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:26:10.483] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:26:10.483] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:26:10.483] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:26:10.483] 2025-08-20 15:26:10,483 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:26:10.503] 2025-08-20 15:26:10,503 - mcp_embedding_manager - INFO - FAISS index loaded
[15:26:10.503] 2025-08-20 15:26:10,503 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:26:10.503] 2025-08-20 15:26:10,503 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:26:10.505] [INFO] Tool embedding index loaded successfully
[15:26:10.506] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:26:10.506] [INFO] Operation semantic index initialized
[15:26:10.507] 
[15:26:10.507] [TURN 1/10]
[15:26:10.507] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:10.636] 2025-08-20 15:26:10,635 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:10.639]   [INFO] Tool info request: network_fetcher
[15:26:10.640] 
[15:26:10.640] [TURN 3/10]
[15:26:10.640] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:11.328] 2025-08-20 15:26:11,327 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[15:26:11.329] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"9ffee389-49de-90c4-a80f-42b432f0c0a4"}, traceId: 213e007317557287711558260ee6f2'}
[15:26:11.330] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[15:26:11.894] 2025-08-20 15:26:11,894 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:11.900]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[15:26:11.900] 
[15:26:11.900] [TURN 7/10]
[15:26:11.901] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:12.634] 2025-08-20 15:26:12,634 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:12.638]   [PARSE] Found tool call: network_fetcher
[15:26:12.638]   [EXECUTING] network_fetcher
[15:26:12.638]     Result: SUCCESS
[15:26:12.638] 
[15:26:12.638] [TURN 4/10]
[15:26:12.639] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:15.782] 2025-08-20 15:26:15,780 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:15.783]   [SEARCH] Query: network api fetch
[15:26:15.783] 
[15:26:15.783] [TURN 2/10]
[15:26:15.784] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:16.371] 2025-08-20 15:26:16,371 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:16.373] 
[15:26:16.373] [TURN 5/10]
[15:26:16.374] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:16.998] 2025-08-20 15:26:16,997 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:16.999]   [INFO] Tool info request: network_fetcher
[15:26:16.999] 
[15:26:16.999] [TURN 3/10]
[15:26:17.000] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:17.656] 2025-08-20 15:26:17,655 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:17.661] 
[15:26:17.661] [TURN 6/10]
[15:26:17.663] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:17.932] 2025-08-20 15:26:17,932 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:17.937]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[15:26:17.939] 
[15:26:17.939] [TURN 8/10]
[15:26:17.941] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:18.737] 2025-08-20 15:26:18,736 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:18.740] 
[15:26:18.741] [TURN 7/10]
[15:26:18.742] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:18.753] 2025-08-20 15:26:18,752 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:18.755]   [INFO] Tool info request: data_processing_validator
[15:26:18.755] 
[15:26:18.755] [TURN 4/10]
[15:26:18.762] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:22.449] 2025-08-20 15:26:22,447 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:22.449]   [INFO] Tool info request: data_processing_parser
[15:26:22.449] 
[15:26:22.449] [TURN 5/10]
[15:26:22.454] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:22.494] 2025-08-20 15:26:22,494 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:22.498] 
[15:26:22.498] [TURN 8/10]
[15:26:22.503] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:22.854] 2025-08-20 15:26:22,853 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[15:26:22.859] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"48ca05eb-a409-9148-ba54-625ab6c86f0b"}, traceId: 213e04ea17557287827327753e3676'}
[15:26:22.860] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[15:26:23.747] 2025-08-20 15:26:23,744 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:23.747]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[15:26:23.747] 
[15:26:23.748] [TURN 9/10]
[15:26:23.778] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:24.056] 2025-08-20 15:26:24,055 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:24.057]   [INFO] Tool info request: network_fetcher
[15:26:24.057] 
[15:26:24.057] [TURN 6/10]
[15:26:24.058] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:27.973] 2025-08-20 15:26:27,973 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:27.978] 
[15:26:27.978] [TURN 9/10]
[15:26:27.979] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:28.215] 2025-08-20 15:26:28,214 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:28.217]   [INFO] Tool info request: data_processing_validator
[15:26:28.217] 
[15:26:28.217] [TURN 7/10]
[15:26:28.220] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:29.156] 2025-08-20 15:26:29,156 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:29.160]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[15:26:29.160] 
[15:26:29.160] [TURN 10/10]
[15:26:29.164] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:29.283] 2025-08-20 15:26:29,283 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:29.284] 
[15:26:29.285] [TURN 10/10]
[15:26:29.285] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:29.523] 2025-08-20 15:26:29,523 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:29.525]   [INFO] Tool info request: data_processing_parser
[15:26:29.525] 
[15:26:29.525] [TURN 8/10]
[15:26:29.535] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:29.937] 2025-08-20 15:26:29,936 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[15:26:29.942] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"27e07ae0-e53d-9592-9be1-21036517011b"}, traceId: 213e007317557287897568389ee6f2'}
[15:26:29.942] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[15:26:30.377] 2025-08-20 15:26:30,376 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:30.383] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:26:30.384] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:26:30.413] 2025-08-20 15:26:30,413 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:26:30.413] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:26:30.413] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:26:30.416] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:26:30.416] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:26:30.416] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:26:30.416] 2025-08-20 15:26:30,416 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:26:30.456] 2025-08-20 15:26:30,456 - mcp_embedding_manager - INFO - FAISS index loaded
[15:26:30.456] 2025-08-20 15:26:30,456 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:26:30.456] 2025-08-20 15:26:30,456 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:26:30.459] [INFO] Tool embedding index loaded successfully
[15:26:30.460] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:26:30.461] [INFO] Operation semantic index initialized
[15:26:30.461] 
[15:26:30.461] [TURN 1/10]
[15:26:30.461] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:33.689] 2025-08-20 15:26:33,688 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:33.693]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[15:26:33.693] [ASSISTED] Task received 5 format helps, final result: failure
[15:26:33.695] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:26:33.695] [AI_DEBUG] 测试失败，准备调用AI分类
[15:26:33.695] [AI_DEBUG] 生成的txt_content长度: 17502
[15:26:33.695] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:26:33.695]   - use_ai_classification=True
[15:26:33.695]   - ai_classifier=True
[15:26:33.695]   - txt_content_len=17502
[15:26:33.695]   - task_model=qwen2.5-3b-instruct
[15:26:33.695] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:26:33.696] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:26:33.714] 2025-08-20 15:26:33,714 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[15:26:33.714] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[15:26:33.714] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:26:33.714] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[15:26:33.714] [MCPEmbeddingManager] Reusing existing singleton instance (id: 12924158896)
[15:26:33.714] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:26:33.714] 2025-08-20 15:26:33,714 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:26:33.742] 2025-08-20 15:26:33,742 - mcp_embedding_manager - INFO - FAISS index loaded
[15:26:33.742] 2025-08-20 15:26:33,742 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:26:33.742] 2025-08-20 15:26:33,742 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:26:33.745] [INFO] Tool embedding index loaded successfully
[15:26:33.746] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:26:33.746] [INFO] Operation semantic index initialized
[15:26:33.746] 
[15:26:33.746] [TURN 1/10]
[15:26:33.747] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:34.547] 2025-08-20 15:26:34,546 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:34.550]   [INFO] Tool info request: network_fetcher
[15:26:34.550] 
[15:26:34.550] [TURN 9/10]
[15:26:34.551] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:34.785] 2025-08-20 15:26:34,784 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:34.785]   [SEARCH] Query: file_operations_reader
[15:26:34.785] 
[15:26:34.785] [TURN 2/10]
[15:26:34.799] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:35.381] 2025-08-20 15:26:35,381 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:35.382]   [SEARCH] Query: file reader writer
[15:26:35.382] 
[15:26:35.382] [TURN 2/10]
[15:26:35.383] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:35.759] 2025-08-20 15:26:35,759 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:35.760]   [INFO] Tool info request: data_processing_validator
[15:26:35.760] 
[15:26:35.760] [TURN 10/10]
[15:26:35.761] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:36.139] 2025-08-20 15:26:36,139 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[15:26:36.139] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"22a4f7f3-6ca6-9da8-b92d-7e1298df20e7"}, traceId: 213e007317557287959228404ee6f2'}
[15:26:36.139] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[15:26:36.324] 2025-08-20 15:26:36,324 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:36.326]   [INFO] Tool info request: file_operations_reader
[15:26:36.326] 
[15:26:36.326] [TURN 3/10]
[15:26:36.329] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:39.497] 2025-08-20 15:26:39,496 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:39.498] 2025-08-20 15:26:39,498 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:39.500]   [SEARCH] Query: data_processing_filter
[15:26:39.500] 
[15:26:39.500] [TURN 4/10]
[15:26:39.501]   [INFO] Tool info request: data_processing_parser
[15:26:39.503] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:26:39.503] [AI_DEBUG] 测试失败，准备调用AI分类
[15:26:39.503] [AI_DEBUG] 生成的txt_content长度: 18980
[15:26:39.503] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:26:39.503]   - use_ai_classification=True
[15:26:39.503]   - ai_classifier=True
[15:26:39.503]   - txt_content_len=18980
[15:26:39.503]   - task_model=qwen2.5-3b-instruct
[15:26:39.503] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:26:39.513] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:40.406] 2025-08-20 15:26:40,406 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:40.409]   [INFO] Tool info request: file_operations_reader
[15:26:40.409] 
[15:26:40.409] [TURN 3/10]
[15:26:40.409] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:40.856] 2025-08-20 15:26:40,856 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:40.857]   [INFO] Tool info request: data_processing_filter
[15:26:40.857] 
[15:26:40.857] [TURN 5/10]
[15:26:40.857] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:41.809] 2025-08-20 15:26:41,808 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:41.810]   [SEARCH] Query: data_processing_transformer
[15:26:41.811] 
[15:26:41.811] [TURN 4/10]
[15:26:41.811] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:41.968] 2025-08-20 15:26:41,968 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:41.968]   [SEARCH] Query: data_processing_validator
[15:26:41.969] 
[15:26:41.969] [TURN 6/10]
[15:26:41.970] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:46.873] 2025-08-20 15:26:46,870 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:46.874]   [INFO] Tool info request: data_processing_validator
[15:26:46.874] 
[15:26:46.874] [TURN 7/10]
[15:26:46.875] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:46.885] 2025-08-20 15:26:46,885 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:46.887]   [INFO] Tool info request: data_processing_transformer
[15:26:46.887] 
[15:26:46.887] [TURN 5/10]
[15:26:46.894] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:48.282] 2025-08-20 15:26:48,282 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:48.284]   [SEARCH] Query: data_processing_aggregator
[15:26:48.286] 
[15:26:48.286] [TURN 8/10]
[15:26:48.289] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:48.466] 2025-08-20 15:26:48,465 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:48.468]   [SEARCH] Query: data_processing_filter
[15:26:48.468] 
[15:26:48.468] [TURN 6/10]
[15:26:48.469] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:51.210] 2025-08-20 15:26:51,209 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:51.212]   [INFO] Tool info request: data_processing_filter
[15:26:51.212] 
[15:26:51.212] [TURN 7/10]
[15:26:51.213] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:52.138] 2025-08-20 15:26:52,138 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:52.142]   [INFO] Tool info request: data_processing_aggregator
[15:26:52.144] 
[15:26:52.144] [TURN 9/10]
[15:26:52.145] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:53.052] 2025-08-20 15:26:53,051 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:53.053]   [SEARCH] Query: data_processing_validator
[15:26:53.054] 
[15:26:53.054] [TURN 8/10]
[15:26:53.055] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:53.862] 2025-08-20 15:26:53,862 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:53.865]   [SEARCH] Query: computation_analyzer
[15:26:53.865] 
[15:26:53.865] [TURN 10/10]
[15:26:53.869] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:57.437] 2025-08-20 15:26:57,436 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:57.439]   [INFO] Tool info request: data_processing_validator
[15:26:57.439] 
[15:26:57.440] [TURN 9/10]
[15:26:57.440] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:26:58.095] 2025-08-20 15:26:58,095 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:58.096]   [INFO] Tool info request: computation_analyzer
[15:26:58.099] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:26:58.099] [AI_DEBUG] 测试失败，准备调用AI分类
[15:26:58.099] [AI_DEBUG] 生成的txt_content长度: 29877
[15:26:58.099] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:26:58.099]   - use_ai_classification=True
[15:26:58.099]   - ai_classifier=True
[15:26:58.099]   - txt_content_len=29877
[15:26:58.099]   - task_model=qwen2.5-3b-instruct
[15:26:58.099] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:26:59.386] 2025-08-20 15:26:59,385 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:26:59.387]   [SEARCH] Query: computation_analyzer
[15:26:59.388] 
[15:26:59.388] [TURN 10/10]
[15:26:59.392] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[15:27:03.307] 2025-08-20 15:27:03,307 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:27:03.309]   [INFO] Tool info request: computation_analyzer
[15:27:03.310] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:27:03.310] [AI_DEBUG] 测试失败，准备调用AI分类
[15:27:03.311] [AI_DEBUG] 生成的txt_content长度: 30119
[15:27:03.311] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:27:03.311]   - use_ai_classification=True
[15:27:03.311]   - ai_classifier=True
[15:27:03.311]   - txt_content_len=30119
[15:27:03.311]   - task_model=qwen2.5-3b-instruct
[15:27:03.311] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:27:03.313] Progress: 10/10 (Success: 1)
[15:27:03.314] 
[15:27:03.314] [INFO] Batch writing 10 records to database (qwen2.5-3b-instruct:10)
[15:27:03.314] 2025-08-20 15:27:03,314 - batch_test_runner - INFO - Batch writing 10 records to database (qwen2.5-3b-instruct:10)
[15:27:03.314] [ERROR] add_test_result_with_classification失败: 'ParquetCumulativeManager' object has no attribute '_classify_error_message'
[15:27:03.319] Traceback (most recent call last):
[15:27:03.320]   File "/Users/ruichengao/WorkflowBench/scale_up/scale_up/parquet_cumulative_manager.py", line 380, in add_test_result_with_classification
[15:27:03.320]     error_type = self._classify_error_message(record.error_message)
[15:27:03.320]                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[15:27:03.320] AttributeError: 'ParquetCumulativeManager' object has no attribute '_classify_error_message'
[15:27:03.320] [INFO] Successfully wrote 10/10 records (qwen2.5-3b-instruct:10)
[15:27:03.320] 2025-08-20 15:27:03,320 - batch_test_runner - INFO - Successfully wrote 10/10 records (qwen2.5-3b-instruct:10)
[15:27:03.321] [INFO] 数据已同步到Parquet存储
[15:27:03.321] 2025-08-20 15:27:03,321 - batch_test_runner - INFO - Database saved successfully
[15:27:03.321] 2025-08-20 15:27:03,321 - batch_test_runner - INFO - ============================================================
[15:27:03.321] 2025-08-20 15:27:03,321 - batch_test_runner - INFO - Batch test completed at 2025-08-20T15:27:03.321657
[15:27:03.321] 2025-08-20 15:27:03,321 - batch_test_runner - INFO - Summary:
[15:27:03.321] 2025-08-20 15:27:03,321 - batch_test_runner - INFO -   - Total tests: 10
[15:27:03.321] 2025-08-20 15:27:03,321 - batch_test_runner - INFO -   - Successful: 1
[15:27:03.321] 2025-08-20 15:27:03,321 - batch_test_runner - INFO -   - Failed: 9
[15:27:03.321] 2025-08-20 15:27:03,321 - batch_test_runner - INFO -   - Success rate: 10.0%
[15:27:03.321] 2025-08-20 15:27:03,321 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250820_152504.log
[15:27:03.321] 2025-08-20 15:27:03,321 - batch_test_runner - INFO - ============================================================
[15:27:03.322] 
[15:27:03.322] ✅ 批测试完成
[15:27:03.322]    成功: 1/10
[15:27:03.322]    失败: 9/10
[15:27:03.322] 
[15:27:03.322] 📤 最终保存10个测试结果...
[15:27:03.323] [DEBUG] 创建新的manager实例: key=True_
[15:27:03.449] [INFO] 已将 5 个汇总写入Parquet
[15:27:03.449] [INFO] 刷新缓存到磁盘 (已累积10个结果)
[15:27:03.449] ✅ 已保存 10 个测试结果到数据库
[15:27:03.528] [INFO] 刷新manager缓存: key=True_

==================================================
分片 qwen2.5-3b-instruct_easy_key0 完成
退出码: 0
总行数: 979
运行时间: 125.1秒
时间: 2025-08-20T15:27:05.089750
