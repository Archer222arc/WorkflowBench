2025-08-28 00:51:49,911 - INFO - 初始化实例池: 17个实例 (2个Azure + 6个IdealLab)
2025-08-28 00:51:49,911 - INFO - ResultCollector初始化，临时目录: temp_results
2025-08-28 00:51:49,911 - INFO - ResultAggregator初始化
2025-08-28 00:51:49,911 - INFO - 🆕 启用ResultCollector模式，支持零冲突并发
2025-08-28 00:51:49,911 - INFO - 调试日志目录: logs/debug_ultra_20250828_005048
2025-08-28 00:51:49,912 - INFO - [DEBUG] 开始调试模式运行
2025-08-28 00:51:49,912 - INFO - [DEBUG] 参数: args=(), kwargs={'model': 'qwen2.5-72b-instruct', 'prompt_types': 'flawed_logical_inconsistency,flawed_semantic_drift', 'difficulty': 'easy', 'task_types': 'all', 'num_instances': 20, 'max_workers': 1, 'tool_success_rate': 0.8, 'rate_mode': 'fixed', 'silent': False}
2025-08-28 00:51:49,912 - INFO - 
🔥 启动超高并行测试
2025-08-28 00:51:49,912 - INFO -    模型: qwen2.5-72b-instruct
2025-08-28 00:51:49,912 - INFO -    Prompt类型: flawed_logical_inconsistency,flawed_semantic_drift
2025-08-28 00:51:49,912 - INFO -    难度: easy
2025-08-28 00:51:49,912 - INFO -    实例数: 20
2025-08-28 00:51:49,912 - INFO -    速率模式: fixed
2025-08-28 00:51:49,912 - INFO - 🎯 使用qwen智能分片策略: qwen2.5-72b-instruct
2025-08-28 00:51:49,912 - INFO - Qwen 5.3模式: qwen2.5-72b-instruct的logic_defects使用key2
2025-08-28 00:51:49,912 - INFO - 📊 创建了 1 个并行分片
2025-08-28 00:51:49,912 - INFO - [DEBUG] 启动分片 qwen2.5-72b-instruct_easy_logic_defects_key2，包含模型: qwen2.5-72b-instruct
2025-08-28 00:51:49,912 - INFO -   IdealLab模型 qwen2.5-72b-instruct 强制 max_workers=1（严格限流）
2025-08-28 00:51:49,912 - INFO -    传递STORAGE_FORMAT=json给子进程
2025-08-28 00:51:49,915 - INFO - [DEBUG] 分片 qwen2.5-72b-instruct_easy_logic_defects_key2 日志: logs/debug_ultra_20250828_005048/qwen2_5_72b_instruct_560e_005149_912_p95865_003_qwen2_5_72b_instruct_easy_logic_defects_key2.log
2025-08-28 00:51:49,915 - INFO - [DEBUG] 运行命令: python -u smart_batch_runner.py --model qwen2.5-72b-instruct --deployment qwen-key2 --prompt-types flawed_logical_inconsistency,flawed_semantic_drift --difficulty easy --task-types all --num-instances 20 --max-workers 1 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50 --prompt-parallel
2025-08-28 00:51:49,931 - INFO - 🚀 第一个分片 qwen2.5-72b-instruct_easy_logic_defects_key2 立即启动
2025-08-28 00:51:49,932 - INFO - ⏳ 并发等待 1 个分片完成...
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] /Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/nn/modules/transformer.py:20: UserWarning: Failed to initialize NumPy: _ARRAY_API not found (Triggered internally at /Users/runner/work/pytorch/pytorch/pytorch/torch/csrc/utils/tensor_numpy.cpp:84.)
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] 策略: 2个prompt types使用不同API keys并行
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x7fb78fe0d4b0>
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x7fb798a230f0>
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [OperationEmbeddingIndex] Initializing with unified API client manager
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [OperationEmbeddingIndex] Initializing with unified API client manager
2025-08-28 00:51:55,327 - INFO - [DEBUG] 分片 qwen2.5-72b-instruct_easy_logic_defects_key2: 100 行输出，运行 5.4秒
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [MCPEmbeddingManager] Initializing with unified API client manager[INFO] Operation semantic index initialized
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [WARNING] Embedding manager exists but has no embeddings
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [WARNING] Embedding manager exists but has no embeddings
2025-08-28 00:51:59,461 - INFO - [DEBUG] 分片 qwen2.5-72b-instruct_easy_logic_defects_key2: 200 行输出，运行 9.5秒
2025-08-28 00:52:02,578 - INFO - [DEBUG] 分片 qwen2.5-72b-instruct_easy_logic_defects_key2: 300 行输出，运行 12.6秒
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] 2025-08-28 00:52:02,583 - result_merger - WARNING - 另一个合并器已在运行 (PID: -1)
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [INFO] Initializing LLM client using APIClientManager
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] 2025-08-28 00:52:02,584 - result_merger - WARNING - 另一个合并器已在运行 (PID: -1)
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [INFO] Initializing LLM client using APIClientManager
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
2025-08-28 00:52:14,128 - INFO - [DEBUG] 分片 qwen2.5-72b-instruct_easy_logic_defects_key2: 400 行输出，运行 24.2秒
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ab799de4-bcd8-9445-b11d-8584148cd884"}, traceId: 213e06b717563567338136173e79a7'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a5d359bd-addc-91db-96db-66a429b0640d"}, traceId: 213e06b717563567353026179e79a7'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8df05dfa-30cf-9077-909a-dff5902f0e46"}, traceId: 213e069217563567363322509e837b'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d3e10519-faed-992c-a54a-63a2f5d2a0d3"}, traceId: 213e069217563567376862518e837b'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3320d7fc-8293-9919-855c-34b68d0e8862"}, traceId: 213e069217563567403282529e837b'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b65d1201-29c0-99bb-9041-62b824c4dd53"}, traceId: 213e06b717563567413976215e79a7'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3a2e7749-b1b7-978e-8115-0d9710179153"}, traceId: 213e06b717563567439186227e79a7'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b39af745-5fdd-9653-a31c-51f8ce7b6860"}, traceId: 213e06b717563567456566234e79a7'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7f9bb1c9-7aa4-9541-8013-c46c92b5469c"}, traceId: 213e069217563567463752552e837b'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3f34ee32-44a7-9755-974b-a91c742e509a"}, traceId: 213e06b717563567477236242e79a7'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3187ae63-282c-9f7b-9e05-59114e0fd2f9"}, traceId: 213e069217563567504602570e837b'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e6d7fb09-922b-97da-88c9-e6a945d76151"}, traceId: 213e06b717563567526736267e79a7'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9f973bdf-d32b-9637-8185-b00e61a702da"}, traceId: 213e06b717563567554286278e79a7'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e16e3ae4-df80-9696-9967-a48c27578314"}, traceId: 213e06b717563567568916282e79a7'}
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
2025-08-28 00:52:40,025 - INFO - [DEBUG] 分片 qwen2.5-72b-instruct_easy_logic_defects_key2: 500 行输出，运行 50.1秒
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[分片qwen2.5-72b-instruct_easy_logic_defects_key2] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a80dead2-c6c3-9074-a963-c86b43108999"}, traceId: 213e00cd17563567608724656e96f4'}
./run_systematic_test_final.sh: line 3725: 95865 Terminated: 15          USE_RESULT_COLLECTOR='true' STORAGE_FORMAT='json' KMP_DUPLICATE_LIB_OK=TRUE python -u ultra_parallel_runner_debug.py --model qwen2.5-72b-instruct --prompt-types flawed_logical_inconsistency,flawed_semantic_drift --difficulty easy --task-types all --num-instances 20 --rate-mode fixed --max-workers 1 --debug-log-dir logs/debug_ultra_20250828_005048
