===== 分片 qwen2.5-72b-instruct_very_easy_key1 =====
时间: 2025-08-27T17:43:35.100592
模型: qwen2.5-72b-instruct
实例: qwen-key1
命令: python -u smart_batch_runner.py --model qwen2.5-72b-instruct --deployment qwen-key1 --prompt-types optimal --difficulty very_easy --task-types all --num-instances 10 --max-workers 2 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=json
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[17:43:37.345] 
[17:43:37.345] A module that was compiled using NumPy 1.x cannot be run in
[17:43:37.345] NumPy 2.2.6 as it may crash. To support both 1.x and 2.x
[17:43:37.345] versions of NumPy, modules must be compiled with NumPy 2.0.
[17:43:37.345] Some module may need to rebuild instead e.g. with 'pybind11>=2.12'.
[17:43:37.345] 
[17:43:37.345] If you are a user of the module, the easiest solution will be to
[17:43:37.345] downgrade to 'numpy<2' or try to upgrade the affected module.
[17:43:37.345] We expect that some modules will need time to support NumPy 2.
[17:43:37.345] 
[17:43:37.345] Traceback (most recent call last):  File "/Users/ruicheng/Documents/GitHub/WorkflowBench/smart_batch_runner.py", line 21, in <module>
[17:43:37.345]     from batch_test_runner import BatchTestRunner, TestTask
[17:43:37.345]   File "/Users/ruicheng/Documents/GitHub/WorkflowBench/batch_test_runner.py", line 26, in <module>
[17:43:37.345]     from mdp_workflow_generator import MDPWorkflowGenerator
[17:43:37.345]   File "/Users/ruicheng/Documents/GitHub/WorkflowBench/mdp_workflow_generator.py", line 17, in <module>
[17:43:37.345]     import torch
[17:43:37.345]   File "/Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/__init__.py", line 1477, in <module>
[17:43:37.345]     from .functional import *  # noqa: F403
[17:43:37.345]   File "/Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/functional.py", line 9, in <module>
[17:43:37.345]     import torch.nn.functional as F
[17:43:37.345]   File "/Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/nn/__init__.py", line 1, in <module>
[17:43:37.345]     from .modules import *  # noqa: F403
[17:43:37.345]   File "/Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/nn/modules/__init__.py", line 35, in <module>
[17:43:37.346]     from .transformer import TransformerEncoder, TransformerDecoder, \
[17:43:37.346]   File "/Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/nn/modules/transformer.py", line 20, in <module>
[17:43:37.346]     device: torch.device = torch.device(torch._C._get_default_device()),  # torch.device('cpu'),
[17:43:37.348] /Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/nn/modules/transformer.py:20: UserWarning: Failed to initialize NumPy: _ARRAY_API not found (Triggered internally at /Users/runner/work/pytorch/pytorch/pytorch/torch/csrc/utils/tensor_numpy.cpp:84.)
[17:43:37.348]   device: torch.device = torch.device(torch._C._get_default_device()),  # torch.device('cpu'),
[17:43:38.312] 2025-08-27 17:43:38,312 - faiss.loader - INFO - Loading faiss.
[17:43:38.351] 2025-08-27 17:43:38,350 - faiss.loader - INFO - Successfully loaded faiss.
[17:43:39.095] [INFO] 使用JSON存储格式
[17:43:39.096] [INFO] 使用JSON存储格式
[17:43:39.666] [INFO] 使用JSON存储格式
[17:43:39.668] [INFO] 使用JSON存储格式
[17:43:39.669] 
[17:43:39.669] ============================================================
[17:43:39.669] 智能批测试: qwen2.5-72b-instruct (idealab)
[17:43:39.669] Prompt types: ['optimal']
[17:43:39.669] 难度: very_easy
[17:43:39.669] 目标: 每种配置 10 个实例
[17:43:39.669] ============================================================
[17:43:39.671] ○ simple_task         :   0/ 10 已完成 (需要补充 10 个)
[17:43:39.672] ○ basic_task          :   1/ 10 已完成 (需要补充 9 个)
[17:43:39.673] ○ data_pipeline       :   0/ 10 已完成 (需要补充 10 个)
[17:43:39.675] ○ api_integration     :   0/ 10 已完成 (需要补充 10 个)
[17:43:39.676] ○ multi_stage_pipeline:   0/ 10 已完成 (需要补充 10 个)
[17:43:39.676] 
[17:43:39.676] ⏳ 需要运行 49 个新测试
[17:43:39.676] 
[17:43:39.676] ▶ 准备 simple_task (10 个实例)...
[17:43:39.676] 
[17:43:39.676] ▶ 准备 basic_task (9 个实例)...
[17:43:39.676] 
[17:43:39.676] ▶ 准备 data_pipeline (10 个实例)...
[17:43:39.676] 
[17:43:39.676] ▶ 准备 api_integration (10 个实例)...
[17:43:39.676] 
[17:43:39.676] ▶ 准备 multi_stage_pipeline (10 个实例)...
[17:43:39.676] 
[17:43:39.676] ▶ 开始执行 49 个测试...
[17:43:39.676] 📊 自适应checkpoint_interval: 20
[17:43:39.676] 📦 批量提交模式：每20个测试保存一次
[17:43:39.676] ⚠️  检测到idealab API，调整并发: workers=2, qps=None
[17:43:39.676] 2025-08-27 17:43:39,676 - smart_result_collector - INFO - 自动保存线程已启动
[17:43:39.676] 2025-08-27 17:43:39,676 - smart_result_collector - INFO - SmartResultCollector初始化完成
[17:43:39.676] 2025-08-27 17:43:39,676 - smart_result_collector - INFO -   - 临时目录: temp_results
[17:43:39.676] 2025-08-27 17:43:39,676 - smart_result_collector - INFO -   - 内存阈值: 20
[17:43:39.677] 2025-08-27 17:43:39,676 - smart_result_collector - INFO -   - 时间阈值: 300秒
[17:43:39.677] 2025-08-27 17:43:39,676 - smart_result_collector - INFO -   - 自动保存: 60秒
[17:43:39.677] 2025-08-27 17:43:39,676 - smart_result_collector - INFO -   - 自适应阈值: True
[17:43:39.677] 2025-08-27 17:43:39,676 - result_collector_adapter - INFO - ✅ 使用SmartResultCollector
[17:43:39.677] 2025-08-27 17:43:39,676 - result_collector_adapter - INFO - AdaptiveResultCollector初始化完成，使用: smart
[17:43:39.677] 🧠 启用SmartResultCollector模式，智能数据管理
[17:43:39.678] 2025-08-27 17:43:39,678 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[17:43:39.721] 2025-08-27 17:43:39,720 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[17:43:39.721] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x7fe3359db960>
[17:43:39.722] 2025-08-27 17:43:39,721 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[17:43:39.722] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=False, use_ai_classification=True, checkpoint_interval=20
[17:43:39.722] 2025-08-27 17:43:39,721 - batch_test_runner - INFO - ============================================================
[17:43:39.722] 2025-08-27 17:43:39,721 - batch_test_runner - INFO - Batch test runner initialized
[17:43:39.722] 2025-08-27 17:43:39,721 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[17:43:39.722] 2025-08-27 17:43:39,721 - batch_test_runner - INFO - Log file: logs/batch_test_20250827_174339.log
[17:43:39.722] 2025-08-27 17:43:39,721 - batch_test_runner - INFO - ============================================================
[17:43:39.722] 2025-08-27 17:43:39,721 - batch_test_runner - INFO - Running 49 tests with 2 workers, QPS limit: None
[17:43:39.722] 2025-08-27 17:43:39,721 - batch_test_runner - INFO - Initializing test components...
[17:43:41.596] 2025-08-27 17:43:41,596 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[17:43:41.596] 2025-08-27 17:43:41,596 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[17:43:41.596] 2025-08-27 17:43:41,596 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[17:43:41.597] [DEBUG] Creating new ToolCapabilityManager instance
[17:43:41.597] [OperationEmbeddingIndex] Initializing with unified API client manager
[17:43:41.597] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[17:43:41.598] 2025-08-27 17:43:41,597 - api_client_manager - INFO - Loaded configuration from config/config.json
[17:43:41.616] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[17:43:41.616] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[17:43:41.616] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[17:43:42.816] 2025-08-27 17:43:42,813 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:43:42.845] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[17:43:42.920] [INFO] Loaded 4150 embeddings from persistent cache
[17:43:42.921] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[17:43:42.921] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[17:43:42.923] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[17:43:42.923] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[17:43:42.931] [INFO] Successfully loaded FAISS index with dimension 3072
[17:43:42.932] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[17:43:42.932] [INFO] Loaded 15 operations with dimension 3072
[17:43:42.932] [INFO] Successfully loaded cached index
[17:43:42.935] [INFO] Operation semantic index initialized
[17:43:42.946] [INFO] Using device: cpu
[17:43:42.947] [INFO] Initialized tool success tracking attributes
[17:43:42.947] [INFO] Initializing embedding manager for enhanced tool selection
[17:43:42.948] [MCPEmbeddingManager] Creating new singleton instance
[17:43:42.948] [MCPEmbeddingManager] Initializing with unified API client manager
[17:43:42.959] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[17:43:42.959] [MCPEmbeddingManager] Client initialized successfully
[17:43:42.959] 2025-08-27 17:43:42,959 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[17:43:43.316] 2025-08-27 17:43:43,315 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[17:43:44.836] 2025-08-27 17:43:44,835 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[17:43:44.836] 2025-08-27 17:43:44,835 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[17:43:44.949] 2025-08-27 17:43:44,949 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[17:43:45.119] 2025-08-27 17:43:45,119 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[17:43:47.481] 2025-08-27 17:43:47,472 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[17:43:47.481] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[17:43:47.482] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[17:43:47.485] 2025-08-27 17:43:47,482 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:43:47.607] 2025-08-27 17:43:47,606 - mcp_embedding_manager - INFO - FAISS index loaded
[17:43:47.607] 2025-08-27 17:43:47,607 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:43:47.607] 2025-08-27 17:43:47,607 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:43:47.628] [SUCCESS] Loaded 30 tool embeddings
[17:43:47.628] 2025-08-27 17:43:47,628 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[17:43:47.628] [SUCCESS] Embedding manager initialized with 30 tools
[17:43:47.628] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[17:43:47.628] [INFO] Loading full MCP protocol registry...
[17:43:47.629] 2025-08-27 17:43:47,629 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:43:47.630] [INFO] Loaded full tool registry with 30 tools
[17:43:47.630] 2025-08-27 17:43:47,630 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[17:43:47.630] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[17:43:47.630] [INFO] Embedding manager ready with 30 tools
[17:43:47.630] [WARNING] Embedding manager exists but has no embeddings
[17:43:47.630] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[17:43:47.635] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[17:43:47.635] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[17:43:47.635] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:43:47.635] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[17:43:47.635] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[17:43:47.635] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:43:47.635] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:43:47.635] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:43:47.635] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:43:47.635] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[17:43:47.635] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:43:47.635] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:43:47.635] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[17:43:47.635] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[17:43:47.635] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[17:43:47.635] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:43:47.635] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:43:47.635] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:43:47.635] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[17:43:47.635] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[17:43:47.635] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[17:43:47.635] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[17:43:47.636] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[17:43:47.636] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[17:43:47.636] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[17:43:47.636] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[17:43:47.636] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[17:43:47.636] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[17:43:47.636] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[17:43:47.636] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[17:43:47.636] 2025-08-27 17:43:47,636 - mdp_workflow_generator - INFO - Loaded 30 tools
[17:43:47.636] [INFO] Setting default state_dim based on loaded tools
[17:43:47.636] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[17:43:47.636] 2025-08-27 17:43:47,636 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[17:43:47.636] [INFO] Setting default action_dim based on loaded tools
[17:43:47.636] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[17:43:47.636] 2025-08-27 17:43:47,636 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[17:43:47.636] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[17:43:47.636] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[17:43:47.636] [INFO] ⚡ Will use pre-generated workflows or random policy
[17:43:47.636] 2025-08-27 17:43:47,636 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[17:43:47.636] [INFO] Initializing TaskManager...
[17:43:53.489] 2025-08-27 17:43:53,488 - unified_training_manager - INFO - Using device: cpu
[17:43:53.981] 2025-08-27 17:43:53,979 - unified_training_manager - INFO - Task filtering results:
[17:43:53.983] 2025-08-27 17:43:53,980 - unified_training_manager - INFO -   Total: 5040 -> 5040
[17:43:53.983] 2025-08-27 17:43:53,980 - unified_training_manager - INFO -   simple_task: 320 -> 320
[17:43:53.983] 2025-08-27 17:43:53,980 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[17:43:53.983] 2025-08-27 17:43:53,980 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[17:43:53.983] 2025-08-27 17:43:53,980 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[17:43:53.983] 2025-08-27 17:43:53,980 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[17:43:53.983] 2025-08-27 17:43:53,980 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[17:43:53.988] 2025-08-27 17:43:53,987 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[17:43:53.988] [TaskManager] Difficulty level 'easy': 1096 tasks
[17:43:53.988] [TaskManager] Difficulty level 'very_easy': 856 tasks
[17:43:53.988] [TaskManager] Difficulty level 'medium': 1136 tasks
[17:43:53.988] [TaskManager] Difficulty level 'hard': 1096 tasks
[17:43:53.988] [TaskManager] Difficulty level 'very_hard': 856 tasks
[17:43:54.005] [INFO] TaskManager initialized with 5040 tasks
[17:43:54.005] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[17:43:54.005] [INFO] Initializing ToolCallVerifier...
[17:43:54.016] [INFO] ToolCallVerifier initialized with 30 tools
[17:43:54.023] [INFO] Output tools identified: 1
[17:43:54.023] [INFO] Component initialization status:
[17:43:54.023]   - embedding_manager: initialized
[17:43:54.023]   - task_manager: initialized
[17:43:54.023]   - output_verifier: initialized
[17:43:54.023]   - tool_capability_manager: initialized
[17:43:54.023]   - tool_success_rates: initialized with 0 entries
[17:43:54.023] [INFO] MDPWorkflowGenerator initialization complete
[17:43:54.023] 2025-08-27 17:43:54,017 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[17:43:54.024] 2025-08-27 17:43:54,017 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[17:43:54.024] 2025-08-27 17:43:54,018 - batch_test_runner - INFO -   - task_manager: ✓
[17:43:54.024] 2025-08-27 17:43:54,018 - batch_test_runner - INFO -   - output_verifier: ✓
[17:43:54.024] 2025-08-27 17:43:54,018 - batch_test_runner - INFO -   - embedding_manager: ✓
[17:43:54.024] 2025-08-27 17:43:54,018 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[17:43:54.024] 2025-08-27 17:43:54,018 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[17:43:54.024] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:43:54.024] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:43:54.024] [FlawedWorkflowGenerator] Initialized with 30 tools
[17:43:54.024] [FlawedWorkflowGenerator] RAG support: disabled
[17:43:54.073] 2025-08-27 17:43:54,073 - focused_ai_classifier - INFO - Focused AI classifier initialized with gpt-5-nano (parameter-filtered)
[17:43:54.073] [INFO] Enhanced manager: AI错误分类系统已启用
[17:43:54.074] [INFO] 检测到并发环境，使用安全存储模式（ResultCollector）
[17:43:54.076] 2025-08-27 17:43:54,076 - result_collector - INFO - ResultCollector初始化，临时目录: temp_results
[17:43:54.076] 2025-08-27 17:43:54,076 - result_merger - INFO - ResultMerger初始化完成
[17:43:54.077] 2025-08-27 17:43:54,077 - result_merger - WARNING - 另一个合并器已在运行 (PID: -1)
[17:43:54.077] [INFO] 后台合并进程已启动（每10秒合并一次）
[17:43:54.077] DEBUG: Checking generator attributes
[17:43:54.077]   - has tool_capabilities: True
[17:43:54.077]   - has tool_capability_manager: True
[17:43:54.077]   - has task_manager: True
[17:43:54.077] [INFO] Loaded 30 tools from generator
[17:43:54.077] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[17:43:54.077] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:43:54.077] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:43:54.077] [INFO] Initializing LLM client using APIClientManager
[17:43:54.097] [INFO] Using Azure OpenAI client
[17:43:54.098] [DEBUG] Checking if generator has tool_capability_manager attribute
[17:43:54.098] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[17:43:54.098] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:43:54.098] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:43:54.098] [FlawedWorkflowGenerator] Initialized with 30 tools
[17:43:54.098] [FlawedWorkflowGenerator] RAG support: enabled
[17:43:54.098] [INFO] FlawedWorkflowGenerator initialized successfully
[17:43:54.098] [INFO] Initializing StableScorer for Phase 2 scoring
[17:43:54.098] <tool_capability_manager.ToolCapabilityManager object at 0x7fe356ff5920>
[17:43:54.098] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:43:54.098] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:43:54.098] [INFO] Loaded tool success history for 0 tools
[17:43:54.098] [INFO] StableScorer initialized with semantic capability
[17:43:54.098] [INFO] StableScorer initialized successfully
[17:43:54.098] [INFO] Loading task instances...
[17:43:54.098] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[17:43:54.118] [INFO] Loaded 630 task instances
[17:43:54.118] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[17:43:54.119] 2025-08-27 17:43:54,119 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[17:43:54.119] 2025-08-27 17:43:54,119 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[17:44:00.890] 2025-08-27 17:44:00,888 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[17:44:00.904] 2025-08-27 17:44:00,890 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[17:44:01.168] 2025-08-27 17:44:01,168 - batch_test_runner - INFO - Initialization complete
[17:44:02.178] 2025-08-27 17:44:02,170 - batch_test_runner - INFO - Starting batch test with 49 tasks, 2 workers
[17:44:02.183] 2025-08-27 17:44:02,181 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[17:44:02.192] 2025-08-27 17:44:02,191 - batch_test_runner - INFO - Loading task library for difficulty: very_easy
[17:44:02.216] 2025-08-27 17:44:02,216 - batch_test_runner - INFO - Loading task library for difficulty: very_easy
[17:44:02.229] 2025-08-27 17:44:02,229 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_very_easy_with_workflows.json
[17:44:02.229] 2025-08-27 17:44:02,229 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_very_easy_with_workflows.json
[17:44:02.230] 2025-08-27 17:44:02,230 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[17:44:02.230] 2025-08-27 17:44:02,230 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[17:44:46.880] 2025-08-27 17:44:46,870 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[17:44:46.896] 2025-08-27 17:44:46,871 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[17:44:48.839] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:44:49.342] 2025-08-27 17:44:49,334 - smart_model_router - INFO - Using idealab for qwen2.5-72b-instruct
[17:44:49.347] 2025-08-27 17:44:49,346 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[17:44:49.348] 2025-08-27 17:44:49,347 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[17:44:50.443] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:44:50.562] 2025-08-27 17:44:50,553 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:44:50.562] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:44:50.562] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:44:50.562] 2025-08-27 17:44:50,556 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:44:50.579] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:44:50.581] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:44:50.587] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:44:50.590] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:44:50.592] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:44:50.597] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:44:50.599] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:44:50.599] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:44:50.599] 2025-08-27 17:44:50,598 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:44:50.600] 2025-08-27 17:44:50,600 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:44:51.887] 2025-08-27 17:44:51,856 - mcp_embedding_manager - INFO - FAISS index loaded
[17:44:51.888] 2025-08-27 17:44:51,886 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:44:51.888] 2025-08-27 17:44:51,886 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:44:51.926] 2025-08-27 17:44:51,876 - mcp_embedding_manager - INFO - FAISS index loaded
[17:44:51.926] 2025-08-27 17:44:51,926 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:44:51.926] 2025-08-27 17:44:51,926 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:44:51.966] [INFO] Tool embedding index loaded successfully
[17:44:51.972] [INFO] Tool embedding index loaded successfully
[17:44:51.995] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:44:51.999] [INFO] Operation semantic index initialized
[17:44:52.007] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:44:52.008] [INFO] Operation semantic index initialized
[17:44:52.038] 
[17:44:52.038] [TURN 1/10]
[17:44:52.038] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:44:52.041] 
[17:44:52.041] [TURN 1/10]
[17:44:52.061] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:44:54.302] 2025-08-27 17:44:54,278 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:44:54.319] 2025-08-27 17:44:54,286 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:44:55.259]   [SEARCH] Query: data validation parser
[17:44:55.295]   [SEARCH] Query: data validation parser
[17:44:55.320] 
[17:44:55.320] [TURN 2/10]
[17:44:55.321] 
[17:44:55.321] [TURN 2/10]
[17:44:55.323] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct[LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:44:55.330] 
[17:44:56.607] 2025-08-27 17:44:56,547 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:44:56.622] 2025-08-27 17:44:56,607 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:44:56.778] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b44a7e0c-0967-9b78-9643-b154ab8e3d29"}, traceId: 213e065e17563310958124562e7eed'}
[17:44:56.786] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:44:56.797]   [INFO] Tool info request: data_processing_parser
[17:44:56.808] 
[17:44:56.812] [TURN 3/10]
[17:44:56.817] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:44:57.840] 2025-08-27 17:44:57,764 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:44:57.989]   [EARLY_EXIT] No actions taken, continuing...
[17:44:57.989] 
[17:44:57.989] [TURN 4/10]
[17:44:57.996] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:44:59.242] 2025-08-27 17:44:59,236 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:44:59.279]   [EARLY_EXIT] No actions taken, continuing...
[17:44:59.280] 
[17:44:59.280] [TURN 5/10]
[17:44:59.295] 2025-08-27 17:44:59,290 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:44:59.303] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:44:59.325]   [INFO] Tool info request: data_processing_validator
[17:44:59.328] 
[17:44:59.328] [TURN 3/10]
[17:44:59.347] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:00.643] 2025-08-27 17:45:00,630 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:00.650] 2025-08-27 17:45:00,637 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:00.835]   [INFO] Tool info request: data_processing_parser
[17:45:00.862]   [EARLY_EXIT] No actions taken, continuing...
[17:45:00.863] 
[17:45:00.863] [TURN 6/10]
[17:45:00.892] 
[17:45:00.892] [TURN 4/10]
[17:45:00.899] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:00.922] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:02.035] 2025-08-27 17:45:02,029 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:02.200] 2025-08-27 17:45:02,200 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:02.218]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:45:02.218] 
[17:45:02.218] [TURN 7/10]
[17:45:02.231]   [EARLY_EXIT] No actions taken, continuing...
[17:45:02.245] 
[17:45:02.246] [TURN 5/10]
[17:45:02.246] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:02.250] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:03.438] 2025-08-27 17:45:03,427 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:03.446] 2025-08-27 17:45:03,427 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:03.663] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6585b7f0-a234-94e4-9899-ec14ea982458"}, traceId: 213e065e17563311025124579e7eed'}
[17:45:03.664] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:45:03.665] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"daa54d2b-4d14-968b-8e44-e8d003d3197c"}, traceId: 213e064717563311025067457e8918'}
[17:45:03.667] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:45:05.655] 2025-08-27 17:45:05,653 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:05.688] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8abb2601-cbe1-9e76-9370-37a7dc037e7f"}, traceId: 213e065e17563311053494583e7eed'}
[17:45:05.689] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:45:06.052] 2025-08-27 17:45:06,043 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:06.114]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:45:06.117] 
[17:45:06.119] [TURN 8/10]
[17:45:06.124] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:07.399] 2025-08-27 17:45:07,380 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:07.482]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:45:07.489] 
[17:45:07.489] [TURN 9/10]
[17:45:07.510] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:07.969] 2025-08-27 17:45:07,969 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:07.975] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c8f848b3-7c18-961d-bd1e-2b146b84a0be"}, traceId: 213e064717563311077087465e8918'}
[17:45:07.975] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:45:08.445] 2025-08-27 17:45:08,444 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:08.625]   [EARLY_EXIT] No actions taken, continuing...
[17:45:08.633] 
[17:45:08.635] [TURN 6/10]
[17:45:08.643] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:09.882] 2025-08-27 17:45:09,847 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:09.958]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:45:09.960] 
[17:45:09.962] [TURN 7/10]
[17:45:09.970] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:10.557] 2025-08-27 17:45:10,552 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:10.605]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:45:10.605] 
[17:45:10.606] [TURN 10/10]
[17:45:10.608] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:11.249] 2025-08-27 17:45:11,247 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:11.301]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:45:11.301] 
[17:45:11.301] [TURN 8/10]
[17:45:11.306] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:11.574] 2025-08-27 17:45:11,573 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:11.584] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ef529db7-494c-9cee-ad74-3a0cd599bc90"}, traceId: 213e064717563311108147467e8918'}
[17:45:11.589] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:45:12.843] 2025-08-27 17:45:12,803 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:12.984]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:45:12.984] 
[17:45:12.984] [TURN 9/10]
[17:45:13.006] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:14.328] 2025-08-27 17:45:14,302 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:14.336] 2025-08-27 17:45:14,334 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:14.494]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:45:14.496] 
[17:45:14.496] [TURN 10/10]
[17:45:14.497]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:45:14.500] [ASSISTED] Task received 5 format helps, final result: failure
[17:45:14.543] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:14.853] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:45:14.853] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:45:14.854] [AI_DEBUG] 生成的txt_content长度: 25349
[17:45:14.855] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:45:14.855]   - use_ai_classification=True
[17:45:14.855]   - ai_classifier=True
[17:45:14.855]   - txt_content_len=25349
[17:45:14.855]   - task_model=qwen2.5-72b-instruct
[17:45:14.855] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:45:14.909] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:45:15.582] 2025-08-27 17:45:15,520 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:45:15.596] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:45:15.599] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:45:15.600] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:45:15.600] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:45:15.601] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:45:15.601] 2025-08-27 17:45:15,583 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:45:15.846] 2025-08-27 17:45:15,843 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:16.138] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8c0030c3-65eb-9788-8961-1d14cd83fd28"}, traceId: 213e065e17563311148954595e7eed'}
[17:45:16.150] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:45:18.309] 2025-08-27 17:45:18,296 - mcp_embedding_manager - INFO - FAISS index loaded
[17:45:18.330] 2025-08-27 17:45:18,304 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:45:18.337] 2025-08-27 17:45:18,305 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:45:18.371] [INFO] Tool embedding index loaded successfully
[17:45:18.392] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:45:18.397] [INFO] Operation semantic index initialized
[17:45:18.430] 
[17:45:18.430] [TURN 1/10]
[17:45:18.432] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:19.067] 2025-08-27 17:45:19,066 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:19.101]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:45:19.102] [ASSISTED] Task received 5 format helps, final result: failure
[17:45:19.547] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:45:19.874] 2025-08-27 17:45:19,867 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:45:19.884] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:45:19.885] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:45:19.887] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:45:19.888] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:45:19.888] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:45:19.889] 2025-08-27 17:45:19,885 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:45:20.715] 2025-08-27 17:45:20,689 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:20.878] 2025-08-27 17:45:20,878 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:45:20.893] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"65a09ea1-97c2-9148-837c-3d95c61fed64"}, traceId: 213e060c17563311197698646e8732'}
[17:45:20.899] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:45:21.160] 2025-08-27 17:45:21,160 - mcp_embedding_manager - INFO - FAISS index loaded
[17:45:21.162] 2025-08-27 17:45:21,160 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:45:21.162] 2025-08-27 17:45:21,160 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:45:21.228] [INFO] Tool embedding index loaded successfully
[17:45:21.264] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:45:21.290] [INFO] Operation semantic index initialized
[17:45:21.294] 
[17:45:21.302] [TURN 1/10]
[17:45:21.324] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:21.332] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:45:21.417] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:45:21.419] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:45:21.425] [AI_DEBUG] 生成的txt_content长度: 26276
[17:45:21.425] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:45:21.425]   - use_ai_classification=True
[17:45:21.425]   - ai_classifier=True
[17:45:21.425]   - txt_content_len=26276
[17:45:21.425]   - task_model=qwen2.5-72b-instruct
[17:45:21.425] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:45:23.208] 2025-08-27 17:45:23,195 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:23.269] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"040c6d5e-e240-9047-89b3-a4d236185494"}, traceId: 213e043117563311223406131e22d4'}
[17:45:23.270] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:45:23.552] 2025-08-27 17:45:23,541 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:23.583] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7a20e1a1-93f2-9847-bc79-0c4bf4468356"}, traceId: 213e060c17563311227128649e8732'}
[17:45:23.583] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:45:25.277] 2025-08-27 17:45:25,274 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:45:25.303] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.9
[17:45:26.410] 2025-08-27 17:45:26,379 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:26.415] 2025-08-27 17:45:26,372 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:26.534]   [SEARCH] Query: data parsing  [SEARCH] Query: data validation parser
[17:45:26.543] 
[17:45:26.586] 
[17:45:26.586] [TURN 2/10]
[17:45:26.625] 
[17:45:26.625] [TURN 2/10]
[17:45:26.631] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct[LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:26.632] 
[17:45:27.224] 2025-08-27 17:45:27,215 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:27.246] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"77ec5754-9c03-966e-bc84-06b34d713dbd"}, traceId: 213e043117563311269026136e22d4'}
[17:45:27.274] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:45:27.881] 2025-08-27 17:45:27,877 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:27.929]   [INFO] Tool info request: data_processing_parser
[17:45:27.932] 
[17:45:27.932] [TURN 3/10]
[17:45:27.975] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:28.727] 2025-08-27 17:45:28,727 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:28.752]   [EARLY_EXIT] No actions taken, continuing...
[17:45:28.754] 
[17:45:28.754] [TURN 4/10]
[17:45:28.754] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:29.494] 2025-08-27 17:45:29,483 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:29.704]   [EARLY_EXIT] No actions taken, continuing...
[17:45:29.707] 
[17:45:29.707] [TURN 3/10]
[17:45:29.707] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:29.842] 2025-08-27 17:45:29,842 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:29.854]   [EARLY_EXIT] No actions taken, continuing...
[17:45:29.854] 
[17:45:29.854] [TURN 5/10]
[17:45:29.860] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:30.132] 2025-08-27 17:45:30,132 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:30.138] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"dc898ccf-f250-9a79-8d37-fd62f26d298e"}, traceId: 213e043117563311298846138e22d4'}
[17:45:30.139] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:45:31.287] 2025-08-27 17:45:31,258 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:31.399]   [EARLY_EXIT] No actions taken, continuing...
[17:45:31.399] 
[17:45:31.399] [TURN 6/10]
[17:45:31.429] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:32.952] 2025-08-27 17:45:32,908 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:32.967] 2025-08-27 17:45:32,913 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:33.165] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7503283f-ee3a-97d1-b893-1df0c57bef6f"}, traceId: 213e060c17563311317278661e8732'}
[17:45:33.212] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:45:33.216]   [EARLY_EXIT] No actions taken, continuing...
[17:45:33.217] 
[17:45:33.217] [TURN 4/10]
[17:45:33.255] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:34.432] 2025-08-27 17:45:34,390 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:34.503] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"37a0ec1b-c35a-95b3-a0be-a57e949114e1"}, traceId: 213e043117563311335906141e22d4'}
[17:45:34.506] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:45:34.791] 2025-08-27 17:45:34,791 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:34.959]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:45:34.959] 
[17:45:34.959] [TURN 7/10]
[17:45:35.028] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:35.943] 2025-08-27 17:45:35,899 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:36.014]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:45:36.024] 
[17:45:36.024] [TURN 8/10]
[17:45:36.024] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:36.762] 2025-08-27 17:45:36,758 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:36.776]   [EARLY_EXIT] No actions taken, continuing...
[17:45:36.777] 
[17:45:36.778] [TURN 5/10]
[17:45:36.783] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:36.977] 2025-08-27 17:45:36,977 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:36.997] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fc63ce7e-73f7-9c35-97bf-c40a76286a91"}, traceId: 213e060c17563311362348664e8732'}
[17:45:36.998] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:45:37.783] 2025-08-27 17:45:37,776 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:37.892]   [EARLY_EXIT] No actions taken, continuing...
[17:45:37.893] 
[17:45:37.893] [TURN 6/10]
[17:45:37.920] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:39.326] 2025-08-27 17:45:39,318 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:39.345] 2025-08-27 17:45:39,326 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:39.516]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:45:39.517] 
[17:45:39.518] [TURN 7/10]
[17:45:39.526]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:45:39.534] 
[17:45:39.535] [TURN 9/10]
[17:45:39.535] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:39.564] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:40.134] 2025-08-27 17:45:40,133 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:40.136] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"84948d81-1423-9544-b4a5-aa010fcde982"}, traceId: 213e060c17563311398768669e8732'}
[17:45:40.136] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:45:40.771] 2025-08-27 17:45:40,759 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:40.945] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f8cd87f9-f164-95cd-a8cf-7fd8fd4f9205"}, traceId: 213e043117563311398626155e22d4'}
[17:45:40.958] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:45:42.482] 2025-08-27 17:45:42,450 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:42.728] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0d4dfe6b-2e55-9c24-bce5-afffeae3d0ef"}, traceId: 213e060c17563311414818671e8732'}
[17:45:42.741] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[17:45:44.146] 2025-08-27 17:45:44,122 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:44.281]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:45:44.281] 
[17:45:44.281] [TURN 8/10]
[17:45:44.310] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:45.321] 2025-08-27 17:45:45,318 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:45.357]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:45:45.357] 
[17:45:45.357] [TURN 9/10]
[17:45:45.370] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:46.337] 2025-08-27 17:45:46,326 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:46.358] 2025-08-27 17:45:46,350 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:46.397] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3a3751ee-f553-9f2c-8a63-53272fa39f99"}, traceId: 213e043117563311455816167e22d4'}
[17:45:46.399] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:45:46.428]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:45:46.431] 
[17:45:46.432] [TURN 10/10]
[17:45:46.442] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:46.947] 2025-08-27 17:45:46,946 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:46.947] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"05a4bc6b-32a3-97a7-9ad1-423bb2fd1896"}, traceId: 213e060c17563311466638675e8732'}
[17:45:46.947] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:45:48.339] 2025-08-27 17:45:48,332 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:48.429]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:45:48.435] 
[17:45:48.437] [TURN 10/10]
[17:45:48.454] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:45:49.595] 2025-08-27 17:45:49,589 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:49.601] 2025-08-27 17:45:49,585 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:45:49.761] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e6f2af81-fcb6-9ee6-88a6-0ae76fde90a8"}, traceId: 213e060c17563311485168676e8732'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cbfdcca1-4bdd-9e44-b805-96d186eda7c9"}, traceId: 213e043117563311486426175e22d4'}
[17:45:49.815] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:45:49.815] 
[17:45:49.816] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[17:45:52.715] 2025-08-27 17:45:52,674 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:53.020]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:45:53.069] [ASSISTED] Task received 5 format helps, final result: failure
[17:45:54.059] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:45:54.162] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:45:54.238] [AI_DEBUG] 生成的txt_content长度: 22896[InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:45:54.251] 
[17:45:54.263] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:45:54.263]   - use_ai_classification=True
[17:45:54.263]   - ai_classifier=True
[17:45:54.263]   - txt_content_len=22896
[17:45:54.263]   - task_model=qwen2.5-72b-instruct
[17:45:54.281] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:45:54.739] 2025-08-27 17:45:54,738 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:45:55.411]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:45:55.440] [ASSISTED] Task received 5 format helps, final result: failure
[17:45:56.090] 2025-08-27 17:45:56,075 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:45:56.110] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:45:56.110] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:45:56.110] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:45:56.115] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:45:56.115] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:45:56.115] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:45:56.140] 2025-08-27 17:45:56,140 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:45:56.805] 2025-08-27 17:45:56,805 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:45:56.857] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:45:56.857] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:45:56.976] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:45:56.976] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:45:56.976] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:45:57.095] 2025-08-27 17:45:57,095 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:46:01.958] 2025-08-27 17:46:01,920 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:46:02.606] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:46:02.664] 2025-08-27 17:46:02,642 - mcp_embedding_manager - INFO - FAISS index loaded
[17:46:02.667] 2025-08-27 17:46:02,665 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:46:02.668] 2025-08-27 17:46:02,665 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:46:04.159] [INFO] Tool embedding index loaded successfully
[17:46:04.422] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:46:04.500] [INFO] Operation semantic index initialized
[17:46:04.566] 2025-08-27 17:46:04,562 - mcp_embedding_manager - INFO - FAISS index loaded
[17:46:04.574] 2025-08-27 17:46:04,574 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:46:04.594] 2025-08-27 17:46:04,574 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:46:05.223] [INFO] Tool embedding index loaded successfully
[17:46:05.362] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json[DEBUG] Got result for task: has_result=True, save_logs=True
[17:46:05.362] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:46:05.372] 
[17:46:05.372] [TURN 1/10]
[17:46:05.380] 
[17:46:05.380] [INFO] Operation semantic index initialized
[17:46:05.384] [AI_DEBUG] 生成的txt_content长度: 25349
[17:46:05.385] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:46:05.385]   - use_ai_classification=True
[17:46:05.385]   - ai_classifier=True
[17:46:05.385]   - txt_content_len=25349
[17:46:05.385]   - task_model=qwen2.5-72b-instruct
[17:46:05.385] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:46:05.409] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:05.417] 
[17:46:05.417] [TURN 1/10]
[17:46:05.486] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:07.963] 2025-08-27 17:46:07,936 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:07.973] 2025-08-27 17:46:07,931 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:08.220]   [SEARCH] Query: data validation parser
[17:46:08.228]   [SEARCH] Query: data validation parser
[17:46:08.324] 
[17:46:08.324] [TURN 2/10]
[17:46:08.333] 
[17:46:08.333] [TURN 2/10]
[17:46:08.346] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:08.360] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:09.495] 2025-08-27 17:46:09,440 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:09.505] 2025-08-27 17:46:09,432 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:09.657] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"64dd3baf-5e42-9b6d-adbd-85fad460161b"}, traceId: 213e065517563311686354487e8009'}
[17:46:09.675] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:46:09.675] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"68500512-0a86-92c0-8eb8-60cd02d9bbd1"}, traceId: 213e007217563311686507791eea18'}
[17:46:09.675] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:46:11.493] 2025-08-27 17:46:11,482 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:46:11.546] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:46:11.733] 2025-08-27 17:46:11,733 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:11.752]   [INFO] Tool info request: data_processing_parser
[17:46:11.753] 
[17:46:11.753] [TURN 3/10]
[17:46:11.754] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:12.447] 2025-08-27 17:46:12,433 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:12.448] 2025-08-27 17:46:12,448 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:12.465] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"264a599e-e1fa-9434-9994-184d7791891b"}, traceId: 213e065517563311719504490e8009'}[LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6f2d6caa-4559-9b5c-a74b-45791a629520"}, traceId: 213e007217563311714107795eea18'}
[17:46:12.468] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[17:46:12.468] 
[17:46:12.468] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:46:16.099] 2025-08-27 17:46:16,052 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:16.127] 2025-08-27 17:46:16,045 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:16.411]   [INFO] Tool info request: data_processing_parser
[17:46:16.431]   [EARLY_EXIT] No actions taken, continuing...
[17:46:16.436] 
[17:46:16.436] [TURN 4/10]
[17:46:16.438] 
[17:46:16.438] [TURN 3/10]
[17:46:16.446] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:16.461] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:18.507] 2025-08-27 17:46:18,484 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:18.515] 2025-08-27 17:46:18,476 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:18.697] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"159589e5-dce2-9e65-9cdc-19c976cfd0a8"}, traceId: 213e007217563311767477806eea18'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6ca1db54-ab91-937f-a6ec-de7c4f1f37ab"}, traceId: 213e065517563311767334503e8009'}
[17:46:18.704] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:46:18.704] 
[17:46:18.704] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:46:21.811] 2025-08-27 17:46:21,773 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:22.201] 2025-08-27 17:46:22,191 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:22.426]   [EARLY_EXIT] No actions taken, continuing...
[17:46:22.435] 
[17:46:22.435] [TURN 5/10]
[17:46:22.435]   [EARLY_EXIT] No actions taken, continuing...
[17:46:22.435] 
[17:46:22.435] [TURN 4/10]
[17:46:22.462] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct[LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:22.470] 
[17:46:23.725] 2025-08-27 17:46:23,724 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:23.732] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fc8e9ad5-55d1-958c-a5fa-77c9e8916972"}, traceId: 213e065517563311829504519e8009'}
[17:46:23.733] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:46:23.838] 2025-08-27 17:46:23,838 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:23.859]   [EARLY_EXIT] No actions taken, continuing...
[17:46:23.862] 
[17:46:23.862] [TURN 5/10]
[17:46:23.865] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:24.976] 2025-08-27 17:46:24,940 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:25.158]   [EARLY_EXIT] No actions taken, continuing...
[17:46:25.162] 
[17:46:25.163] [TURN 6/10]
[17:46:25.208] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:26.216] 2025-08-27 17:46:26,195 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:26.228] 2025-08-27 17:46:26,192 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:26.276] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e2a93568-eed9-9ea5-8d0d-8c7d9de8513f"}, traceId: 213e007217563311853977818eea18'}
[17:46:26.276] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[17:46:26.278] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0fef1386-47ec-95c0-9d0b-464dc41ca466"}, traceId: 213e065517563311853844520e8009'}
[17:46:26.281] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[17:46:28.366] 2025-08-27 17:46:28,294 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:28.862]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:46:28.907] 
[17:46:28.933] [TURN 7/10]
[17:46:28.967] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:29.580] 2025-08-27 17:46:29,577 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:29.645] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4dc0f102-3384-9c5f-b977-0d944f3056d1"}, traceId: 213e065517563311888234524e8009'}
[17:46:29.645] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[17:46:29.927] 2025-08-27 17:46:29,927 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:30.003]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:46:30.003] 
[17:46:30.003] [TURN 8/10]
[17:46:30.014] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:31.307] 2025-08-27 17:46:31,306 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:31.385]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:46:31.385] 
[17:46:31.385] [TURN 9/10]
[17:46:31.406] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:32.613] 2025-08-27 17:46:32,612 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:32.653] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"049f9775-aa28-9bf8-b6ca-ec6d632b6106"}, traceId: 213e007217563311918327830eea18'}
[17:46:32.670] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:46:33.185] 2025-08-27 17:46:33,163 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:33.562]   [EARLY_EXIT] No actions taken, continuing...
[17:46:33.562] 
[17:46:33.570] [TURN 6/10]
[17:46:33.733] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:34.871] 2025-08-27 17:46:34,841 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:34.973] 2025-08-27 17:46:34,972 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:46:35.412]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:46:35.414] 
[17:46:35.415] [TURN 10/10]
[17:46:35.424]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:46:35.428] 
[17:46:35.428] [TURN 7/10]
[17:46:35.486] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:35.497] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:46:36.882] 2025-08-27 17:46:36,845 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:36.899] 2025-08-27 17:46:36,854 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:37.066] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"adb7acff-6a6a-9ae2-87eb-4d7cbf7ed606"}, traceId: 213e007217563311958777835eea18'}
[17:46:37.074] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9ce936a7-e6ca-942f-9504-1913e6287e2d"}, traceId: 213e065517563311958664529e8009'}[RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:46:37.074] 
[17:46:37.074] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:46:40.001] 2025-08-27 17:46:39,976 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:40.003] 2025-08-27 17:46:39,984 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:40.031] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c08ea136-f977-929f-9104-f8b4b1de9af9"}, traceId: 213e065517563311988244535e8009'}
[17:46:40.033] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:46:40.041] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e4b568ac-89c7-9cc8-aad9-12a885e31ff6"}, traceId: 213e007217563311988367838eea18'}
[17:46:40.042] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[17:46:42.988] 2025-08-27 17:46:42,982 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:42.994] 2025-08-27 17:46:42,978 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:43.037] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"eee8c8a3-9b5a-91a5-8786-4afa499fb5a4"}, traceId: 213e065517563312017894536e8009'}
[17:46:43.044] [RETRY] 400 error detected, waiting 3.1s before retry (not counting as turn)...[LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"910613d4-b62a-92ad-8118-8e31aaf7ab5f"}, traceId: 213e007217563312018067841eea18'}
[17:46:43.046] 
[17:46:43.046] [RETRY] 400 error detected, waiting 2.6s before retry (not counting as turn)...
[17:46:47.943] 2025-08-27 17:46:47,904 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:48.003] 2025-08-27 17:46:47,897 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:48.027] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9bb00b88-9a51-9e63-ab6b-e8ae0ec6fa8a"}, traceId: 213e007217563312061217844eea18'}
[17:46:48.038] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d879525d-5f69-9857-878f-9f63330854a1"}, traceId: 213e065517563312063704541e8009'}[RETRY] 400 error detected, waiting 2.5s before retry (not counting as turn)...
[17:46:48.038] 
[17:46:48.043] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[17:46:51.348] 2025-08-27 17:46:51,343 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:51.359] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8f43665e-1321-9d02-8350-ec95f84b56b2"}, traceId: 213e065517563312106014544e8009'}
[17:46:51.359] [ERROR] Max retries reached after 5 attempts
[17:46:51.359] [API_FAILURE] All retries exhausted
[17:46:51.369]   [API_FAILURE] API failed (timeout or max retries)
[17:46:51.413] [ASSISTED] Task received 1 format helps, final result: failure
[17:46:51.530] 2025-08-27 17:46:51,526 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:46:54.199] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b9222ac2-6eaf-916f-b09a-8ac33580a331"}, traceId: 213e007217563312107637849eea18'}
[17:46:54.243] [ERROR] Max retries reached after 5 attempts
[17:46:54.256] [API_FAILURE] All retries exhausted
[17:46:54.256]   [API_FAILURE] API failed (timeout or max retries)
[17:46:54.260] [ASSISTED] Task received 4 format helps, final result: failure
[17:46:54.411] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:46:54.428] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:46:54.454] [AI_DEBUG] 生成的txt_content长度: 16788
[17:46:54.454] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:46:54.454]   - use_ai_classification=True
[17:46:54.454]   - ai_classifier=True
[17:46:54.454]   - txt_content_len=16788
[17:46:54.454]   - task_model=qwen2.5-72b-instruct
[17:46:54.454] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:46:54.647] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:46:54.665] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:46:55.112] 2025-08-27 17:46:55,112 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:46:55.117] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:46:55.117] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:46:55.129] 2025-08-27 17:46:55,128 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:46:55.129] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:46:55.129] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:46:55.129] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:46:55.148] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:46:55.149] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:46:55.149] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:46:55.149] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:46:55.149] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:46:55.149] 2025-08-27 17:46:55,149 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:46:55.151] 2025-08-27 17:46:55,151 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:46:59.747] 2025-08-27 17:46:59,744 - mcp_embedding_manager - INFO - FAISS index loaded
[17:46:59.748] 2025-08-27 17:46:59,748 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:46:59.748] 2025-08-27 17:46:59,748 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:46:59.912] 2025-08-27 17:46:59,912 - mcp_embedding_manager - INFO - FAISS index loaded
[17:46:59.912] 2025-08-27 17:46:59,912 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:46:59.912] 2025-08-27 17:46:59,912 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:46:59.949] [INFO] Tool embedding index loaded successfully
[17:46:59.956] [INFO] Tool embedding index loaded successfully
[17:46:59.967] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:46:59.976] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:46:59.978] [INFO] Operation semantic index initialized
[17:46:59.982] [INFO] Operation semantic index initialized
[17:46:59.995] 
[17:46:59.995] [TURN 1/10]
[17:47:00.000] 
[17:47:00.000] [TURN 1/10]
[17:47:00.001] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:00.008] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:02.089] 2025-08-27 17:47:02,026 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:02.150] 2025-08-27 17:47:02,018 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:47:02.151] 2025-08-27 17:47:02,022 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:02.240] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7617acf8-e236-9b8b-b745-ed73a0ec7ac1"}, traceId: 2150419d17563312209394057e2b43'}
[17:47:02.264] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:47:02.265] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8975374a-b9a9-9b26-92f7-370919270010"}, traceId: 2150460817563312209016855e7a29'}
[17:47:02.269] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:47:02.338] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:47:02.404] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:47:02.406] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:47:02.426] [AI_DEBUG] 生成的txt_content长度: 23240
[17:47:02.427] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:47:02.427]   - use_ai_classification=True
[17:47:02.427]   - ai_classifier=True
[17:47:02.427]   - txt_content_len=23240
[17:47:02.427]   - task_model=qwen2.5-72b-instruct
[17:47:02.427] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:47:04.582] 2025-08-27 17:47:04,514 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:04.588] 2025-08-27 17:47:04,516 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:04.708] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e7dc0044-5484-928b-a5cc-7db2348caffc"}, traceId: 2150419d17563312234244065e2b43'}[LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c74d6a06-9f58-95dc-84da-e9435016e1a9"}, traceId: 2150460817563312234246863e7a29'}
[17:47:04.719] 
[17:47:04.719] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...[RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:47:04.719] 
[17:47:07.354] 2025-08-27 17:47:07,311 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:07.360] 2025-08-27 17:47:07,308 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:07.577] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fc5b44b6-9fe3-9d5c-90c3-ad0e4a49a5d7"}, traceId: 2150460817563312264336867e7a29'}
[17:47:07.580] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:47:07.647]   [SEARCH] Query: data validation parser
[17:47:07.715] 
[17:47:07.715] [TURN 2/10]
[17:47:07.732] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:09.860] 2025-08-27 17:47:09,757 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:10.298]   [INFO] Tool info request: data_processing_parser
[17:47:10.301] 
[17:47:10.301] [TURN 3/10]
[17:47:10.332] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:10.466] 2025-08-27 17:47:10,466 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:47:10.480] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.78
[17:47:11.278] 2025-08-27 17:47:11,204 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:11.316] 2025-08-27 17:47:11,210 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:11.372]   [SEARCH] Query: data validation parser
[17:47:11.440]   [EARLY_EXIT] No actions taken, continuing...
[17:47:11.440] 
[17:47:11.440] [TURN 4/10]
[17:47:11.445] 
[17:47:11.445] [TURN 2/10]
[17:47:11.451] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:11.471] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:12.115] 2025-08-27 17:47:12,114 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:12.133] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3e622ab9-0d9b-9673-8db3-d6f06d3d9541"}, traceId: 2150460817563312317846886e7a29'}
[17:47:12.140] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:47:12.635] 2025-08-27 17:47:12,631 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:12.669] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b73ff7a3-ca34-9903-a30f-b85cab4b6289"}, traceId: 2150419d17563312317884079e2b43'}
[17:47:12.670] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:47:14.265] 2025-08-27 17:47:14,223 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:14.303] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2a85f732-f4be-9f02-a7eb-68c03328aff6"}, traceId: 2150460817563312333866891e7a29'}
[17:47:14.303] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[17:47:15.417] 2025-08-27 17:47:15,407 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:15.586]   [EARLY_EXIT] No actions taken, continuing...
[17:47:15.592] 
[17:47:15.592] [TURN 5/10]
[17:47:15.613] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:17.847] 2025-08-27 17:47:17,752 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:17.949]   [EARLY_EXIT] No actions taken, continuing...
[17:47:17.955] 
[17:47:17.991] [TURN 6/10]
[17:47:18.002] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:19.162] 2025-08-27 17:47:19,157 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:19.170] 2025-08-27 17:47:19,169 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:19.217]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:47:19.217] 
[17:47:19.217] [TURN 7/10]
[17:47:19.228]   [INFO] Tool info request: data_processing_validator
[17:47:19.236] 
[17:47:19.236] [TURN 3/10]
[17:47:19.238] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:19.269] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:20.353] 2025-08-27 17:47:20,353 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:20.394]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:47:20.394] 
[17:47:20.394] [TURN 8/10]
[17:47:20.398] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct2025-08-27 17:47:20,398 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:20.413] 
[17:47:20.492]   [INFO] Tool info request: data_processing_parser
[17:47:20.492] 
[17:47:20.492] [TURN 4/10]
[17:47:20.501] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:20.907] 2025-08-27 17:47:20,905 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:20.929] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b13f12f6-f396-902a-a66c-0eb420da4f2b"}, traceId: 2150419d17563312406754094e2b43'}
[17:47:20.933] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:47:21.457] 2025-08-27 17:47:21,451 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:21.472] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"32b76726-a19f-94eb-af3e-403c634a8598"}, traceId: 2150460817563312407176912e7a29'}
[17:47:21.473] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:47:23.196] 2025-08-27 17:47:23,186 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:23.841]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:47:23.841] 
[17:47:23.841] [TURN 9/10]
[17:47:23.842] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:23.842] 2025-08-27 17:47:23,356 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:23.842]   [EARLY_EXIT] No actions taken, continuing...
[17:47:23.842] 
[17:47:23.842] [TURN 5/10]
[17:47:23.842] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:24.250] 2025-08-27 17:47:24,247 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:24.292] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5aa892cf-d0fc-9569-a289-10ca5d40018a"}, traceId: 2150419d17563312434784099e2b43'}
[17:47:24.294] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:47:24.369] 2025-08-27 17:47:24,369 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:24.374] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1e3645d8-91a9-9c04-ba46-df5473bc3b1d"}, traceId: 2150460817563312435736918e7a29'}
[17:47:24.374] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:47:26.118] 2025-08-27 17:47:26,116 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:26.138] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e78c5005-e391-9133-8efd-42519eef7698"}, traceId: 2150460817563312458156924e7a29'}
[17:47:26.154] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:47:26.564] 2025-08-27 17:47:26,563 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:26.568] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0d77be55-7f58-9c40-8ff5-5f64d0847b36"}, traceId: 2150419d17563312458154106e2b43'}
[17:47:26.568] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[17:47:28.906] 2025-08-27 17:47:28,866 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:29.021]   [EARLY_EXIT] No actions taken, continuing...
[17:47:29.023] 
[17:47:29.029] [TURN 6/10]
[17:47:29.052] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:29.287] 2025-08-27 17:47:29,281 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:29.318] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"711b1ea3-f199-9cbf-b930-81b6e44f4adc"}, traceId: 2150419d17563312485294111e2b43'}
[17:47:29.319] [RETRY] 400 error detected, waiting 2.3s before retry (not counting as turn)...
[17:47:30.641] 2025-08-27 17:47:30,594 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:30.898]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:47:30.900] 
[17:47:30.900] [TURN 7/10]
[17:47:30.935] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:32.204] 2025-08-27 17:47:32,173 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:32.307]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:47:32.307] 
[17:47:32.308] [TURN 8/10]
[17:47:32.344] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:32.556] 2025-08-27 17:47:32,554 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:32.574]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:47:32.574] 
[17:47:32.574] [TURN 10/10]
[17:47:32.633] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:33.456] 2025-08-27 17:47:33,393 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:33.501] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cda62dad-b78a-9055-92c7-fe3cfff34d0c"}, traceId: 2150460817563312525586933e7a29'}
[17:47:33.506] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:47:33.527] 2025-08-27 17:47:33,525 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:33.544] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"348f0449-4b29-9ab7-bd96-db5ce591d581"}, traceId: 2150419d17563312527754120e2b43'}
[17:47:33.544] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:47:36.282] 2025-08-27 17:47:36,226 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:36.289] 2025-08-27 17:47:36,282 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:36.524]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:47:36.533] 
[17:47:36.533] [TURN 9/10]
[17:47:36.540]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:47:36.558] [ASSISTED] Task received 5 format helps, final result: failure
[17:47:36.607] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:37.095] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:47:37.096] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:47:37.105] [AI_DEBUG] 生成的txt_content长度: 25349
[17:47:37.105] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:47:37.117]   - use_ai_classification=True
[17:47:37.117]   - ai_classifier=True
[17:47:37.118]   - txt_content_len=25349
[17:47:37.118]   - task_model=qwen2.5-72b-instruct
[17:47:37.119] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:47:37.151] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:47:37.644] 2025-08-27 17:47:37,641 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:47:37.645] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:47:37.646] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:47:37.659] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:47:37.659] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:47:37.659] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:47:37.669] 2025-08-27 17:47:37,669 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:47:38.286] 2025-08-27 17:47:38,286 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:39.101]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:47:39.122] 
[17:47:39.122] [TURN 10/10]
[17:47:39.183] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:40.684] 2025-08-27 17:47:40,632 - mcp_embedding_manager - INFO - FAISS index loaded
[17:47:40.708] 2025-08-27 17:47:40,657 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:47:40.709] 2025-08-27 17:47:40,657 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:47:40.714] [INFO] Tool embedding index loaded successfully
[17:47:40.752] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:47:40.777] [INFO] Operation semantic index initialized
[17:47:40.824] 
[17:47:40.824] [TURN 1/10]
[17:47:40.832] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:41.187] 2025-08-27 17:47:41,184 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:41.398]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:47:41.411] [ASSISTED] Task received 5 format helps, final result: failure
[17:47:41.652] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:47:42.090] 2025-08-27 17:47:42,074 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:47:42.095] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:47:42.101] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:47:42.110] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:47:42.130] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:47:42.156] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:47:42.158] 2025-08-27 17:47:42,122 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:47:43.806] 2025-08-27 17:47:43,758 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:43.836] 2025-08-27 17:47:43,761 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:47:44.323]   [SEARCH] Query: data validation parser
[17:47:44.449] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:47:44.520] 
[17:47:44.553] [TURN 2/10]
[17:47:44.590] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:45.381] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:47:45.389] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:47:45.428] [AI_DEBUG] 生成的txt_content长度: 27184
[17:47:45.428] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:47:45.428]   - use_ai_classification=True
[17:47:45.428]   - ai_classifier=True
[17:47:45.428]   - txt_content_len=27184
[17:47:45.428]   - task_model=qwen2.5-72b-instruct
[17:47:45.428] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:47:45.896] 2025-08-27 17:47:45,879 - mcp_embedding_manager - INFO - FAISS index loaded
[17:47:45.900] 2025-08-27 17:47:45,896 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:47:45.900] 2025-08-27 17:47:45,896 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:47:46.650] [INFO] Tool embedding index loaded successfully
[17:47:46.970] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:47:47.016] [INFO] Operation semantic index initialized
[17:47:47.177] 
[17:47:47.183] [TURN 1/10]2025-08-27 17:47:47,165 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:47.188] 
[17:47:47.253] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:47.358] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1b21e02a-4359-9475-b160-37d38bf326ad"}, traceId: 2150430c17563312658788968e2053'}
[17:47:47.360] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:47:49.322] 2025-08-27 17:47:49,295 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:49.408] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"75ce2067-3e8d-9f82-850b-2ca9717c3ecb"}, traceId: 2150430c17563312688018976e2053'}
[17:47:49.408] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:47:49.455] 2025-08-27 17:47:49,455 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:49.494]   [SEARCH] Query: data validation parser
[17:47:49.510] 
[17:47:49.511] [TURN 2/10]
[17:47:49.529] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:51.133] 2025-08-27 17:47:51,115 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:51.307] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6c554ec3-52cf-987b-a553-593eef5ee649"}, traceId: 2150449a17563312697518549e80b6'}
[17:47:51.307] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:47:53.959] 2025-08-27 17:47:53,926 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:47:54.200] 2025-08-27 17:47:53,922 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:47:54.207] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6d33256a-71b5-9122-91d8-4932cae6de5d"}, traceId: 2150430c17563312714398981e2053'}
[17:47:54.213] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.84
[17:47:54.316] [RETRY] 400 error detected, waiting 2.7s before retry (not counting as turn)...
[17:47:56.331] 2025-08-27 17:47:56,269 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:56.678]   [INFO] Tool info request: data_processing_validator
[17:47:56.689] 
[17:47:56.689] [TURN 3/10]
[17:47:56.719] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:58.671] 2025-08-27 17:47:58,625 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:58.679] 2025-08-27 17:47:58,645 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:47:58.886]   [INFO] Tool info request: data_processing_parser  [INFO] Tool info request: data_processing_parser
[17:47:58.893] 
[17:47:58.898] 
[17:47:58.898] [TURN 4/10]
[17:47:58.899] [TURN 3/10]
[17:47:58.906] 
[17:47:58.966] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:47:58.983] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:00.751] 2025-08-27 17:48:00,725 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:00.756] 2025-08-27 17:48:00,720 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:05.620]   [EARLY_EXIT] No actions taken, continuing...
[17:48:05.632] 
[17:48:05.633] [TURN 4/10]
[17:48:05.633]   [EARLY_EXIT] No actions taken, continuing...
[17:48:05.633] 
[17:48:05.633] [TURN 5/10]
[17:48:05.634] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:05.634] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:06.292] 2025-08-27 17:48:06,255 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:06.419] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"33497e4c-bfae-9bec-a00e-0d216fce3c27"}, traceId: 2150449a17563312858718581e80b6'}
[17:48:06.428] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:48:06.664] 2025-08-27 17:48:06,662 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:06.686] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e1ea785f-48a6-9626-8911-6878411caef0"}, traceId: 2150430c17563312858811016e2053'}
[17:48:07.081] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:48:08.721] 2025-08-27 17:48:08,703 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:08.849]   [EARLY_EXIT] No actions taken, continuing...
[17:48:08.850] 
[17:48:08.850] [TURN 6/10]
[17:48:08.850] 2025-08-27 17:48:08,789 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:08.850] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:08.850]   [EARLY_EXIT] No actions taken, continuing...
[17:48:08.850] 
[17:48:08.850] [TURN 5/10]
[17:48:08.859] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:09.929] 2025-08-27 17:48:09,902 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:09.933] 2025-08-27 17:48:09,925 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:10.296]   [EARLY_EXIT] No actions taken, continuing...  [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:48:10.305] 
[17:48:10.306] [TURN 7/10]
[17:48:10.307] 
[17:48:10.308] 
[17:48:10.308] [TURN 6/10]
[17:48:10.329] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:10.349] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:11.009] 2025-08-27 17:48:10,973 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:11.103] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1a0ee981-40a8-9d48-9d61-ad9ed181937d"}, traceId: 2150430c17563312906451031e2053'}
[17:48:11.135] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:48:11.515] 2025-08-27 17:48:11,509 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:11.762] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f7005cf8-acf0-9f23-8c5a-4cbc2615ae2f"}, traceId: 2150449a17563312906378597e80b6'}
[17:48:12.060] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:48:13.193] 2025-08-27 17:48:13,159 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:13.359]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:48:13.359] 
[17:48:13.360] [TURN 7/10]
[17:48:13.361] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:14.148] 2025-08-27 17:48:14,108 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:14.327] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2419f7da-a943-909f-9349-2b486f86aaa0"}, traceId: 2150430c17563312935831038e2053'}
[17:48:14.332] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:48:14.975] 2025-08-27 17:48:14,925 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:15.389]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:48:15.391] 
[17:48:15.391] [TURN 8/10]
[17:48:15.401] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:16.463] 2025-08-27 17:48:16,449 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:16.499] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"db34633d-5fc1-9332-9263-3e57d33305fe"}, traceId: 2150449a17563312956328603e80b6'}
[17:48:16.501] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:48:17.635] 2025-08-27 17:48:17,598 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:17.894]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:48:18.179] 
[17:48:18.444] [TURN 8/10]
[17:48:18.446] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:18.619] 2025-08-27 17:48:18,612 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:18.858] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"773cf5c8-c98b-91de-8411-2aa917b80849"}, traceId: 2150430c17563312981791045e2053'}
[17:48:18.859] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:48:18.859] 2025-08-27 17:48:18,722 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:18.859]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:48:18.859] 
[17:48:18.859] [TURN 9/10]
[17:48:18.859] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:20.451] 2025-08-27 17:48:20,422 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:20.547]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:48:20.547] 
[17:48:20.547] [TURN 10/10]
[17:48:20.560] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:21.827] 2025-08-27 17:48:21,733 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:21.845] 2025-08-27 17:48:21,737 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:22.003] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"49d4a6e8-06a3-91d5-8e1b-8653ffdb7e4f"}, traceId: 2150430c17563313007461050e2053'}
[17:48:22.003] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5c2d6bd0-ff3a-90f0-bc9d-bd0defa6f04e"}, traceId: 2150449a17563313007488609e80b6'}
[17:48:22.006] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[17:48:22.018] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[17:48:23.281] 2025-08-27 17:48:23,240 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:23.392] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f1526ce3-23c9-92f9-a95b-e9d299ec5a71"}, traceId: 2150449a17563313028458615e80b6'}
[17:48:23.398] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[17:48:24.776] 2025-08-27 17:48:24,756 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:24.908] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ce3bef6b-05cb-9b3f-984b-342577f9842a"}, traceId: 2150430c17563313038711055e2053'}
[17:48:24.909] [RETRY] 400 error detected, waiting 3.2s before retry (not counting as turn)...
[17:48:27.006] 2025-08-27 17:48:27,006 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:27.047]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:48:27.087] [ASSISTED] Task received 5 format helps, final result: failure
[17:48:27.896] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:48:27.916] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:48:27.955] [AI_DEBUG] 生成的txt_content长度: 27188
[17:48:27.960] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:48:27.960]   - use_ai_classification=True
[17:48:27.960]   - ai_classifier=True
[17:48:27.960]   - txt_content_len=27188
[17:48:27.960]   - task_model=qwen2.5-72b-instruct
[17:48:27.970] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:48:27.971] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:48:28.811] 2025-08-27 17:48:28,801 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:28.846] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a2fc4eb6-25ee-903e-b9e6-c949e2e3189e"}, traceId: 2150430c17563313085201063e2053'}
[17:48:28.846] [RETRY] 400 error detected, waiting 4.0s before retry (not counting as turn)...
[17:48:29.196] 2025-08-27 17:48:29,195 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:48:29.201] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:48:29.201] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:48:29.214] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:48:29.214] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:48:29.214] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:48:29.225] 2025-08-27 17:48:29,225 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:48:32.418] 2025-08-27 17:48:32,412 - mcp_embedding_manager - INFO - FAISS index loaded
[17:48:32.420] 2025-08-27 17:48:32,416 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:48:32.421] 2025-08-27 17:48:32,418 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:48:32.449] [INFO] Tool embedding index loaded successfully
[17:48:32.485] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:48:32.500] [INFO] Operation semantic index initialized
[17:48:32.535] 
[17:48:32.535] [TURN 1/10]
[17:48:32.545] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:32.804] 2025-08-27 17:48:32,804 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:48:32.889] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.87
[17:48:33.559] 2025-08-27 17:48:33,559 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:33.605]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:48:33.605] 
[17:48:33.605] [TURN 9/10]
[17:48:33.606] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:34.048] 2025-08-27 17:48:34,047 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:34.063] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6d025530-74e4-9b7a-97bc-4b87f43c341f"}, traceId: 2150430c17563313138011073e2053'}
[17:48:34.066] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:48:34.249] 2025-08-27 17:48:34,249 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:34.253] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"82663a1c-2d26-99f4-891d-1b0166afb914"}, traceId: 215040c017563313135113892ee0e9'}
[17:48:34.254] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[17:48:35.773] 2025-08-27 17:48:35,772 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:35.780]   [SEARCH] Query: file reader
[17:48:35.886] 
[17:48:35.886] [TURN 2/10]
[17:48:35.887] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:36.567] 2025-08-27 17:48:36,565 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:36.636]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:48:36.640] 
[17:48:36.640] [TURN 10/10]
[17:48:36.671] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:36.945] 2025-08-27 17:48:36,945 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:36.969]   [EARLY_EXIT] No actions taken, continuing...
[17:48:36.973] 
[17:48:36.973] [TURN 3/10]
[17:48:36.983] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:37.676] 2025-08-27 17:48:37,675 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:37.703] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"de6e0dbb-f3b9-959e-812e-3f11a1c31fd9"}, traceId: 2150430c17563313168931084e2053'}
[17:48:37.708] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[17:48:37.949] 2025-08-27 17:48:37,949 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:38.558]   [EARLY_EXIT] No actions taken, continuing...
[17:48:38.577] 
[17:48:38.577] [TURN 4/10]
[17:48:38.577] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:38.938] 2025-08-27 17:48:38,933 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:38.993]   [EARLY_EXIT] No actions taken, continuing...
[17:48:38.993] 
[17:48:38.994] [TURN 5/10]
[17:48:39.002] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:39.219] 2025-08-27 17:48:39,219 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:39.222] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d8029992-943f-9ae1-8407-a8e39bb75f16"}, traceId: 2150430c17563313184501086e2053'}
[17:48:39.227] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:48:40.011] 2025-08-27 17:48:40,000 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:40.074]   [EARLY_EXIT] No actions taken, continuing...
[17:48:40.074] 
[17:48:40.076] [TURN 6/10]
[17:48:40.081] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:41.089] 2025-08-27 17:48:41,088 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:41.936]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:48:41.936] 
[17:48:41.936] [TURN 7/10]
[17:48:41.936] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:41.937] 2025-08-27 17:48:41,402 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:41.938] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"27a1fb81-9755-9e99-ad04-a6a4817e1499"}, traceId: 2150430c17563313204761090e2053'}
[17:48:41.939] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:48:42.422] 2025-08-27 17:48:42,412 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:42.455]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:48:42.455] 
[17:48:42.455] [TURN 8/10]
[17:48:42.464] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:43.522] 2025-08-27 17:48:43,517 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:43.544] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a21b64f3-840b-919c-8419-31b407c5a7ec"}, traceId: 215040c017563313227263919ee0e9'}
[17:48:43.548] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:48:43.851] 2025-08-27 17:48:43,850 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:43.871]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:48:43.873] [ASSISTED] Task received 5 format helps, final result: failure
[17:48:43.985] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:48:43.985] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:48:43.987] [AI_DEBUG] 生成的txt_content长度: 25349
[17:48:43.987] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:48:43.990]   - use_ai_classification=True
[17:48:43.990]   - ai_classifier=True
[17:48:43.990]   - txt_content_len=25349
[17:48:43.990]   - task_model=qwen2.5-72b-instruct
[17:48:43.990] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:48:44.051] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:48:44.221] 2025-08-27 17:48:44,216 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:48:44.223] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:48:44.223] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:48:44.224] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:48:44.225] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:48:44.225] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:48:44.228] 2025-08-27 17:48:44,227 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:48:45.191] 2025-08-27 17:48:45,188 - mcp_embedding_manager - INFO - FAISS index loaded
[17:48:45.192] 2025-08-27 17:48:45,190 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:48:45.192] 2025-08-27 17:48:45,190 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:48:45.226] [INFO] Tool embedding index loaded successfully
[17:48:45.232] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:48:45.235] [INFO] Operation semantic index initialized
[17:48:45.244] 
[17:48:45.244] [TURN 1/10]
[17:48:45.246] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:45.991] 2025-08-27 17:48:45,984 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:46.003]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:48:46.003] 
[17:48:46.003] [TURN 9/10]
[17:48:46.006] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:46.954] 2025-08-27 17:48:46,953 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:46.957] 2025-08-27 17:48:46,955 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:46.960]   [SEARCH] Query: file reader
[17:48:46.962] 
[17:48:46.962] [TURN 2/10]
[17:48:46.980] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"764ce1f4-c983-9878-8618-7461b4216d5a"}, traceId: 215040c017563313261903926ee0e9'}
[17:48:46.984] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:48:46.984] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:47.955] 2025-08-27 17:48:47,954 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:47.959] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"89c18cf7-491c-917b-9124-0c475aa3cdb4"}, traceId: 2150457117563313271874736e79d5'}
[17:48:47.960] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:48:49.189] 2025-08-27 17:48:49,188 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:49.205]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:48:49.207] 
[17:48:49.207] [TURN 10/10]
[17:48:49.216] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:49.978] 2025-08-27 17:48:49,977 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:49.996]   [EARLY_EXIT] No actions taken, continuing...
[17:48:49.996] 
[17:48:49.996] [TURN 3/10]
[17:48:49.998] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:50.175] 2025-08-27 17:48:50,174 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:50.179] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"30e35f94-c227-9c19-b428-2ad43ea37f4f"}, traceId: 215040c017563313294243934ee0e9'}
[17:48:50.180] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:48:50.568] 2025-08-27 17:48:50,564 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:48:50.614] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:48:50.673] Progress: 10/49 (Success: 0)
[17:48:50.960] 2025-08-27 17:48:50,957 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:50.972]   [EARLY_EXIT] No actions taken, continuing...
[17:48:50.972] 
[17:48:50.972] [TURN 4/10]
[17:48:50.977] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:52.138] 2025-08-27 17:48:52,134 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:52.154]   [EARLY_EXIT] No actions taken, continuing...
[17:48:52.154] 
[17:48:52.154] [TURN 5/10]
[17:48:52.164] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:52.333] 2025-08-27 17:48:52,328 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:52.351] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9420343b-9572-93ed-8961-2d84a0c98e22"}, traceId: 215040c017563313315463935ee0e9'}
[17:48:52.353] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[17:48:53.187] 2025-08-27 17:48:53,181 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:53.204] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a9667e17-4a0f-9433-8c85-5ea7f529ccf8"}, traceId: 2150457117563313323664759e79d5'}
[17:48:53.205] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:48:55.728] 2025-08-27 17:48:55,697 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:55.762] 2025-08-27 17:48:55,716 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:48:55.764] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a904fc28-85fa-9dea-8817-dd02477b96e6"}, traceId: 2150457117563313348874766e79d5'}
[17:48:55.776] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b00c102f-b3fc-9ef2-b38a-e5426c661db9"}, traceId: 215040c017563313348883942ee0e9'}[RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[17:48:55.778] 
[17:48:55.778] [RETRY] 400 error detected, waiting 2.4s before retry (not counting as turn)...
[17:48:58.963] 2025-08-27 17:48:58,951 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:59.013]   [EARLY_EXIT] No actions taken, continuing...
[17:48:59.014] 
[17:48:59.014] [TURN 6/10]
[17:48:59.029] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:48:59.327] 2025-08-27 17:48:59,324 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:48:59.335]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:48:59.341] [ASSISTED] Task received 5 format helps, final result: failure
[17:48:59.469] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:48:59.469] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:48:59.470] [AI_DEBUG] 生成的txt_content长度: 23563
[17:48:59.473] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:48:59.474]   - use_ai_classification=True
[17:48:59.474]   - ai_classifier=True
[17:48:59.474]   - txt_content_len=23563
[17:48:59.474]   - task_model=qwen2.5-72b-instruct
[17:48:59.483] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:48:59.543] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:48:59.809] 2025-08-27 17:48:59,808 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:48:59.809] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:48:59.809] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:48:59.810] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:48:59.810] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:48:59.810] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:48:59.817] 2025-08-27 17:48:59,817 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:48:59.997] 2025-08-27 17:48:59,996 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:00.034]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:49:00.035] 
[17:49:00.035] [TURN 7/10]
[17:49:00.041] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:00.526] 2025-08-27 17:49:00,520 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:00.546] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9331dbf4-140c-993a-a065-52b4a75171b2"}, traceId: 2150457117563313402614775e79d5'}
[17:49:00.547] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:49:00.563] 2025-08-27 17:49:00,562 - mcp_embedding_manager - INFO - FAISS index loaded
[17:49:00.564] 2025-08-27 17:49:00,563 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:49:00.568] 2025-08-27 17:49:00,564 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:49:00.608] [INFO] Tool embedding index loaded successfully
[17:49:00.616] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:49:00.619] [INFO] Operation semantic index initialized
[17:49:00.631] 
[17:49:00.632] [TURN 1/10]
[17:49:00.634] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:02.467] 2025-08-27 17:49:02,410 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:02.485] 2025-08-27 17:49:02,451 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:02.612] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9f44c0f2-bc9b-9517-8fcc-8052a6ee6931"}, traceId: 2150443817563313415471914e87d6'}
[17:49:02.640] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:49:02.699]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:49:02.701] 
[17:49:02.701] [TURN 8/10]
[17:49:02.761] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:04.039] 2025-08-27 17:49:04,006 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:04.305]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:49:04.305] 
[17:49:04.306] [TURN 9/10]
[17:49:04.321] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:04.387] 2025-08-27 17:49:04,384 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:04.447] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fe19235c-f836-9948-97a0-7c6d304cf4a6"}, traceId: 2150443817563313435941918e87d6'}
[17:49:04.448] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[17:49:04.682] 2025-08-27 17:49:04,680 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:49:04.738] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.88
[17:49:05.617] 2025-08-27 17:49:05,609 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:05.684] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"90d3fb4a-7a8b-9714-8bc0-6e20dc2cfa93"}, traceId: 2150457117563313446664787e79d5'}
[17:49:05.690] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:49:07.616] 2025-08-27 17:49:07,589 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:07.628] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4dc86d4b-4462-9f22-89d9-826ebce9eb69"}, traceId: 2150443817563313466991921e87d6'}
[17:49:07.630] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[17:49:08.369] 2025-08-27 17:49:08,340 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:08.448] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ec0fa43d-b352-916f-9c88-c1382fe3e514"}, traceId: 2150457117563313477794791e79d5'}
[17:49:08.448] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:49:10.029] 2025-08-27 17:49:10,018 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:10.061] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"97b55360-3855-9421-a378-8e927621f342"}, traceId: 2150443817563313496691938e87d6'}
[17:49:10.066] [RETRY] 400 error detected, waiting 2.8s before retry (not counting as turn)...
[17:49:10.431] 2025-08-27 17:49:10,431 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:10.476] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"eb3247a2-2e6a-91a1-bbf7-211d788ff7e8"}, traceId: 2150457117563313496664797e79d5'}
[17:49:10.476] [RETRY] 400 error detected, waiting 2.4s before retry (not counting as turn)...
[17:49:13.813] 2025-08-27 17:49:13,808 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:13.820]   [SEARCH] Query: file reader
[17:49:13.913] 
[17:49:13.913] [TURN 2/10]
[17:49:13.917] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:14.061] 2025-08-27 17:49:14,061 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:14.073]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:49:14.073] 
[17:49:14.073] [TURN 10/10]
[17:49:14.074] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:15.052] 2025-08-27 17:49:15,035 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:15.058] 2025-08-27 17:49:15,031 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:15.068] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"82a1048f-82e3-94ac-9df3-3093b25291e1"}, traceId: 2150457117563313542554809e79d5'}
[17:49:15.071] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:49:15.138]   [EARLY_EXIT] No actions taken, continuing...
[17:49:15.142] 
[17:49:15.142] [TURN 3/10]
[17:49:15.143] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:16.093] 2025-08-27 17:49:16,091 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:16.097]   [EARLY_EXIT] No actions taken, continuing...
[17:49:16.100] 
[17:49:16.102] [TURN 4/10]
[17:49:16.107] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:17.185] 2025-08-27 17:49:17,185 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:17.232]   [EARLY_EXIT] No actions taken, continuing...
[17:49:17.232] 
[17:49:17.232] [TURN 5/10]
[17:49:17.249] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:17.330] 2025-08-27 17:49:17,330 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:17.368]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:49:17.427] [ASSISTED] Task received 5 format helps, final result: failure
[17:49:18.265] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:49:18.306] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类2025-08-27 17:49:18,306 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:18.315] 
[17:49:18.338] [AI_DEBUG] 生成的txt_content长度: 23668
[17:49:18.339] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:49:18.339]   - use_ai_classification=True
[17:49:18.339]   - ai_classifier=True
[17:49:18.339]   - txt_content_len=23668
[17:49:18.339]   - task_model=qwen2.5-72b-instruct
[17:49:18.348] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:49:18.540]   [EARLY_EXIT] No actions taken, continuing...
[17:49:18.541] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:49:18.541] 
[17:49:18.541] [TURN 6/10]
[17:49:18.619] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:19.800] 2025-08-27 17:49:19,794 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:49:19.810] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:49:19.810] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:49:19.810] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:49:19.814] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:49:19.818] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:49:19.836] 2025-08-27 17:49:19,836 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:19.846] 2025-08-27 17:49:19,845 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:49:19.866]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:49:19.866] 
[17:49:19.866] [TURN 7/10]
[17:49:19.871] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:20.845] 2025-08-27 17:49:20,845 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:21.040]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:49:21.097] 
[17:49:21.097] [TURN 8/10]
[17:49:21.176] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:22.233] 2025-08-27 17:49:22,233 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:22.258] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9ca8f951-5a62-9a56-afda-69f8589cddc6"}, traceId: 2150443817563313613891967e87d6'}
[17:49:22.259] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:49:23.167] 2025-08-27 17:49:23,118 - mcp_embedding_manager - INFO - FAISS index loaded
[17:49:23.171] 2025-08-27 17:49:23,171 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:49:23.171] 2025-08-27 17:49:23,171 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:49:23.293] [INFO] Tool embedding index loaded successfully
[17:49:23.321] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:49:23.397] [INFO] Operation semantic index initialized
[17:49:23.901] 
[17:49:23.902] [TURN 1/10]
[17:49:23.956] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:27.191] 2025-08-27 17:49:27,153 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:49:27.307] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.88
[17:49:28.422] 2025-08-27 17:49:28,369 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:28.759]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:49:28.765] 
[17:49:28.765] [TURN 9/10]
[17:49:28.802] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:30.004] 2025-08-27 17:49:29,927 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:30.240] 2025-08-27 17:49:30,237 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:30.273]   [SEARCH] Query: file reader
[17:49:30.412] 
[17:49:30.412] [TURN 2/10]
[17:49:30.435]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:49:30.482] 
[17:49:30.482] [TURN 10/10]
[17:49:30.482] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:30.514] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:32.541] 2025-08-27 17:49:32,494 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:32.555] 2025-08-27 17:49:32,501 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:32.727]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:49:32.738]   [EARLY_EXIT] No actions taken, continuing...
[17:49:32.743] 
[17:49:32.743] [TURN 3/10]
[17:49:32.776] [ASSISTED] Task received 5 format helps, final result: failure
[17:49:32.843] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:33.175] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:49:33.179] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:49:33.182] [AI_DEBUG] 生成的txt_content长度: 23640
[17:49:33.183] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:49:33.183]   - use_ai_classification=True
[17:49:33.183]   - ai_classifier=True
[17:49:33.183]   - txt_content_len=23640
[17:49:33.183]   - task_model=qwen2.5-72b-instruct
[17:49:33.183] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:49:33.218] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:49:33.457] 2025-08-27 17:49:33,456 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:49:33.457] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:49:33.457] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:49:33.457] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:49:33.457] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:49:33.457] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:49:33.459] 2025-08-27 17:49:33,459 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:49:34.183] 2025-08-27 17:49:34,164 - mcp_embedding_manager - INFO - FAISS index loaded
[17:49:34.198] 2025-08-27 17:49:34,189 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:49:34.206] 2025-08-27 17:49:34,196 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:49:34.288] [INFO] Tool embedding index loaded successfully
[17:49:34.371] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:49:34.389] [INFO] Operation semantic index initialized
[17:49:34.403] 2025-08-27 17:49:34,403 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:34.532] 
[17:49:34.532] [TURN 1/10]
[17:49:34.543] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:34.750]   [EARLY_EXIT] No actions taken, continuing...
[17:49:34.753] 
[17:49:34.753] [TURN 4/10]
[17:49:34.798] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:36.244] 2025-08-27 17:49:36,230 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:36.453]   [EARLY_EXIT] No actions taken, continuing...
[17:49:36.453] 
[17:49:36.453] [TURN 5/10]
[17:49:36.467] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:37.558] 2025-08-27 17:49:37,528 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:37.563] 2025-08-27 17:49:37,547 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:37.627] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1754c52f-3ee4-9c05-b89e-b4d7951245d4"}, traceId: 213e007d17563313764203492eef5d'}
[17:49:37.628] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"81d32c3d-a1d6-960a-97c3-64be642f236a"}, traceId: 213e006e17563313767476383e12b2'}
[17:49:37.628] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:49:37.637] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:49:37.755] 2025-08-27 17:49:37,755 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:49:37.866] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.88
[17:49:39.774] 2025-08-27 17:49:39,770 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:39.829] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a7d95f1f-c4c9-94a5-8ca9-ca18d7c3aef7"}, traceId: 213e006e17563313794636389e12b2'}
[17:49:39.831] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:49:40.328] 2025-08-27 17:49:40,317 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:40.421] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ee419213-a1ba-9d7a-866b-541c9c7ac21d"}, traceId: 213e007d17563313794713498eef5d'}
[17:49:40.423] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[17:49:41.917] 2025-08-27 17:49:41,883 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:42.138]   [EARLY_EXIT] No actions taken, continuing...
[17:49:42.163] 
[17:49:42.163] [TURN 6/10]
[17:49:42.182] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:42.735] 2025-08-27 17:49:42,735 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:42.742] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"601c7b4f-34c2-9571-bf5e-573e1b20047d"}, traceId: 213e006e17563313824866393e12b2'}
[17:49:42.743] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:49:43.002] 2025-08-27 17:49:42,980 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:43.043] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"30c075df-6560-97a8-bca0-ebbec8b4cc17"}, traceId: 213e007d17563313826563502eef5d'}
[17:49:43.048] [RETRY] 400 error detected, waiting 3.0s before retry (not counting as turn)...
[17:49:45.774] 2025-08-27 17:49:45,684 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:46.062]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:49:46.087] 
[17:49:46.087] [TURN 7/10]
[17:49:46.162] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:47.746] 2025-08-27 17:49:47,715 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:47.784] 2025-08-27 17:49:47,711 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:48.196] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"821fe3d0-4378-92bb-96a6-248d1913c24d"}, traceId: 213e007d17563313865403508eef5d'}
[17:49:48.237] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[17:49:48.240] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c98632da-f74a-99ef-99e4-f214991ada70"}, traceId: 213e006e17563313865426425e12b2'}
[17:49:48.240] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:49:51.582] 2025-08-27 17:49:51,571 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:49:51.596] 2025-08-27 17:49:51,568 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:51.656] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ffacc639-a185-9d4d-83e6-fb8d21117099"}, traceId: 213e007d17563313905093513eef5d'}
[17:49:51.667] [ERROR] Max retries reached after 5 attempts
[17:49:51.667] [API_FAILURE] All retries exhausted
[17:49:51.669]   [API_FAILURE] API failed (timeout or max retries)
[17:49:51.679]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:49:51.683] 
[17:49:51.683] [TURN 8/10]
[17:49:51.741] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:53.328] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:49:53.392] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:49:53.594] [AI_DEBUG] 生成的txt_content长度: 4407
[17:49:53.595] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:49:53.598]   - use_ai_classification=True
[17:49:53.598]   - ai_classifier=True
[17:49:53.600]   - txt_content_len=4407
[17:49:53.601]   - task_model=qwen2.5-72b-instruct
[17:49:53.602] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:49:53.602] 2025-08-27 17:49:53,585 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:53.698] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:49:53.862]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:49:53.866] 
[17:49:53.866] [TURN 9/10]
[17:49:53.889] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:54.452] 2025-08-27 17:49:54,441 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:49:54.459] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:49:54.460] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:49:54.461] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:49:54.463] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:49:54.463] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:49:54.468] 2025-08-27 17:49:54,467 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:49:55.667] 2025-08-27 17:49:55,596 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:55.905]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:49:55.908] 
[17:49:55.909] [TURN 10/10]
[17:49:55.996] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:57.510] 2025-08-27 17:49:57,471 - mcp_embedding_manager - INFO - FAISS index loaded
[17:49:57.511] 2025-08-27 17:49:57,511 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:49:57.511] 2025-08-27 17:49:57,511 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:49:58.556] [INFO] Tool embedding index loaded successfully
[17:49:58.804] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:49:58.824] [INFO] Operation semantic index initialized
[17:49:58.845] 2025-08-27 17:49:58,799 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:49:58.876] 
[17:49:58.876] [TURN 1/10]
[17:49:58.893] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:49:58.975]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:49:58.977] [ASSISTED] Task received 5 format helps, final result: failure
[17:49:59.086] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:49:59.369] 2025-08-27 17:49:59,369 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:49:59.369] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:49:59.369] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:49:59.369] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:49:59.369] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:49:59.369] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:49:59.369] 2025-08-27 17:49:59,369 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:50:01.104] 2025-08-27 17:50:01,050 - mcp_embedding_manager - INFO - FAISS index loaded
[17:50:01.122] 2025-08-27 17:50:01,099 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:50:01.124] 2025-08-27 17:50:01,101 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:50:01.423] [INFO] Tool embedding index loaded successfully
[17:50:01.526] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:50:01.539] 2025-08-27 17:50:01,539 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:01.554] [INFO] Operation semantic index initialized
[17:50:01.593] 
[17:50:01.609] [TURN 1/10]
[17:50:01.612] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"65a73c2f-8e6d-93cc-a639-e102b46bb4d0"}, traceId: 213e06c317563314006177065e7ab4'}
[17:50:01.612] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:50:01.614] 2025-08-27 17:50:01,614 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:50:01.678] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:01.701] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.72
[17:50:01.769] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:50:01.769] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:50:01.778] [AI_DEBUG] 生成的txt_content长度: 23560
[17:50:01.778] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:50:01.778]   - use_ai_classification=True
[17:50:01.778]   - ai_classifier=True
[17:50:01.778]   - txt_content_len=23560
[17:50:01.778]   - task_model=qwen2.5-72b-instruct
[17:50:01.778] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:50:03.632] 2025-08-27 17:50:03,621 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:03.662] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c4045337-984e-924d-88da-5df4ed226280"}, traceId: 213e06bc17563314028257849e8050'}
[17:50:03.663] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:50:04.685] 2025-08-27 17:50:04,672 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:04.716] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9f3236b3-ff4e-9c16-bcf0-e48839b84672"}, traceId: 213e06c317563314035677069e7ab4'}
[17:50:04.719] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:50:05.925] 2025-08-27 17:50:05,918 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:05.930]   [SEARCH] Query: file reader
[17:50:05.956] 
[17:50:05.958] [TURN 2/10]
[17:50:05.958] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:06.862] 2025-08-27 17:50:06,813 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:07.077] 2025-08-27 17:50:06,919 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:07.077] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0a4cd5db-77b1-9c34-82b7-449e1de568da"}, traceId: 213e06c317563314058477077e7ab4'}
[17:50:07.078] [RETRY] 400 error detected, waiting 3.3s before retry (not counting as turn)...
[17:50:07.078]   [EARLY_EXIT] No actions taken, continuing...
[17:50:07.078] 
[17:50:07.078] [TURN 3/10]
[17:50:07.080] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:08.144] 2025-08-27 17:50:08,119 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:08.205]   [EARLY_EXIT] No actions taken, continuing...
[17:50:08.208] 
[17:50:08.209] [TURN 4/10]
[17:50:08.225] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:09.227] 2025-08-27 17:50:09,205 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:50:09.286] 2025-08-27 17:50:09,283 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:09.329] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.86
[17:50:09.353]   [EARLY_EXIT] No actions taken, continuing...
[17:50:09.353] 
[17:50:09.353] [TURN 5/10]
[17:50:09.364] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:10.485] 2025-08-27 17:50:10,464 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:10.628]   [EARLY_EXIT] No actions taken, continuing...
[17:50:10.629] 
[17:50:10.634] [TURN 6/10]
[17:50:10.657] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:11.704] 2025-08-27 17:50:11,668 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:11.933]   [SEARCH] Query: file reader
[17:50:12.006] 
[17:50:12.007] [TURN 2/10]
[17:50:12.090] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:12.459] 2025-08-27 17:50:12,425 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:12.514]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:50:12.516] 
[17:50:12.520] [TURN 7/10]
[17:50:12.525] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:13.443] 2025-08-27 17:50:13,435 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:13.493] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"00bc1f33-4022-9540-bbc2-e88b624b1055"}, traceId: 213e06c317563314126097087e7ab4'}
[17:50:13.494] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:50:14.389] 2025-08-27 17:50:14,387 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:14.435]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:50:14.435] 
[17:50:14.435] [TURN 8/10]
[17:50:14.441] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:15.140] 2025-08-27 17:50:15,118 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:15.242] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5e8c407a-8fac-999d-b788-5b37006b1b10"}, traceId: 213e06bc17563314146247873e8050'}
[17:50:15.245] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:50:15.399] 2025-08-27 17:50:15,398 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:15.441]   [EARLY_EXIT] No actions taken, continuing...
[17:50:15.442] 
[17:50:15.443] [TURN 3/10]
[17:50:15.453] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:16.933] 2025-08-27 17:50:16,912 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:16.987] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f8975cec-54dd-96f1-a6c4-541648696800"}, traceId: 213e06c317563314156617097e7ab4'}
[17:50:17.008] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:50:18.220] 2025-08-27 17:50:18,184 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:18.270]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:50:18.270] 
[17:50:18.270] [TURN 9/10]
[17:50:18.281] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:19.551] 2025-08-27 17:50:19,482 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:19.556] 2025-08-27 17:50:19,486 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:19.650] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"25976c49-75f2-9beb-8378-b6fd93cf5c29"}, traceId: 213e06bc17563314184727878e8050'}[LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"30387412-6fd3-936b-8854-966daf903d46"}, traceId: 213e06c317563314184217103e7ab4'}
[17:50:19.652] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:50:19.652] 
[17:50:19.654] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:50:22.566] 2025-08-27 17:50:22,563 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:22.577] 2025-08-27 17:50:22,558 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:22.607] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1274c84f-b9cd-977c-975b-201a8a740cb1"}, traceId: 213e06bc17563314215357884e8050'}
[17:50:22.608] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:50:22.649]   [EARLY_EXIT] No actions taken, continuing...
[17:50:22.653] 
[17:50:22.653] [TURN 4/10]
[17:50:22.654] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:24.344] 2025-08-27 17:50:24,265 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:24.473] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"532122cc-bc08-93c8-9471-b97aaf2f8a58"}, traceId: 213e06c317563314228667111e7ab4'}
[17:50:24.484] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:50:25.583] 2025-08-27 17:50:25,477 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:25.753] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"45e533fe-8dc3-90c7-8410-ae6a34f68420"}, traceId: 213e06bc17563314246637887e8050'}
[17:50:25.833] [RETRY] 400 error detected, waiting 2.5s before retry (not counting as turn)...
[17:50:26.970] 2025-08-27 17:50:26,936 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:27.004]   [EARLY_EXIT] No actions taken, continuing...
[17:50:27.004] 
[17:50:27.004] [TURN 5/10]
[17:50:27.018] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:29.269] 2025-08-27 17:50:29,162 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:29.564]   [EARLY_EXIT] No actions taken, continuing...
[17:50:29.581] 
[17:50:29.581] [TURN 6/10]
[17:50:29.657] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:30.105] 2025-08-27 17:50:30,105 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:30.115] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5e3bd612-111a-99e2-97e5-a7633d687123"}, traceId: 213e06bc17563314298657898e8050'}
[17:50:30.124] [RETRY] 400 error detected, waiting 2.6s before retry (not counting as turn)...
[17:50:30.586] 2025-08-27 17:50:30,586 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:31.407] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"74ac8623-acf9-9587-aded-32d05e2c14fa"}, traceId: 213e06c317563314298567120e7ab4'}
[17:50:31.407] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:50:32.131] 2025-08-27 17:50:32,131 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:32.225]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:50:32.326] 
[17:50:32.326] [TURN 7/10]
[17:50:32.326] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:33.203] 2025-08-27 17:50:33,203 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:33.212] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d4ab210d-deab-9cd6-9807-f5a701f25857"}, traceId: 213e06c317563314324467123e7ab4'}
[17:50:33.212] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:50:33.657] 2025-08-27 17:50:33,657 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:33.662] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"07dc86ba-3fc5-9887-889a-882790868969"}, traceId: 213e06bc17563314329217900e8050'}
[17:50:33.662] [ERROR] Max retries reached after 5 attempts
[17:50:33.662] [API_FAILURE] All retries exhausted
[17:50:33.666]   [API_FAILURE] API failed (timeout or max retries)
[17:50:33.708] [ASSISTED] Task received 3 format helps, final result: failure
[17:50:34.333] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:50:34.381] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:50:34.386] [AI_DEBUG] 生成的txt_content长度: 19357
[17:50:34.723] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:50:34.723]   - use_ai_classification=True
[17:50:34.723]   - ai_classifier=True
[17:50:34.723]   - txt_content_len=19357
[17:50:34.724]   - task_model=qwen2.5-72b-instruct
[17:50:34.724] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:50:34.750] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:50:35.359] 2025-08-27 17:50:35,359 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:50:35.359] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:50:35.359] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:50:35.360] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:50:35.361] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:50:35.361] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:50:35.367] 2025-08-27 17:50:35,367 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:50:35.720] 2025-08-27 17:50:35,719 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:36.020]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:50:36.032] 
[17:50:36.033] [TURN 8/10]
[17:50:36.062] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:37.135] 2025-08-27 17:50:37,134 - mcp_embedding_manager - INFO - FAISS index loaded
[17:50:37.292] 2025-08-27 17:50:37,136 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:50:37.292] 2025-08-27 17:50:37,136 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:50:37.292] [INFO] Tool embedding index loaded successfully
[17:50:37.292] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:50:37.292] [INFO] Operation semantic index initialized
[17:50:37.292] 2025-08-27 17:50:37,231 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:37.292]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:50:37.292] 
[17:50:37.292] [TURN 9/10]
[17:50:37.292] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:37.320] 
[17:50:37.320] [TURN 1/10]
[17:50:38.391] 2025-08-27 17:50:38,390 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:38.391] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:38.418] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"25b78f71-c087-9ea9-8b57-7de987bed5cb"}, traceId: 213e06c317563314374177132e7ab4'}
[17:50:38.419] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:50:39.950] 2025-08-27 17:50:39,949 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:40.043]   [SEARCH] Query: file reader
[17:50:40.066] 
[17:50:40.066] [TURN 2/10]
[17:50:40.080] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:40.535] 2025-08-27 17:50:40,523 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:40.548] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"80bbd4ae-4636-97a3-abab-257676291f1f"}, traceId: 213e06c317563314397507133e7ab4'}
[17:50:40.550] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:50:41.264] 2025-08-27 17:50:41,258 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:41.307] 2025-08-27 17:50:41,307 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:50:41.409]   [EARLY_EXIT] No actions taken, continuing...
[17:50:41.413] 
[17:50:41.413] [TURN 3/10]
[17:50:41.423] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.78
[17:50:41.467] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:42.574] 2025-08-27 17:50:42,573 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:42.589]   [EARLY_EXIT] No actions taken, continuing...
[17:50:42.589] 
[17:50:42.589] [TURN 4/10]
[17:50:42.599] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:42.840] 2025-08-27 17:50:42,840 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:42.856]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:50:42.859] 
[17:50:42.859] [TURN 10/10]
[17:50:42.864] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:43.021] 2025-08-27 17:50:43,021 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:43.022] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3c0b30fd-ec35-9370-bf73-1bfdfe062550"}, traceId: 213e080f17563314427813360e0d69'}
[17:50:43.022] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:50:43.939] 2025-08-27 17:50:43,939 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:43.954]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:50:43.967] [ASSISTED] Task received 5 format helps, final result: failure
[17:50:44.149] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:50:44.149] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:50:44.149] [AI_DEBUG] 生成的txt_content长度: 23668
[17:50:44.149] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:50:44.149]   - use_ai_classification=True
[17:50:44.149]   - ai_classifier=True
[17:50:44.149]   - txt_content_len=23668
[17:50:44.149]   - task_model=qwen2.5-72b-instruct
[17:50:44.151] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:50:44.199] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:50:44.936] 2025-08-27 17:50:44,935 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:50:44.937] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:50:44.939] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:50:44.941] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:50:44.944] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:50:44.945] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:50:44.946] 2025-08-27 17:50:44,945 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:50:45.607] 2025-08-27 17:50:45,598 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:45.663] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b845352d-2f9d-9f79-8e85-82356acc23c2"}, traceId: 213e080f17563314448023362e0d69'}
[17:50:45.676] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[17:50:45.712] 2025-08-27 17:50:45,711 - mcp_embedding_manager - INFO - FAISS index loaded
[17:50:45.712] 2025-08-27 17:50:45,712 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:50:45.712] 2025-08-27 17:50:45,712 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:50:45.740] [INFO] Tool embedding index loaded successfully
[17:50:45.742] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:50:45.742] [INFO] Operation semantic index initialized
[17:50:45.757] 
[17:50:45.757] [TURN 1/10]
[17:50:45.758] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:47.683] 2025-08-27 17:50:47,661 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:47.770] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"761f5687-f20b-9271-a112-3c321a9cfe08"}, traceId: 213e060c17563314466353007e8921'}
[17:50:47.775] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:50:48.755] 2025-08-27 17:50:48,745 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:48.766] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d78b2752-eb1b-9bf4-879e-a4b10867c09c"}, traceId: 213e080f17563314479403364e0d69'}
[17:50:48.768] [RETRY] 400 error detected, waiting 3.3s before retry (not counting as turn)...
[17:50:49.305] 2025-08-27 17:50:49,293 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:49.646] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8c6a0847-63be-9a32-9c38-49a1ff70085c"}, traceId: 213e060c17563314489423011e8921'}
[17:50:49.667] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:50:51.606] 2025-08-27 17:50:51,603 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:50:51.611] 2025-08-27 17:50:51,610 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:51.725] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.88
[17:50:51.745]   [SEARCH] Query: file reader
[17:50:51.768] 
[17:50:51.770] [TURN 2/10]
[17:50:51.784] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:53.098] 2025-08-27 17:50:53,090 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:53.109] 2025-08-27 17:50:53,100 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:53.377] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"06878e96-32a7-907d-bd09-d484611bc7a6"}, traceId: 213e080f17563314526793369e0d69'}
[17:50:53.407] [RETRY] 400 error detected, waiting 3.7s before retry (not counting as turn)...
[17:50:53.488]   [EARLY_EXIT] No actions taken, continuing...
[17:50:53.489] 
[17:50:53.490] [TURN 3/10]
[17:50:53.515] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:55.368] 2025-08-27 17:50:55,338 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:55.571]   [EARLY_EXIT] No actions taken, continuing...
[17:50:55.575] 
[17:50:55.576] [TURN 4/10]
[17:50:55.586] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:56.352] 2025-08-27 17:50:56,346 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:56.379] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"47c5208b-818e-9e5f-b67b-4fd86bee0b69"}, traceId: 213e060c17563314558793027e8921'}
[17:50:56.379] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:50:57.941] 2025-08-27 17:50:57,922 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:57.982] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b207082b-7a4b-9f42-bbf9-306240c4d5c9"}, traceId: 213e060c17563314574923029e8921'}
[17:50:57.986] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[17:50:58.332] 2025-08-27 17:50:58,328 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:50:58.370]   [EARLY_EXIT] No actions taken, continuing...
[17:50:58.370] 
[17:50:58.371] [TURN 5/10]
[17:50:58.383] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:50:59.453] 2025-08-27 17:50:59,444 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:50:59.501] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"117581c6-db87-9a9b-a095-95b00dbcd8f9"}, traceId: 213e080f17563314585653376e0d69'}
[17:50:59.502] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:51:01.145] 2025-08-27 17:51:01,100 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:01.157]   [EARLY_EXIT] No actions taken, continuing...
[17:51:01.159] 
[17:51:01.160] [TURN 5/10]
[17:51:01.160] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:02.123] 2025-08-27 17:51:02,111 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:02.211] 2025-08-27 17:51:02,211 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:02.251] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b2918d40-c721-9753-a433-6e2fb2a2a5a4"}, traceId: 213e060c17563314613393037e8921'}
[17:51:02.251] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:51:02.261]   [EARLY_EXIT] No actions taken, continuing...
[17:51:02.261] 
[17:51:02.261] [TURN 6/10]
[17:51:02.276] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:03.420] 2025-08-27 17:51:03,418 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:03.576]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:51:03.580] 
[17:51:03.582] [TURN 7/10]
[17:51:03.582] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:04.190] 2025-08-27 17:51:04,169 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:04.254] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a0ce1995-aa92-965c-a56a-716d7638e089"}, traceId: 213e060c17563314636673044e8921'}
[17:51:04.257] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:51:04.652] 2025-08-27 17:51:04,631 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:04.802] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"040be5a2-28ed-9d8b-98f5-fb46ffbd6c04"}, traceId: 213e080f17563314636813385e0d69'}
[17:51:04.804] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:51:07.510] 2025-08-27 17:51:07,496 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:07.514] 2025-08-27 17:51:07,493 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:07.597]   [EARLY_EXIT] No actions taken, continuing...
[17:51:07.630] 
[17:51:07.630] [TURN 6/10]
[17:51:07.630]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:51:07.630] 
[17:51:07.631] [TURN 8/10]
[17:51:07.631] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:07.631] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:09.196] 2025-08-27 17:51:09,147 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:09.240] 2025-08-27 17:51:09,148 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:09.240]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:51:09.240] 
[17:51:09.240] [TURN 9/10]
[17:51:09.240]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:51:09.240] 
[17:51:09.240] [TURN 7/10]
[17:51:09.240] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:09.241] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:10.575] 2025-08-27 17:51:10,552 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:10.579] 2025-08-27 17:51:10,550 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:10.785]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns  [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:51:10.786] 
[17:51:10.786] [TURN 10/10]
[17:51:10.791] 
[17:51:10.792] 
[17:51:10.793] [TURN 8/10]
[17:51:10.807] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:10.823] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:12.280] 2025-08-27 17:51:12,261 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:12.347] 2025-08-27 17:51:12,265 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:12.399]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:51:12.401] 
[17:51:12.401] [TURN 9/10]
[17:51:12.402]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:51:12.426] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:12.441] [ASSISTED] Task received 5 format helps, final result: failure
[17:51:13.512] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:51:13.514] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:51:13.530] [AI_DEBUG] 生成的txt_content长度: 23640
[17:51:13.532] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:51:13.532]   - use_ai_classification=True
[17:51:13.533]   - ai_classifier=True
[17:51:13.533]   - txt_content_len=23640
[17:51:13.533]   - task_model=qwen2.5-72b-instruct
[17:51:13.533] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:51:13.634] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:51:14.458] 2025-08-27 17:51:14,411 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:51:14.494] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:51:14.494] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:51:14.496] 2025-08-27 17:51:14,488 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:14.502] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:51:14.514] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:51:14.514] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:51:14.537] 2025-08-27 17:51:14,536 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:51:14.652]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:51:14.652] 
[17:51:14.652] [TURN 10/10]
[17:51:14.702] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:17.470] 2025-08-27 17:51:17,465 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:17.529] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0fba058e-bbba-9590-a58b-76fa683bbf48"}, traceId: 213e060c17563314757143069e8921'}
[17:51:17.531] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[17:51:19.921] 2025-08-27 17:51:19,921 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:51:20.166] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.88
[17:51:20.536] 2025-08-27 17:51:20,536 - mcp_embedding_manager - INFO - FAISS index loaded
[17:51:20.544] 2025-08-27 17:51:20,539 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:51:20.544] 2025-08-27 17:51:20,544 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:51:20.681] [INFO] Tool embedding index loaded successfully
[17:51:20.714] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:51:20.725] [INFO] Operation semantic index initialized
[17:51:20.746] 
[17:51:20.746] [TURN 1/10]
[17:51:20.746] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:21.051] 2025-08-27 17:51:21,051 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:21.055]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:51:21.064] [ASSISTED] Task received 5 format helps, final result: failure
[17:51:21.124] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:51:21.129] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:51:21.130] [AI_DEBUG] 生成的txt_content长度: 23571
[17:51:21.130] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:51:21.130]   - use_ai_classification=True
[17:51:21.130]   - ai_classifier=True
[17:51:21.130]   - txt_content_len=23571
[17:51:21.130]   - task_model=qwen2.5-72b-instruct
[17:51:21.130] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:51:21.140] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:51:21.245] 2025-08-27 17:51:21,245 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:51:21.245] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:51:21.245] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:51:21.245] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:51:21.245] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:51:21.245] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:51:21.245] 2025-08-27 17:51:21,245 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:51:21.711] 2025-08-27 17:51:21,711 - mcp_embedding_manager - INFO - FAISS index loaded
[17:51:21.711] 2025-08-27 17:51:21,711 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:51:21.711] 2025-08-27 17:51:21,711 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:51:21.723] [INFO] Tool embedding index loaded successfully
[17:51:21.727] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:51:21.727] [INFO] Operation semantic index initialized
[17:51:21.736] 
[17:51:21.737] [TURN 1/10]
[17:51:21.737] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:22.397] 2025-08-27 17:51:22,396 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:22.407] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bc5f1432-50c9-9f17-9848-dfc635d98d05"}, traceId: 213e059d17563314816243454e351a'}
[17:51:22.407] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:51:23.582] 2025-08-27 17:51:23,577 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:23.722]   [SEARCH] Query: file reader json
[17:51:23.820] 
[17:51:23.827] [TURN 2/10]
[17:51:23.848] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:24.107] 2025-08-27 17:51:24,104 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:24.136] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7dfa47ed-6681-9601-beba-955dae1b2e2c"}, traceId: 213e059d17563314838143459e351a'}
[17:51:24.139] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[17:51:24.776] 2025-08-27 17:51:24,774 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:24.785]   [EARLY_EXIT] No actions taken, continuing...
[17:51:24.785] 
[17:51:24.786] [TURN 3/10]
[17:51:24.786] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:25.897] 2025-08-27 17:51:25,887 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:25.922]   [EARLY_EXIT] No actions taken, continuing...
[17:51:25.922] 
[17:51:25.922] [TURN 4/10]
[17:51:25.925] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:27.309] 2025-08-27 17:51:27,244 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:27.319] 2025-08-27 17:51:27,272 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:27.748] 2025-08-27 17:51:27,748 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:51:27.763]   [SEARCH] Query: file reader json
[17:51:27.765] 
[17:51:27.765] [TURN 2/10]
[17:51:27.988] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.88
[17:51:28.012] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:28.020]   [EARLY_EXIT] No actions taken, continuing...
[17:51:28.020] 
[17:51:28.020] [TURN 5/10]
[17:51:28.087] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:28.683] 2025-08-27 17:51:28,683 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:28.698] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4bfe2c5d-68ad-9cc2-b93b-8ce5e94d7294"}, traceId: 213e059d17563314884123471e351a'}
[17:51:28.700] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:51:29.169] 2025-08-27 17:51:29,168 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:29.177] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a3800780-f1e5-9278-aefb-659ea6f4819b"}, traceId: 213e065417563314884021888e8066'}
[17:51:29.185] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:51:29.984] 2025-08-27 17:51:29,975 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:29.994] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b2cfd2fe-411c-9c72-a143-d928acb9d882"}, traceId: 213e059d17563314896093472e351a'}
[17:51:29.996] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[17:51:31.096] 2025-08-27 17:51:31,082 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:31.311]   [EARLY_EXIT] No actions taken, continuing...
[17:51:31.314] 
[17:51:31.314] [TURN 6/10]
[17:51:31.332] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:32.380] 2025-08-27 17:51:32,379 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:32.386]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:51:32.386] 
[17:51:32.386] [TURN 7/10]
[17:51:32.390] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:33.319] 2025-08-27 17:51:33,319 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:33.325] 2025-08-27 17:51:33,324 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:33.337] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5731f753-e2a6-9361-b377-455ed80f5ceb"}, traceId: 213e059d17563314925453477e351a'}
[17:51:33.341] [RETRY] 400 error detected, waiting 3.1s before retry (not counting as turn)...
[17:51:33.343] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a97a21ac-73c8-9203-8c34-a58fd5556d3e"}, traceId: 213e065417563314925501891e8066'}
[17:51:33.364] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[17:51:35.102] 2025-08-27 17:51:35,066 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:35.320]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:51:35.323] 
[17:51:35.323] [TURN 8/10]
[17:51:35.328] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:35.848] 2025-08-27 17:51:35,847 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:35.851] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bfc90d80-6e27-9912-b282-ba51755a2fc1"}, traceId: 213e065417563314955851899e8066'}
[17:51:35.852] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:51:37.449] 2025-08-27 17:51:37,428 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:37.537]   [EARLY_EXIT] No actions taken, continuing...
[17:51:37.537] 
[17:51:37.537] [TURN 3/10]
[17:51:37.541] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:37.803] 2025-08-27 17:51:37,803 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:37.912]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:51:37.912] 
[17:51:37.912] [TURN 9/10]
[17:51:37.924] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:38.797] 2025-08-27 17:51:38,791 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:38.954] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5212c255-8667-95c8-8acc-8793e2867221"}, traceId: 213e059d17563314977163482e351a'}
[17:51:38.959] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:51:39.309] 2025-08-27 17:51:39,308 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:39.371]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:51:39.371] 
[17:51:39.371] [TURN 10/10]
[17:51:39.394] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:40.938] 2025-08-27 17:51:40,904 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:40.955]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:51:40.957] [ASSISTED] Task received 5 format helps, final result: failure
[17:51:41.132] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:51:41.143] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:51:41.145] [AI_DEBUG] 生成的txt_content长度: 24202
[17:51:41.145] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:51:41.145]   - use_ai_classification=True
[17:51:41.145]   - ai_classifier=True
[17:51:41.145]   - txt_content_len=24202
[17:51:41.145]   - task_model=qwen2.5-72b-instruct
[17:51:41.145] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:51:41.199] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:51:41.597] 2025-08-27 17:51:41,592 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:51:41.597] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:51:41.598] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:51:41.688] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:51:41.689] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:51:41.689] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:51:41.689] 2025-08-27 17:51:41,604 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:51:42.603] 2025-08-27 17:51:42,481 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:43.658]   [EARLY_EXIT] No actions taken, continuing...
[17:51:43.662] 
[17:51:43.662] [TURN 4/10]
[17:51:43.767] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:44.741] 2025-08-27 17:51:44,700 - mcp_embedding_manager - INFO - FAISS index loaded
[17:51:44.753] 2025-08-27 17:51:44,725 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:51:44.754] 2025-08-27 17:51:44,725 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:51:46.430] [INFO] Tool embedding index loaded successfully
[17:51:46.574] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:51:46.638] [INFO] Operation semantic index initialized
[17:51:46.806] 2025-08-27 17:51:46,795 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:46.816] 2025-08-27 17:51:46,814 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:51:46.926] 
[17:51:46.926] [TURN 1/10]
[17:51:46.964] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:47.061]   [EARLY_EXIT] No actions taken, continuing...
[17:51:47.068] 
[17:51:47.068] [TURN 5/10][AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.88
[17:51:47.078] 
[17:51:47.125] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:47.153] 💾 智能Checkpoint: 保存20个结果...
[17:51:47.158]    触发原因: 数量=20, 时间=0.0s, 强制=False
[17:51:47.268] 2025-08-27 17:51:47,267 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507244286.json
[17:51:47.280] 2025-08-27 17:51:47,280 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507277616.json
[17:51:47.297] 2025-08-27 17:51:47,294 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507284697.json
[17:51:47.305] 2025-08-27 17:51:47,305 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507297343.json
[17:51:47.320] 2025-08-27 17:51:47,320 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507309782.json
[17:51:47.344] 2025-08-27 17:51:47,344 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507323200.json
[17:51:47.351] 2025-08-27 17:51:47,351 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507347017.json
[17:51:47.358] 2025-08-27 17:51:47,358 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507353829.json
[17:51:47.370] 2025-08-27 17:51:47,370 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507365095.json
[17:51:47.380] 2025-08-27 17:51:47,380 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507374887.json
[17:51:47.387] 2025-08-27 17:51:47,387 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507383314.json
[17:51:47.387] 2025-08-27 17:51:47,387 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507387267.json
[17:51:47.392] 2025-08-27 17:51:47,392 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507389561.json
[17:51:47.399] 2025-08-27 17:51:47,399 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507396950.json
[17:51:47.406] 2025-08-27 17:51:47,406 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507402248.json
[17:51:48.807] 2025-08-27 17:51:48,761 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331507406629.json
[17:51:48.835] 2025-08-27 17:51:48,821 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:49.018] 2025-08-27 17:51:49,014 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331508895818.json
[17:51:49.082]   [EARLY_EXIT] No actions taken, continuing...
[17:51:49.084] 
[17:51:49.084] [TURN 6/10]
[17:51:49.111] 2025-08-27 17:51:49,100 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331509041406.json
[17:51:49.201] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:49.276] 2025-08-27 17:51:49,275 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331509107429.json
[17:51:49.361] 2025-08-27 17:51:49,358 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331509295351.json
[17:51:49.361] ✅ Checkpoint完成: 成功保存 20/20 个结果
[17:51:49.410] Progress: 20/49 (Success: 0)
[17:51:50.915] 2025-08-27 17:51:50,908 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:50.923] 2025-08-27 17:51:50,897 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:51.077] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"72ade707-e5af-9323-a52e-df9a28ce4ff2"}, traceId: 213e059d17563315095853497e351a'}
[17:51:51.085] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:51:51.097]   [SEARCH] Query: file reader
[17:51:51.134] 
[17:51:51.134] [TURN 2/10]
[17:51:51.155] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:52.502] 2025-08-27 17:51:52,479 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:51:52.651]   [EARLY_EXIT] No actions taken, continuing...
[17:51:52.651] 
[17:51:52.651] [TURN 3/10]
[17:51:52.684] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:51:53.674] 2025-08-27 17:51:53,664 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:53.682] 2025-08-27 17:51:53,674 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:53.779] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d7a3ed4d-2778-915e-ab52-9f7b84649d00"}, traceId: 213e059d17563315126303500e351a'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"21f7d2cc-fe96-9744-b413-b3b4e41d4dc1"}, traceId: 2150421317563315129195175e341e'}
[17:51:53.779] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:51:53.781] 
[17:51:53.782] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[17:51:56.610] 2025-08-27 17:51:56,596 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:56.722] 2025-08-27 17:51:56,720 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:51:56.790] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8ee17328-0d6c-9557-86a8-f8371166852e"}, traceId: 2150421317563315155435179e341e'}[LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"532bb56f-a724-9fde-8fc7-87291e949f52"}, traceId: 213e059d17563315158833505e351a'}
[17:51:56.790] [RETRY] 400 error detected, waiting 2.6s before retry (not counting as turn)...
[17:51:56.790] 
[17:51:56.790] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[17:52:00.142] 2025-08-27 17:52:00,122 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:00.276] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"09ba3c92-c96f-9854-871b-4d3d053d9318"}, traceId: 2150421317563315189345182e341e'}
[17:52:00.304] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[17:52:01.566] 2025-08-27 17:52:01,537 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:01.694]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:52:01.701] 
[17:52:01.702] [TURN 7/10]
[17:52:01.715] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:03.168] 2025-08-27 17:52:03,132 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:03.443]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:52:03.446] 
[17:52:03.446] [TURN 8/10]
[17:52:03.466] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:03.545] 2025-08-27 17:52:03,544 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:04.458]   [EARLY_EXIT] No actions taken, continuing...
[17:52:04.471] 
[17:52:04.474] [TURN 4/10]
[17:52:04.601] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:04.965] 2025-08-27 17:52:04,922 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:05.180]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:52:05.182] 
[17:52:05.249] [TURN 9/10]
[17:52:05.269] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:05.763] 2025-08-27 17:52:05,750 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:05.825]   [EARLY_EXIT] No actions taken, continuing...
[17:52:05.825] 
[17:52:05.825] [TURN 5/10]
[17:52:05.844] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:06.680] 2025-08-27 17:52:06,676 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:06.822] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"58c3f33f-e0a1-9468-8501-c0d5f1f7aa42"}, traceId: 213e059d17563315257113516e351a'}
[17:52:06.836] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:52:06.866] 2025-08-27 17:52:06,863 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:06.999]   [EARLY_EXIT] No actions taken, continuing...
[17:52:07.006] 
[17:52:07.016] [TURN 6/10]
[17:52:07.087] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:08.540] 2025-08-27 17:52:08,518 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:08.587]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:52:08.588] 
[17:52:08.588] [TURN 7/10]
[17:52:08.594] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:08.671] 2025-08-27 17:52:08,670 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:08.683]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:52:08.683] 
[17:52:08.683] [TURN 10/10]
[17:52:08.688] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:09.740] 2025-08-27 17:52:09,725 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:09.980]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:52:09.998] 
[17:52:09.998] [TURN 8/10]
[17:52:09.998] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:10.006] 2025-08-27 17:52:09,810 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:10.006]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:52:10.006] [ASSISTED] Task received 5 format helps, final result: failure
[17:52:11.407] 2025-08-27 17:52:11,393 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:11.511] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:52:11.516] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:52:11.520] [AI_DEBUG] 生成的txt_content长度: 24614
[17:52:11.520] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:52:11.520]   - use_ai_classification=True
[17:52:11.521]   - ai_classifier=True
[17:52:11.521]   - txt_content_len=24614
[17:52:11.521]   - task_model=qwen2.5-72b-instruct
[17:52:11.521] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:52:11.689] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:52:11.980]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:52:12.227] 
[17:52:12.264] [TURN 9/10]
[17:52:12.395] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:13.735] 2025-08-27 17:52:13,728 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:52:13.851] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:52:13.851] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:52:13.859] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:52:13.859] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:52:13.859] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:52:13.859] 2025-08-27 17:52:13,797 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:52:16.347] 2025-08-27 17:52:16,338 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:16.457] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fbeac099-61d9-97a4-a4c7-d31a7c4b4c37"}, traceId: 2150421317563315336085205e341e'}
[17:52:16.462] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:52:17.828] 2025-08-27 17:52:17,825 - mcp_embedding_manager - INFO - FAISS index loaded
[17:52:17.831] 2025-08-27 17:52:17,830 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:52:17.831] 2025-08-27 17:52:17,831 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:52:18.449] [INFO] Tool embedding index loaded successfully
[17:52:18.498] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:52:18.509] [INFO] Operation semantic index initialized
[17:52:18.549] 
[17:52:18.549] [TURN 1/10]
[17:52:18.555] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:18.851] 2025-08-27 17:52:18,850 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:18.869]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:52:18.869] 
[17:52:18.869] [TURN 10/10]
[17:52:18.870] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:20.289] 2025-08-27 17:52:20,271 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:20.363]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:52:20.365] [ASSISTED] Task received 5 format helps, final result: failure
[17:52:20.432] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:52:23.166] 2025-08-27 17:52:23,156 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:52:23.194] 2025-08-27 17:52:23,194 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:52:23.211] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:52:23.211] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:52:23.215] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:52:23.219] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:52:23.220] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:52:23.232] 2025-08-27 17:52:23,231 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:52:23.236] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:52:23.272] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:52:23.273] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:52:23.273] [AI_DEBUG] 生成的txt_content长度: 24212
[17:52:23.275] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:52:23.275]   - use_ai_classification=True
[17:52:23.275]   - ai_classifier=True
[17:52:23.275]   - txt_content_len=24212
[17:52:23.275]   - task_model=qwen2.5-72b-instruct
[17:52:23.275] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:52:23.872] 2025-08-27 17:52:23,867 - mcp_embedding_manager - INFO - FAISS index loaded
[17:52:23.873] 2025-08-27 17:52:23,871 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:52:23.873] 2025-08-27 17:52:23,871 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:52:24.179] [INFO] Tool embedding index loaded successfully
[17:52:24.296] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:52:24.309] [INFO] Operation semantic index initialized
[17:52:24.377] 
[17:52:24.377] [TURN 1/10]
[17:52:24.395] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:27.537] 2025-08-27 17:52:27,523 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:27.570] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ac62b19a-31c2-9a71-8071-4b1726b56c26"}, traceId: 2150458117563315466403093e8389'}
[17:52:27.571] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[17:52:28.668] 2025-08-27 17:52:28,661 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:52:28.757] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:52:29.813] 2025-08-27 17:52:29,774 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:29.932]   [SEARCH] Query: file reader
[17:52:29.984] 
[17:52:29.985] [TURN 2/10]
[17:52:30.005] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:31.751] 2025-08-27 17:52:31,746 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:31.880]   [EARLY_EXIT] No actions taken, continuing...
[17:52:31.881] 
[17:52:31.881] [TURN 3/10]
[17:52:31.890] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:33.661] 2025-08-27 17:52:33,622 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:33.671] 2025-08-27 17:52:33,618 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:34.112]   [SEARCH] Query: file reader json
[17:52:34.211]   [EARLY_EXIT] No actions taken, continuing...
[17:52:34.217] 
[17:52:34.217] [TURN 4/10]
[17:52:34.349] 
[17:52:34.349] [TURN 2/10]
[17:52:34.417] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:34.458] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:35.350] 2025-08-27 17:52:35,350 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:35.361] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"065eff17-3895-9de6-ad84-caee68d85dc1"}, traceId: 2150458117563315550353109e8389'}
[17:52:35.361] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:52:35.800] 2025-08-27 17:52:35,800 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:35.801] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8948babc-efb5-9286-86a6-dff1b78a2cca"}, traceId: 2150423617563315550291608e0afb'}
[17:52:35.801] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:52:37.028] 2025-08-27 17:52:37,028 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:37.048]   [EARLY_EXIT] No actions taken, continuing...
[17:52:37.048] 
[17:52:37.048] [TURN 5/10]
[17:52:37.056] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:37.577] 2025-08-27 17:52:37,577 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:37.577] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"970b4fd2-833f-9a6d-8389-b84766887987"}, traceId: 2150423617563315568131610e0afb'}
[17:52:37.578] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[17:52:37.815] 2025-08-27 17:52:37,815 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:37.816]   [EARLY_EXIT] No actions taken, continuing...
[17:52:37.816] 
[17:52:37.816] [TURN 6/10]
[17:52:37.821] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:38.808] 2025-08-27 17:52:38,808 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:38.818]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:52:38.823] 
[17:52:38.823] [TURN 7/10]
[17:52:38.823] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:40.042] 2025-08-27 17:52:40,029 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:40.063] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a0404cb0-bffc-9d1f-a05f-c7a4184a56c6"}, traceId: 2150423617563315597701613e0afb'}
[17:52:40.063] [RETRY] 400 error detected, waiting 2.7s before retry (not counting as turn)...
[17:52:40.147] 2025-08-27 17:52:40,147 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:40.174]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:52:40.177] 
[17:52:40.177] [TURN 8/10]
[17:52:40.186] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:41.251] 2025-08-27 17:52:41,250 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:41.298]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:52:41.298] 
[17:52:41.298] [TURN 9/10]
[17:52:41.305] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:42.283] 2025-08-27 17:52:42,283 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:42.317] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bc3eab60-2b80-96db-822d-dda976aca987"}, traceId: 2150458117563315614863124e8389'}
[17:52:42.317] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:52:43.902] 2025-08-27 17:52:43,898 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:43.908]   [EARLY_EXIT] No actions taken, continuing...
[17:52:43.908] 
[17:52:43.921] [TURN 3/10]
[17:52:43.921] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:44.486] 2025-08-27 17:52:44,484 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:44.490] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a498134b-ae9b-9137-a9f0-9ac4988be234"}, traceId: 2150458117563315636783127e8389'}
[17:52:44.490] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:52:44.860] 2025-08-27 17:52:44,859 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:44.890]   [EARLY_EXIT] No actions taken, continuing...
[17:52:44.891] 
[17:52:44.891] [TURN 4/10]
[17:52:44.899] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:45.838] 2025-08-27 17:52:45,837 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:45.860]   [EARLY_EXIT] No actions taken, continuing...
[17:52:45.860] 
[17:52:45.860] [TURN 5/10]
[17:52:45.865] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:46.494] 2025-08-27 17:52:46,493 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:46.505] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"15c27045-4cb0-9972-9c42-864afb048f3a"}, traceId: 2150458117563315657333129e8389'}
[17:52:46.506] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[17:52:46.799] 2025-08-27 17:52:46,799 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:46.810]   [EARLY_EXIT] No actions taken, continuing...
[17:52:46.812] 
[17:52:46.812] [TURN 6/10]
[17:52:46.820] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:47.822] 2025-08-27 17:52:47,820 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:48.341]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:52:48.341] 
[17:52:48.344] [TURN 7/10]
[17:52:48.345] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:48.924] 2025-08-27 17:52:48,923 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:48.958]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:52:48.958] 
[17:52:48.958] [TURN 8/10]
[17:52:48.958] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:49.438] 2025-08-27 17:52:49,427 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:49.557] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"eeac00fc-a73d-99e6-92e4-e097372963b2"}, traceId: 2150458117563315686303133e8389'}
[17:52:49.560] [RETRY] 400 error detected, waiting 2.6s before retry (not counting as turn)...
[17:52:49.643] 2025-08-27 17:52:49,643 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:49.644]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:52:49.644] 
[17:52:49.644] [TURN 9/10]
[17:52:49.645] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:50.570] 2025-08-27 17:52:50,569 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:50.758] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e9ea69ac-6cdc-90d1-befe-3db9c73e0d5c"}, traceId: 2150423617563315698011638e0afb'}
[17:52:50.758] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:52:51.913] 2025-08-27 17:52:51,913 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:51.914] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b941a0c9-a5ca-9804-897e-b78dd4a0b0fb"}, traceId: 2150423617563315716551642e0afb'}
[17:52:51.915] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:52:53.339] 2025-08-27 17:52:53,333 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:53.494]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:52:53.497] 
[17:52:53.499] [TURN 10/10]
[17:52:53.563] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:54.208] 2025-08-27 17:52:54,172 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:54.213] 2025-08-27 17:52:54,168 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:52:54.325] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c0c78efd-9cee-90b7-8d7e-bed954a493cb"}, traceId: 2150423617563315737391649e0afb'}
[17:52:54.328] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:52:54.328] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5adb30d1-3c23-9824-a2c9-996b40ea336c"}, traceId: 2150458117563315737513159e8389'}
[17:52:54.330] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:52:57.919] 2025-08-27 17:52:57,886 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:57.928] 2025-08-27 17:52:57,884 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:52:58.128]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:52:58.130]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:52:58.130] [TURN 10/10]
[17:52:58.137] 
[17:52:58.153] [ASSISTED] Task received 5 format helps, final result: failure
[17:52:58.185] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:52:58.698] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:52:58.701] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:52:58.708] [AI_DEBUG] 生成的txt_content长度: 24200
[17:52:58.708] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:52:58.708]   - use_ai_classification=True
[17:52:58.708]   - ai_classifier=True
[17:52:58.708]   - txt_content_len=24200
[17:52:58.716]   - task_model=qwen2.5-72b-instruct
[17:52:58.730] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:52:58.809] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:52:59.498] 2025-08-27 17:52:59,436 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:52:59.504] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:52:59.504] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:52:59.504] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:52:59.504] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:52:59.504] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:52:59.515] 2025-08-27 17:52:59,514 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:52:59.702] 2025-08-27 17:52:59,702 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:00.643]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:53:00.673] [ASSISTED] Task received 5 format helps, final result: failure
[17:53:02.276] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:53:02.594] 2025-08-27 17:53:02,594 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:53:02.596] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:53:02.597] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:53:02.604] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:53:02.604] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:53:02.604] [MCPEmbeddingManager] Current cache size: 21 embeddings
[17:53:02.617] 2025-08-27 17:53:02,616 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:53:03.458] 2025-08-27 17:53:03,283 - mcp_embedding_manager - INFO - FAISS index loaded
[17:53:03.458] 2025-08-27 17:53:03,455 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:53:03.458] 2025-08-27 17:53:03,455 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:53:04.711] [INFO] Tool embedding index loaded successfully
[17:53:05.511] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:53:05.622] [INFO] Operation semantic index initialized
[17:53:05.724] 2025-08-27 17:53:05,715 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:53:05.774] 
[17:53:05.787] [TURN 1/10]
[17:53:05.826] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:05.833] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:53:06.004] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:53:06.036] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:53:06.052] [AI_DEBUG] 生成的txt_content长度: 24206
[17:53:06.052] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:53:06.052]   - use_ai_classification=True
[17:53:06.052]   - ai_classifier=True
[17:53:06.052]   - txt_content_len=24206
[17:53:06.052]   - task_model=qwen2.5-72b-instruct
[17:53:06.052] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:53:07.731] 2025-08-27 17:53:07,724 - mcp_embedding_manager - INFO - FAISS index loaded
[17:53:07.764] 2025-08-27 17:53:07,733 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:53:07.764] 2025-08-27 17:53:07,734 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:53:08.978] [INFO] Tool embedding index loaded successfully
[17:53:09.181] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:53:09.201] 2025-08-27 17:53:09,178 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:09.216] [INFO] Operation semantic index initialized
[17:53:09.260] 
[17:53:09.260] [TURN 1/10]
[17:53:09.312] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:09.323]   [SEARCH] Query: file reader
[17:53:09.444] 
[17:53:09.444] [TURN 2/10]
[17:53:09.446] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:09.935] 2025-08-27 17:53:09,935 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:09.999] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c6d52672-6ac9-989d-904c-981d9fa9f92f"}, traceId: 2150458717563315896083633e8224'}
[17:53:09.999] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:53:12.085] 2025-08-27 17:53:12,054 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:53:12.098] 2025-08-27 17:53:12,064 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:12.173] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1d703fe1-1c8e-959b-afee-fdc578ba5452"}, traceId: 215045b717563315905293589e81f9'}
[17:53:12.176] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:53:12.213] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[17:53:14.100] 2025-08-27 17:53:14,027 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:14.277]   [EARLY_EXIT] No actions taken, continuing...
[17:53:14.280] 
[17:53:14.281] [TURN 3/10]
[17:53:14.295] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:15.844] 2025-08-27 17:53:15,801 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:15.850] 2025-08-27 17:53:15,793 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:16.092]   [SEARCH] Query: file reader
[17:53:16.113]   [EARLY_EXIT] No actions taken, continuing...
[17:53:16.114] 
[17:53:16.115] [TURN 4/10]
[17:53:16.123] 
[17:53:16.123] [TURN 2/10]
[17:53:16.130] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:16.131] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:17.644] 2025-08-27 17:53:17,622 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:17.678] 2025-08-27 17:53:17,613 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:17.934] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0fdc5bb7-772e-98f7-9c50-ec8b2779888a"}, traceId: 215045b717563315963763601e81f9'}
[17:53:17.941] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:53:17.974]   [EARLY_EXIT] No actions taken, continuing...
[17:53:17.974] 
[17:53:17.975] [TURN 5/10]
[17:53:18.000] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:19.433] 2025-08-27 17:53:19,321 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:19.684] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8b61f04d-2973-9752-b8ac-c4bb14c9c548"}, traceId: 2150458717563315982893647e8224'}
[17:53:19.705] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:53:20.798] 2025-08-27 17:53:20,765 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:21.247]   [EARLY_EXIT] No actions taken, continuing...
[17:53:21.250] 
[17:53:21.250] [TURN 3/10]
[17:53:21.283] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:25.389] 2025-08-27 17:53:25,361 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:25.397] 2025-08-27 17:53:25,369 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:25.433] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0213711d-9752-9e1a-ac52-ae59fbd88501"}, traceId: 2150458717563316015303652e8224'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"be20d22d-c659-9512-a930-a09b7d0d7b8f"}, traceId: 215045b717563316015363608e81f9'}
[17:53:25.433] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:53:25.433] 
[17:53:25.445] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:53:28.719] 2025-08-27 17:53:28,708 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:28.728] 2025-08-27 17:53:28,700 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:28.813]   [EARLY_EXIT] No actions taken, continuing...  [EARLY_EXIT] No actions taken, continuing...
[17:53:28.813] 
[17:53:28.813] [TURN 4/10]
[17:53:28.814] 
[17:53:28.814] 
[17:53:28.814] [TURN 6/10]
[17:53:28.831] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct[LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:28.840] 
[17:53:30.222] 2025-08-27 17:53:30,208 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:30.232] 2025-08-27 17:53:30,216 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:30.337] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"99377c4e-86c5-90bc-bf1a-fd2c3880cbb6"}, traceId: 215045b717563316090273616e81f9'}
[17:53:30.363] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:53:30.364] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3a062c5b-65f0-9e26-b07c-e143d0e57893"}, traceId: 2150458717563316090213666e8224'}
[17:53:30.364] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:53:33.330] 2025-08-27 17:53:33,323 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:33.340] 2025-08-27 17:53:33,324 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:33.430] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"996fe624-f79c-9dca-8595-50b19a5b9039"}, traceId: 2150458717563316122653673e8224'}
[17:53:33.444] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:53:33.450]   [EARLY_EXIT] No actions taken, continuing...
[17:53:33.451] 
[17:53:33.451] [TURN 5/10]
[17:53:33.458] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:34.915] 2025-08-27 17:53:34,895 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:35.038]   [EARLY_EXIT] No actions taken, continuing...
[17:53:35.038] 
[17:53:35.038] [TURN 6/10]
[17:53:35.051] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:36.475] 2025-08-27 17:53:36,457 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:36.481] 2025-08-27 17:53:36,461 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:36.607]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:53:36.609] 
[17:53:36.609] [TURN 7/10]
[17:53:36.615]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:53:36.619] 
[17:53:36.619] [TURN 7/10]
[17:53:36.652] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct[LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:36.658] 
[17:53:38.423] 2025-08-27 17:53:38,385 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:38.433] 2025-08-27 17:53:38,379 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:38.557]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:53:38.558] 
[17:53:38.559] [TURN 8/10]  [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:53:38.565] 
[17:53:38.569] 
[17:53:38.569] [TURN 8/10]
[17:53:38.576] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:38.598] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:40.437] 2025-08-27 17:53:40,369 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:40.672] 2025-08-27 17:53:40,672 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:40.702]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:53:40.704] 
[17:53:40.704] [TURN 9/10]
[17:53:40.719]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:53:40.722] 
[17:53:40.728] [TURN 9/10]
[17:53:40.728] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:40.747] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:42.199] 2025-08-27 17:53:42,156 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:42.219] 2025-08-27 17:53:42,159 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:42.407] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"361d1420-7caa-95f5-8857-f15508117278"}, traceId: 2150458717563316209173682e8224'}
[17:53:42.419] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:53:42.441]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:53:42.441] 
[17:53:42.442] [TURN 10/10]
[17:53:42.477] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:44.143] 2025-08-27 17:53:44,109 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:44.363] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8fe567b5-3ace-99ec-8476-03fc01e5e36d"}, traceId: 215045b717563316227083644e81f9'}
[17:53:44.369] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:53:45.806] 2025-08-27 17:53:45,747 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:45.985] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1b525939-df4c-9b08-988c-32d79bdbe43e"}, traceId: 2150458717563316245233691e8224'}
[17:53:45.995] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[17:53:48.623] 2025-08-27 17:53:48,590 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:48.779]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:53:48.790] [ASSISTED] Task received 5 format helps, final result: failure
[17:53:49.003] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:53:49.007] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:53:49.008] [AI_DEBUG] 生成的txt_content长度: 24212
[17:53:49.008] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:53:49.016]   - use_ai_classification=True
[17:53:49.016]   - ai_classifier=True
[17:53:49.016]   - txt_content_len=24212
[17:53:49.016]   - task_model=qwen2.5-72b-instruct
[17:53:49.018] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:53:49.053] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:53:49.413] 2025-08-27 17:53:49,408 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:53:49.414] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:53:49.414] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:53:49.416] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:53:49.417] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:53:49.417] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:53:49.424] 2025-08-27 17:53:49,423 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:53:52.298] 2025-08-27 17:53:51,540 - mcp_embedding_manager - INFO - FAISS index loaded
[17:53:52.321] 2025-08-27 17:53:52,315 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:53:52.323] 2025-08-27 17:53:52,323 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:53:52.523] [INFO] Tool embedding index loaded successfully
[17:53:52.532] 2025-08-27 17:53:52,532 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:52.555] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:53:52.568] [INFO] Operation semantic index initialized
[17:53:52.627] 
[17:53:52.627] [TURN 1/10]
[17:53:52.639]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:53:52.640] 
[17:53:52.640] [TURN 10/10]
[17:53:52.642] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:52.657] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:53:54.168] 2025-08-27 17:53:54,152 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:53:54.375] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b57fec9e-db71-92a1-bbba-52cf926d71e0"}, traceId: 2150458717563316329463705e8224'}
[17:53:54.383] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:53:54.805] 2025-08-27 17:53:54,800 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:53:54.874] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:53:54.911] 💾 智能Checkpoint: 保存5个结果...
[17:53:54.911]    触发原因: 数量=5, 时间=127.8s, 强制=False
[17:53:54.954] 2025-08-27 17:53:54,951 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331634939185.json
[17:53:54.962] 2025-08-27 17:53:54,962 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331634956748.json
[17:53:55.012] 2025-08-27 17:53:55,012 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331634962573.json
[17:53:55.077] 2025-08-27 17:53:55,073 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331635022905.json
[17:53:55.097] 2025-08-27 17:53:55,095 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331635076336.json
[17:53:55.097] ✅ Checkpoint完成: 成功保存 5/5 个结果
[17:53:56.751] 2025-08-27 17:53:56,744 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:53:56.908]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:53:56.915] [ASSISTED] Task received 5 format helps, final result: failure
[17:53:57.174] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:53:57.180] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:53:57.180] [AI_DEBUG] 生成的txt_content长度: 24198
[17:53:57.180] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:53:57.180]   - use_ai_classification=True
[17:53:57.180]   - ai_classifier=True
[17:53:57.185]   - txt_content_len=24198
[17:53:57.197]   - task_model=qwen2.5-72b-instruct
[17:53:57.197] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:53:57.216] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:53:57.901] 2025-08-27 17:53:57,900 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:53:57.901] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:53:57.901] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:53:57.901] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:53:57.901] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:53:57.901] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:53:57.913] 2025-08-27 17:53:57,913 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:53:59.606] 2025-08-27 17:53:59,606 - mcp_embedding_manager - INFO - FAISS index loaded
[17:53:59.609] 2025-08-27 17:53:59,606 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:53:59.609] 2025-08-27 17:53:59,606 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:53:59.623] [INFO] Tool embedding index loaded successfully
[17:53:59.624] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:53:59.624] [INFO] Operation semantic index initialized
[17:53:59.645] 
[17:53:59.645] [TURN 1/10]
[17:53:59.645] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:00.068] 2025-08-27 17:54:00,067 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:00.086] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4d3be5e5-2885-9994-9aea-2c26dbd5e8de"}, traceId: 2150421317563316392431351e3526'}
[17:54:00.094] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:54:02.057] 2025-08-27 17:54:02,053 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:02.167]   [SEARCH] Query: file reader
[17:54:02.248] 
[17:54:02.248] [TURN 2/10]
[17:54:02.320] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:02.441] 2025-08-27 17:54:02,441 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:02.446]   [SEARCH] Query: file reader json
[17:54:02.457] 
[17:54:02.457] [TURN 2/10]
[17:54:02.458] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:02.870] 2025-08-27 17:54:02,870 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:54:02.885] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:54:03.243] 2025-08-27 17:54:03,243 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:03.247]   [EARLY_EXIT] No actions taken, continuing...
[17:54:03.249] 
[17:54:03.249] [TURN 3/10]
[17:54:03.250] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:03.401] 2025-08-27 17:54:03,401 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:03.408] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ccba61e5-7808-990b-8bda-d044c1e59996"}, traceId: 2150421317563316426351358e3526'}
[17:54:03.409] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:54:04.380] 2025-08-27 17:54:04,380 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:04.390]   [EARLY_EXIT] No actions taken, continuing...
[17:54:04.390] 
[17:54:04.390] [TURN 4/10]
[17:54:04.394] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:05.415] 2025-08-27 17:54:05,414 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:05.425]   [EARLY_EXIT] No actions taken, continuing...
[17:54:05.425] 
[17:54:05.425] [TURN 5/10]
[17:54:05.429] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:06.079] 2025-08-27 17:54:06,079 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:06.094]   [EARLY_EXIT] No actions taken, continuing...
[17:54:06.094] 
[17:54:06.094] [TURN 3/10]
[17:54:06.099] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:06.595] 2025-08-27 17:54:06,595 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:06.597]   [EARLY_EXIT] No actions taken, continuing...
[17:54:06.598] 
[17:54:06.598] [TURN 6/10]
[17:54:06.603] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:07.333] 2025-08-27 17:54:07,333 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:07.370]   [EARLY_EXIT] No actions taken, continuing...
[17:54:07.370] 
[17:54:07.370] [TURN 4/10]
[17:54:07.372] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:08.471] 2025-08-27 17:54:08,447 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:08.477] 2025-08-27 17:54:08,457 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:08.577] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9c08ff90-8782-9a2a-b7c5-52ca6093069a"}, traceId: 2150421317563316475781364e3526'}
[17:54:08.577] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:54:08.597]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:54:08.599] 
[17:54:08.599] [TURN 7/10]
[17:54:08.609] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:09.777] 2025-08-27 17:54:09,723 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:09.939] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9a3a0b76-d46f-9356-b7da-1289dcc5555c"}, traceId: 2150439017563316488106766e2460'}
[17:54:09.945] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:54:10.558] 2025-08-27 17:54:10,543 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:10.634] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5e728d6d-fba0-9183-8d4b-cca8a380c633"}, traceId: 2150421317563316496411369e3526'}
[17:54:10.645] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[17:54:12.528] 2025-08-27 17:54:12,500 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:12.640]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:54:12.642] 
[17:54:12.642] [TURN 8/10]
[17:54:12.663] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:14.119] 2025-08-27 17:54:14,115 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:14.147] 2025-08-27 17:54:14,119 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:14.180]   [EARLY_EXIT] No actions taken, continuing...  [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:54:14.180] 
[17:54:14.180] [TURN 5/10]
[17:54:14.182] 
[17:54:14.182] 
[17:54:14.182] [TURN 9/10]
[17:54:14.187] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:14.219] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:15.761] 2025-08-27 17:54:15,745 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:15.769] 2025-08-27 17:54:15,736 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:15.909] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"05f58872-799f-9f36-9895-4a4db23f9ad2"}, traceId: 2150421317563316544261376e3526'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4e1a226c-d8c1-9e4a-b6f0-2081bc90b392"}, traceId: 2150439017563316544206780e2460'}
[17:54:15.915] 
[17:54:15.915] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:54:15.916] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[17:54:18.320] 2025-08-27 17:54:18,280 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:18.337] 2025-08-27 17:54:18,248 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:18.369]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns  [EARLY_EXIT] No actions taken, continuing...
[17:54:18.369] 
[17:54:18.369] [TURN 6/10]
[17:54:18.370] 
[17:54:18.370] 
[17:54:18.370] [TURN 10/10]
[17:54:18.375] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:18.383] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:19.759] 2025-08-27 17:54:19,730 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:19.766] 2025-08-27 17:54:19,728 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:19.958] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"465362be-6109-9ea8-935f-a582f62b7d4e"}, traceId: 2150421317563316586001386e3526'}
[17:54:19.986] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:54:19.986]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:54:19.986] [ASSISTED] Task received 5 format helps, final result: failure
[17:54:20.607] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:54:20.652] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:54:20.667] [AI_DEBUG] 生成的txt_content长度: 24612
[17:54:20.669] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:54:20.669]   - use_ai_classification=True
[17:54:20.669]   - ai_classifier=True
[17:54:20.670]   - txt_content_len=24612
[17:54:20.670]   - task_model=qwen2.5-72b-instruct
[17:54:20.771] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:54:20.772] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:54:24.428] 2025-08-27 17:54:24,414 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:54:24.436] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:54:24.436] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:54:24.492] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:54:24.492] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:54:24.492] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:54:24.509] 2025-08-27 17:54:24,509 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:54:25.081] 2025-08-27 17:54:25,081 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:25.134]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:54:25.153] 
[17:54:25.192] [TURN 7/10]
[17:54:25.193] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:26.808] 2025-08-27 17:54:26,642 - mcp_embedding_manager - INFO - FAISS index loaded
[17:54:26.813] 2025-08-27 17:54:26,627 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:26.821] 2025-08-27 17:54:26,820 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:54:26.821] 2025-08-27 17:54:26,821 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:54:26.938] [INFO] Tool embedding index loaded successfully
[17:54:27.056] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:54:27.080] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a7f02228-d621-9b99-a2db-4d76fa6acbff"}, traceId: 2150421317563316656431392e3526'}
[17:54:27.096] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:54:27.099] [INFO] Operation semantic index initialized
[17:54:27.161] 
[17:54:27.162] [TURN 1/10]
[17:54:27.185] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:29.224] 2025-08-27 17:54:29,159 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:29.297] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7411405f-895b-9cff-9634-182da6af2e47"}, traceId: 2150421317563316687681397e3526'}
[17:54:29.306] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:54:30.035] 2025-08-27 17:54:29,967 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:30.403]   [SEARCH] Query: file reader json
[17:54:30.440] 
[17:54:30.442] [TURN 2/10]
[17:54:30.466] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:31.148] 2025-08-27 17:54:31,077 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:54:31.382] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[17:54:33.410] 2025-08-27 17:54:33,326 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:33.416] 2025-08-27 17:54:33,333 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:34.477]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:54:34.479]   [EARLY_EXIT] No actions taken, continuing...
[17:54:34.483] 
[17:54:34.483] [TURN 3/10]
[17:54:34.483] [TURN 8/10]
[17:54:34.483] 
[17:54:34.483] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:34.483] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:35.490] 2025-08-27 17:54:35,432 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:35.520] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a48cf108-2ab4-9b04-8fcd-e642412ae957"}, traceId: 213e065017563316746791007e7fb1'}
[17:54:35.522] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:54:35.712] 2025-08-27 17:54:35,711 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:35.749]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:54:35.749] 
[17:54:35.749] [TURN 9/10]
[17:54:35.754] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:37.384] 2025-08-27 17:54:37,365 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:37.498]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:54:37.500] 
[17:54:37.500] [TURN 10/10]
[17:54:37.505] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:38.552] 2025-08-27 17:54:38,552 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:38.555] 2025-08-27 17:54:38,553 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:38.571] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bf1b0213-e836-9b40-9262-d4e2cc900a01"}, traceId: 2150421317563316776761411e3526'}
[17:54:38.572] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:54:38.579]   [EARLY_EXIT] No actions taken, continuing...
[17:54:38.579] 
[17:54:38.579] [TURN 4/10]
[17:54:38.582] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:39.593] 2025-08-27 17:54:39,593 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:39.671]   [EARLY_EXIT] No actions taken, continuing...
[17:54:39.672] 
[17:54:39.672] [TURN 5/10]
[17:54:39.672] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:40.081] 2025-08-27 17:54:40,080 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:40.088] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"485927d8-fc74-939e-bb74-1a16fc755c43"}, traceId: 2150421317563316798261415e3526'}
[17:54:40.089] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[17:54:40.104] 2025-08-27 17:54:40,104 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:40.110] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7f9f7323-4961-9d70-81b5-905a6adf3a89"}, traceId: 213e065017563316798371013e7fb1'}
[17:54:40.110] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:54:41.615] 2025-08-27 17:54:41,615 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:41.622] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"787770e3-213e-9870-817f-2ecb1f8348e8"}, traceId: 213e065017563316808431016e7fb1'}
[17:54:41.627] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[17:54:43.517] 2025-08-27 17:54:43,499 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:43.721]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:54:43.753] [ASSISTED] Task received 5 format helps, final result: failure
[17:54:45.459] 2025-08-27 17:54:45,423 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:45.732] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:54:45.734] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:54:45.761] [AI_DEBUG] 生成的txt_content长度: 24220
[17:54:45.774] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:54:45.774]   - use_ai_classification=True
[17:54:45.776]   - ai_classifier=True
[17:54:45.776]   - txt_content_len=24220
[17:54:45.776]   - task_model=qwen2.5-72b-instruct
[17:54:45.778] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:54:45.931] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:54:46.265]   [EARLY_EXIT] No actions taken, continuing...
[17:54:46.269] 
[17:54:46.271] [TURN 6/10]
[17:54:46.442] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:47.419] 2025-08-27 17:54:47,342 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:54:47.482] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:54:47.482] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:54:47.522] 2025-08-27 17:54:47,522 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:47.578] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:54:47.594] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:54:47.597] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:54:47.615] 2025-08-27 17:54:47,614 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:54:47.627] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"375da2ae-9180-9c1f-9181-a94be4f875fd"}, traceId: 213e065017563316867591023e7fb1'}
[17:54:47.630] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:54:50.923] 2025-08-27 17:54:50,860 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:50.936] 2025-08-27 17:54:50,924 - mcp_embedding_manager - INFO - FAISS index loaded
[17:54:50.936] 2025-08-27 17:54:50,926 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:54:50.936] 2025-08-27 17:54:50,927 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:54:51.764] [INFO] Tool embedding index loaded successfully
[17:54:51.881] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:54:51.948] [INFO] Operation semantic index initialized
[17:54:52.148] 
[17:54:52.160] [TURN 1/10]
[17:54:52.245] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:52.438]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:54:52.446] 
[17:54:52.454] [TURN 7/10]
[17:54:53.008] 2025-08-27 17:54:53,001 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:54:54.123] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:54.146] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:54:55.541] 2025-08-27 17:54:55,524 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:55.650]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:54:55.650] 
[17:54:55.651] [TURN 8/10]
[17:54:55.707] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:55.760] 2025-08-27 17:54:55,756 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:55.809]   [SEARCH] Query: network api fetch
[17:54:55.987] 
[17:54:55.990] [TURN 2/10]
[17:54:56.013] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:56.909] 2025-08-27 17:54:56,893 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:57.034]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:54:57.111] 
[17:54:57.111] [TURN 9/10]
[17:54:57.111] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:57.196] 2025-08-27 17:54:57,196 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:57.204]   [EARLY_EXIT] No actions taken, continuing...
[17:54:57.204] 
[17:54:57.204] [TURN 3/10]
[17:54:57.205] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:58.405] 2025-08-27 17:54:58,399 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:58.444]   [EARLY_EXIT] No actions taken, continuing...
[17:54:58.445] 
[17:54:58.446] [TURN 4/10]
[17:54:58.469] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:54:59.442] 2025-08-27 17:54:59,433 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:54:59.491] 2025-08-27 17:54:59,490 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:54:59.595] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"240ea5d3-a94a-9705-913d-6194f2e2c065"}, traceId: 213e064617563316986788216e0ab5'}
[17:54:59.603] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:54:59.626]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:54:59.628] 
[17:54:59.629] [TURN 10/10]
[17:54:59.648] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:01.437] 2025-08-27 17:55:01,426 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:01.533]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:55:01.543] [ASSISTED] Task received 5 format helps, final result: failure
[17:55:02.211] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:55:02.261] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:55:02.291] [AI_DEBUG] 生成的txt_content长度: 24632
[17:55:02.293] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:55:02.300]   - use_ai_classification=True
[17:55:02.301]   - ai_classifier=True
[17:55:02.301]   - txt_content_len=24632
[17:55:02.301]   - task_model=qwen2.5-72b-instruct
[17:55:02.301] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:55:02.361] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:55:03.353] 2025-08-27 17:55:03,280 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:04.422] 2025-08-27 17:55:04,371 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:55:04.457] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:55:04.459] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:55:04.496] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:55:04.513] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:55:04.515] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:55:04.548] 2025-08-27 17:55:04,545 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:55:04.590]   [EARLY_EXIT] No actions taken, continuing...
[17:55:04.590] 
[17:55:04.590] [TURN 5/10]
[17:55:04.606] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:06.562] 2025-08-27 17:55:06,545 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:06.637]   [EARLY_EXIT] No actions taken, continuing...
[17:55:06.637] 
[17:55:06.637] [TURN 6/10]
[17:55:06.715] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:07.765] 2025-08-27 17:55:07,748 - mcp_embedding_manager - INFO - FAISS index loaded
[17:55:07.777] 2025-08-27 17:55:07,765 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:55:07.778] 2025-08-27 17:55:07,766 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:55:07.874] [INFO] Tool embedding index loaded successfully
[17:55:07.931] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:55:07.936] [INFO] Operation semantic index initialized
[17:55:07.985] 
[17:55:07.986] [TURN 1/10]
[17:55:07.991] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:09.667] 2025-08-27 17:55:09,648 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:09.886]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:55:09.886] 
[17:55:09.894] [TURN 7/10]
[17:55:09.906] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:11.854] 2025-08-27 17:55:11,802 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:55:11.863] 2025-08-27 17:55:11,813 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:12.249] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.87
[17:55:12.344]   [SEARCH] Query: network api fetch
[17:55:12.429] 2025-08-27 17:55:12,429 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:12.513]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:55:12.514] 
[17:55:12.521] [TURN 8/10]
[17:55:12.569] 
[17:55:12.578] [TURN 2/10]
[17:55:12.586] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:12.630] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:13.588] 2025-08-27 17:55:13,588 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:13.623] 2025-08-27 17:55:13,623 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:13.637] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ba64a68c-4d2f-961e-842e-1577a419139b"}, traceId: 213e007c17563317128137848ef119'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8e616392-fccf-9913-8356-1bd76c4457ec"}, traceId: 213e064617563317128168235e0ab5'}
[17:55:13.639] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:55:13.639] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:55:13.639] 
[17:55:17.184] 2025-08-27 17:55:17,144 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:17.274] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"74ef41d9-c3f7-95af-9bc5-6bdc75efd621"}, traceId: 213e064617563317163588241e0ab5'}
[17:55:17.292] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[17:55:17.325] 2025-08-27 17:55:17,324 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:17.575]   [EARLY_EXIT] No actions taken, continuing...
[17:55:17.575] 
[17:55:17.577] [TURN 3/10]
[17:55:17.605] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:18.715] 2025-08-27 17:55:18,705 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:18.736] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"30546daa-7886-9a9e-a81d-e0dc95a2b1c6"}, traceId: 213e007c17563317178987855ef119'}
[17:55:18.736] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:55:20.107] 2025-08-27 17:55:20,106 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:20.120] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3c6177ca-7e1d-918e-a221-623d5ee50164"}, traceId: 213e064617563317198218247e0ab5'}
[17:55:20.124] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[17:55:20.846] 2025-08-27 17:55:20,844 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:20.901]   [EARLY_EXIT] No actions taken, continuing...
[17:55:20.903] 
[17:55:20.903] [TURN 4/10]
[17:55:20.919] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:22.269] 2025-08-27 17:55:22,266 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:22.294]   [EARLY_EXIT] No actions taken, continuing...
[17:55:22.807] 
[17:55:22.813] [TURN 5/10]
[17:55:22.814] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:23.416] 2025-08-27 17:55:23,410 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:24.057] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"54672124-4502-9c84-a56e-817f78ac89a4"}, traceId: 213e007c17563317226257860ef119'}
[17:55:24.057] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:55:24.058] 2025-08-27 17:55:23,572 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:24.058]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:55:24.058] 
[17:55:24.058] [TURN 9/10]
[17:55:24.058] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:24.515] 2025-08-27 17:55:24,514 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:24.527] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c57597b8-64a8-9b4a-a9ed-a1ae31925662"}, traceId: 213e064617563317237488253e0ab5'}
[17:55:24.528] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[17:55:26.176] 2025-08-27 17:55:26,173 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:26.242]   [EARLY_EXIT] No actions taken, continuing...
[17:55:26.243] 
[17:55:26.243] [TURN 6/10]
[17:55:26.246] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:26.322] 2025-08-27 17:55:26,322 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:26.330]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:55:26.333] 
[17:55:26.333] [TURN 10/10]
[17:55:26.333] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:26.786] 2025-08-27 17:55:26,786 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:26.788] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"409e33f1-e1f7-93ff-9ec4-43a86450925f"}, traceId: 213e064617563317265278266e0ab5'}
[17:55:26.788] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:55:27.243] 2025-08-27 17:55:27,243 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:27.263] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fc7c5113-134d-9e7f-bf8e-0eb1f1b1c1c9"}, traceId: 213e007c17563317264457864ef119'}
[17:55:27.278] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:55:29.154] 2025-08-27 17:55:29,144 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:29.190]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:55:29.213] [ASSISTED] Task received 5 format helps, final result: failure
[17:55:29.311] 2025-08-27 17:55:29,311 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:29.349] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"017e37b7-5bda-9a9e-b602-a8fca1322b10"}, traceId: 213e007c17563317285057867ef119'}
[17:55:29.388] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:55:29.673] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:55:29.673] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:55:29.688] [AI_DEBUG] 生成的txt_content长度: 24173
[17:55:29.695] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:55:29.714]   - use_ai_classification=True
[17:55:29.721]   - ai_classifier=True
[17:55:29.721]   - txt_content_len=24173
[17:55:29.722]   - task_model=qwen2.5-72b-instruct
[17:55:29.725] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:55:29.762] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:55:30.460] 2025-08-27 17:55:30,458 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:55:30.693] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:55:30.699] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:55:30.701] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:55:30.701] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:55:30.701] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:55:30.701] 2025-08-27 17:55:30,472 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:55:31.724] 2025-08-27 17:55:31,678 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:32.492]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:55:32.492] 
[17:55:32.493] [TURN 7/10]
[17:55:32.626] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:33.852] 2025-08-27 17:55:33,846 - mcp_embedding_manager - INFO - FAISS index loaded
[17:55:33.896] 2025-08-27 17:55:33,874 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:55:33.907] 2025-08-27 17:55:33,874 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:55:35.313] [INFO] Tool embedding index loaded successfully
[17:55:35.616] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:55:35.676] [INFO] Operation semantic index initialized
[17:55:35.680] 2025-08-27 17:55:35,666 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:35.716] 
[17:55:35.716] [TURN 1/10]
[17:55:35.847] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:35.872]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:55:35.883] 
[17:55:35.890] [TURN 8/10]
[17:55:35.898] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:35.976] 2025-08-27 17:55:35,974 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:55:36.001] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:55:36.020] Progress: 30/49 (Success: 0)
[17:55:37.319] 2025-08-27 17:55:37,284 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:37.525]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:55:37.530] 
[17:55:37.530] [TURN 9/10]
[17:55:37.543] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:38.652] 2025-08-27 17:55:38,578 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:38.698] 2025-08-27 17:55:38,695 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:38.835] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7671fccd-2d1d-9af4-aa1c-83efcea9077f"}, traceId: 213e007c17563317377697882ef119'}
[17:55:38.852] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:55:38.934]   [SEARCH] Query: network api fetch
[17:55:38.973] 
[17:55:38.973] [TURN 2/10]
[17:55:39.004] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:40.599] 2025-08-27 17:55:40,586 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:40.604] 2025-08-27 17:55:40,592 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:40.646] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"65795313-6199-914f-8a57-005d7de731ef"}, traceId: 213e006c17563317394536309e11db'}[LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cadb4a2d-b8d8-9f9b-8dfa-f1297f42449e"}, traceId: 213e007c17563317397247886ef119'}
[17:55:40.646] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:55:40.646] 
[17:55:40.646] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:55:43.752] 2025-08-27 17:55:43,728 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:43.765] 2025-08-27 17:55:43,733 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:43.827] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a595d3b8-a088-95bc-bc97-c79b5da099c0"}, traceId: 213e006c17563317423996314e11db'}
[17:55:43.831] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:55:43.851]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:55:43.854] 
[17:55:43.854] [TURN 10/10]
[17:55:43.857] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:45.810] 2025-08-27 17:55:45,777 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:46.023]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:55:46.042] [ASSISTED] Task received 5 format helps, final result: failure
[17:55:46.492] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:55:46.500] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:55:46.500] [AI_DEBUG] 生成的txt_content长度: 24221
[17:55:46.506] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:55:46.506]   - use_ai_classification=True
[17:55:46.506]   - ai_classifier=True
[17:55:46.506]   - txt_content_len=24221
[17:55:46.506]   - task_model=qwen2.5-72b-instruct
[17:55:46.509] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:55:46.611] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:55:47.454] 2025-08-27 17:55:47,443 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:55:47.462] 2025-08-27 17:55:47,438 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:47.518] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:55:47.528] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:55:47.619] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:55:47.630] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:55:47.644] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:55:47.671] 2025-08-27 17:55:47,671 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:55:48.332]   [EARLY_EXIT] No actions taken, continuing...
[17:55:48.339] 
[17:55:48.339] [TURN 3/10]
[17:55:48.530] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:52.534] 2025-08-27 17:55:52,497 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:52.606]   [EARLY_EXIT] No actions taken, continuing...
[17:55:52.606] 
[17:55:52.606] [TURN 4/10]
[17:55:52.607] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:52.669] 2025-08-27 17:55:52,669 - mcp_embedding_manager - INFO - FAISS index loaded
[17:55:52.672] 2025-08-27 17:55:52,671 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:55:52.672] 2025-08-27 17:55:52,671 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:55:53.580] [INFO] Tool embedding index loaded successfully
[17:55:54.033] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json2025-08-27 17:55:54,027 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:54.033] 
[17:55:54.052] 2025-08-27 17:55:54,020 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:55:54.142] [INFO] Operation semantic index initialized
[17:55:54.253] 
[17:55:54.253] [TURN 1/10][LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f2ce446d-d575-9320-9c60-8fdcee2eb7a2"}, traceId: 213e006c17563317528256331e11db'}
[17:55:54.260] 
[17:55:54.260] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:55:54.289] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:54.321] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.84
[17:55:57.342] 2025-08-27 17:55:57,293 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:57.364] 2025-08-27 17:55:57,293 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:55:57.432]   [SEARCH] Query: network api fetch  [EARLY_EXIT] No actions taken, continuing...
[17:55:57.433] 
[17:55:57.433] [TURN 5/10]
[17:55:57.438] 
[17:55:57.472] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:57.497] 
[17:55:57.498] [TURN 2/10]
[17:55:57.555] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:55:58.781] 2025-08-27 17:55:58,766 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:58.786] 2025-08-27 17:55:58,760 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:55:58.885] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"90a5f8b8-62dd-96b5-a9d6-8c056dfa1b31"}, traceId: 213e006c17563317577646342e11db'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bf29edd4-3a45-9f3a-bc45-0fee8c7b0490"}, traceId: 213e006b17563317577616806eec6c'}
[17:55:58.899] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:55:58.901] 
[17:55:58.901] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:56:01.974] 2025-08-27 17:56:01,956 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:02.004] 2025-08-27 17:56:01,948 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:02.100] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d4b124ab-3541-9a48-a44e-aa44d76692bb"}, traceId: 213e006b17563317607156817eec6c'}
[17:56:02.124] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...  [EARLY_EXIT] No actions taken, continuing...
[17:56:02.124] 
[17:56:02.124] [TURN 6/10]
[17:56:02.126] 
[17:56:02.130] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:03.640] 2025-08-27 17:56:03,588 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:03.892]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:56:03.894] 
[17:56:03.894] [TURN 7/10]
[17:56:03.894] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:05.505] 2025-08-27 17:56:05,499 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:05.511] 2025-08-27 17:56:05,496 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:05.558]   [EARLY_EXIT] No actions taken, continuing...
[17:56:05.558] 
[17:56:05.558] [TURN 3/10]
[17:56:05.564]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:56:05.565] 
[17:56:05.565] [TURN 8/10]
[17:56:05.583] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct[LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:05.591] 
[17:56:06.572] 2025-08-27 17:56:06,571 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:06.593]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:56:06.596] 
[17:56:06.596] [TURN 9/10]
[17:56:06.601] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:06.784] 2025-08-27 17:56:06,784 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:06.822]   [EARLY_EXIT] No actions taken, continuing...
[17:56:06.825] 
[17:56:06.827] [TURN 4/10]
[17:56:06.830] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:08.453] 2025-08-27 17:56:08,424 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:08.468] 2025-08-27 17:56:08,419 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:08.589]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns  [EARLY_EXIT] No actions taken, continuing...
[17:56:08.591] 
[17:56:08.592] [TURN 5/10]
[17:56:08.592] 
[17:56:08.592] [TURN 10/10]
[17:56:08.594] 
[17:56:08.597] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:08.605] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:09.765] 2025-08-27 17:56:09,683 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:09.819] 2025-08-27 17:56:09,690 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:10.065] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3bf581ba-bd6c-9915-9d4e-b03c6d7e931b"}, traceId: 213e006c17563317688446364e11db'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ffd59892-8dd4-9fef-9cd7-ae74d931b458"}, traceId: 213e006b17563317688376827eec6c'}
[17:56:10.070] 
[17:56:10.075] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...[RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:56:10.075] 
[17:56:13.026] 2025-08-27 17:56:12,998 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:13.031] 2025-08-27 17:56:12,994 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:13.142] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7dc011b9-737b-9809-be7c-69de0941cb03"}, traceId: 213e006b17563317717896828eec6c'}
[17:56:13.144] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[17:56:13.147]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:56:13.156] [ASSISTED] Task received 5 format helps, final result: failure
[17:56:13.519] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:56:13.537] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:56:13.538] [AI_DEBUG] 生成的txt_content长度: 24267
[17:56:13.538] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:56:13.538]   - use_ai_classification=True
[17:56:13.538]   - ai_classifier=True
[17:56:13.559]   - txt_content_len=24267
[17:56:13.560]   - task_model=qwen2.5-72b-instruct
[17:56:13.569] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:56:13.618] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:56:14.318] 2025-08-27 17:56:14,232 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:56:14.392] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:56:14.392] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:56:14.432] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:56:14.432] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:56:14.432] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:56:14.440] 2025-08-27 17:56:14,440 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:56:18.376] 2025-08-27 17:56:18,228 - mcp_embedding_manager - INFO - FAISS index loaded
[17:56:18.427] 2025-08-27 17:56:18,348 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:56:18.430] 2025-08-27 17:56:18,353 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:56:19.559] [INFO] Tool embedding index loaded successfully
[17:56:19.833] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:56:19.903] [INFO] Operation semantic index initialized
[17:56:19.934] 2025-08-27 17:56:19,822 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:19.988] 
[17:56:19.991] [TURN 1/10]2025-08-27 17:56:19,980 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:56:19.996] 
[17:56:21.062] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:22.819] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:56:22.919]   [EARLY_EXIT] No actions taken, continuing...
[17:56:22.923] 
[17:56:22.923] [TURN 6/10]
[17:56:22.984] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:23.117] 💾 智能Checkpoint: 保存7个结果...
[17:56:23.117]    触发原因: 数量=7, 时间=148.2s, 强制=False
[17:56:23.238] 2025-08-27 17:56:23,235 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331783202715.json
[17:56:23.277] 2025-08-27 17:56:23,272 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331783244218.json
[17:56:23.290] 2025-08-27 17:56:23,290 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331783280040.json
[17:56:23.293] 2025-08-27 17:56:23,293 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331783290271.json
[17:56:23.314] 2025-08-27 17:56:23,313 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331783296382.json
[17:56:23.331] 2025-08-27 17:56:23,329 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331783316499.json
[17:56:23.340] 2025-08-27 17:56:23,340 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331783331576.json
[17:56:23.475] ✅ Checkpoint完成: 成功保存 7/7 个结果
[17:56:24.569] 2025-08-27 17:56:24,534 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:24.682] 2025-08-27 17:56:24,680 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:24.722]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:56:24.724] 
[17:56:24.728] [TURN 7/10]
[17:56:24.763] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"afe09666-665e-90d2-8376-06810c51611a"}, traceId: 213e041917563317838574085e2e6c'}
[17:56:24.791] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:56:24.791] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:26.076] 2025-08-27 17:56:26,057 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:26.193]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:56:26.198] 
[17:56:26.198] [TURN 8/10]
[17:56:26.262] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:27.661] 2025-08-27 17:56:27,631 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:27.668] 2025-08-27 17:56:27,628 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:27.805] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bf3d1af6-782f-9b75-a579-5da5090a5ccf"}, traceId: 213e006b17563317865866849eec6c'}
[17:56:27.822] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:56:27.854]   [SEARCH] Query: network api fetch
[17:56:27.876] 
[17:56:27.880] [TURN 2/10]
[17:56:27.919] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:29.511] 2025-08-27 17:56:29,495 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:29.629]   [EARLY_EXIT] No actions taken, continuing...
[17:56:29.631] 
[17:56:29.631] [TURN 3/10]
[17:56:29.634] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:31.352] 2025-08-27 17:56:31,325 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:31.363] 2025-08-27 17:56:31,318 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:31.538] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fe7e2126-27ca-9b56-a4d8-1c63d5155ae9"}, traceId: 213e041917563317898134092e2e6c'}
[17:56:31.544] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:56:31.549] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2cc31d04-ae4c-95f3-832e-68d4f85eb650"}, traceId: 213e006b17563317897366850eec6c'}
[17:56:31.563] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:56:34.753] 2025-08-27 17:56:34,743 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:34.771] 2025-08-27 17:56:34,739 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:34.860]   [EARLY_EXIT] No actions taken, continuing...
[17:56:34.861] 
[17:56:34.861] [TURN 4/10]
[17:56:34.861]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:56:34.861] 
[17:56:34.861] [TURN 9/10]
[17:56:34.868] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:34.889] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:36.281] 2025-08-27 17:56:36,266 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:36.289] 2025-08-27 17:56:36,277 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:36.365]   [EARLY_EXIT] No actions taken, continuing...
[17:56:36.365] 
[17:56:36.365] [TURN 5/10]  [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:56:36.369] 
[17:56:36.369] [TURN 10/10]
[17:56:36.369] 
[17:56:36.416] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:36.426] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:37.996] 2025-08-27 17:56:37,939 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:38.038] 2025-08-27 17:56:37,944 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:38.137]   [EARLY_EXIT] No actions taken, continuing...
[17:56:38.137] 
[17:56:38.138] [TURN 6/10]
[17:56:38.138]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:56:38.143] [ASSISTED] Task received 5 format helps, final result: failure
[17:56:38.217] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:38.563] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:56:38.576] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:56:38.605] [AI_DEBUG] 生成的txt_content长度: 24281
[17:56:38.605] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:56:38.608]   - use_ai_classification=True
[17:56:38.608]   - ai_classifier=True
[17:56:38.611]   - txt_content_len=24281
[17:56:38.611]   - task_model=qwen2.5-72b-instruct
[17:56:38.616] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:56:38.660] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:56:39.493] 2025-08-27 17:56:39,372 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:56:39.512] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:56:39.512] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:56:39.527] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:56:39.535] 2025-08-27 17:56:39,532 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:39.544] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:56:39.552] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:56:39.590] 2025-08-27 17:56:39,590 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:56:39.614] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1104ef48-0d66-933e-a9bb-691ddbc706ae"}, traceId: 213e041917563317985484105e2e6c'}
[17:56:39.652] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:56:42.940] 2025-08-27 17:56:42,889 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:43.145] 2025-08-27 17:56:43,144 - mcp_embedding_manager - INFO - FAISS index loaded
[17:56:43.146] 2025-08-27 17:56:43,145 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:56:43.146] 2025-08-27 17:56:43,145 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:56:44.318] [INFO] Tool embedding index loaded successfully
[17:56:44.525] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:56:44.591] [INFO] Operation semantic index initialized
[17:56:44.680] 
[17:56:44.683] [TURN 1/10]
[17:56:44.688]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:56:44.688] 
[17:56:44.688] [TURN 7/10]
[17:56:44.748] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct[LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:44.753] 
[17:56:45.223] 2025-08-27 17:56:45,180 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:56:45.244] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:56:46.368] 2025-08-27 17:56:46,319 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:46.431] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b464e524-daab-9209-bde6-6a7a691944b3"}, traceId: 213e041917563318052264120e2e6c'}
[17:56:46.443] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:56:47.693] 2025-08-27 17:56:47,654 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:47.854]   [SEARCH] Query: network api fetch
[17:56:47.892] 
[17:56:47.901] [TURN 2/10]
[17:56:47.922] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:49.581] 2025-08-27 17:56:49,561 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:49.604] 2025-08-27 17:56:49,561 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:49.680]   [EARLY_EXIT] No actions taken, continuing...
[17:56:49.685] 
[17:56:49.692] [TURN 3/10]
[17:56:49.693]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:56:49.695] 
[17:56:49.695] [TURN 8/10]
[17:56:49.702] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:49.710] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:51.209] 2025-08-27 17:56:51,162 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:51.261] 2025-08-27 17:56:51,162 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:51.412] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"69e04afc-eaf7-90bc-8924-941be2ea5bfd"}, traceId: 213e066317563318099484444e82ec'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"aeb8f07c-998e-9964-b4ed-1a7fa166020e"}, traceId: 213e041917563318099594128e2e6c'}
[17:56:51.420] 
[17:56:51.423] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...[RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:56:51.423] 
[17:56:54.480] 2025-08-27 17:56:54,460 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:54.485] 2025-08-27 17:56:54,455 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:56:54.546]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:56:54.546]   [EARLY_EXIT] No actions taken, continuing...
[17:56:54.546] 
[17:56:54.546] [TURN 9/10]
[17:56:54.554] 
[17:56:54.554] [TURN 4/10]
[17:56:54.558] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:54.591] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:56:56.046] 2025-08-27 17:56:56,003 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:56.067] 2025-08-27 17:56:56,013 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:56.134] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"587c5a5d-39f7-9def-b0f0-6a9e418b224b"}, traceId: 213e066317563318148004456e82ec'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"dff0cca6-4c94-989a-86b5-b717f8cdb591"}, traceId: 213e041917563318148114136e2e6c'}
[17:56:56.135] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:56:56.135] 
[17:56:56.137] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:56:59.170] 2025-08-27 17:56:59,115 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:59.428] 2025-08-27 17:56:59,128 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:56:59.462] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b1ed0cee-3308-9d61-b25e-32996842152e"}, traceId: 213e041917563318178374137e2e6c'}[LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9f399717-c32c-99b8-b3d9-2d5086f0d982"}, traceId: 213e066317563318178114464e82ec'}
[17:56:59.467] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[17:56:59.467] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[17:56:59.467] 
[17:57:03.455] 2025-08-27 17:57:03,443 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:03.463] 2025-08-27 17:57:03,435 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:03.630]   [EARLY_EXIT] No actions taken, continuing...
[17:57:03.630] 
[17:57:03.630] [TURN 5/10]
[17:57:03.638]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:57:03.638] 
[17:57:03.638] [TURN 10/10]
[17:57:03.674] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:03.692] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:04.703] 2025-08-27 17:57:04,701 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:04.725] 2025-08-27 17:57:04,725 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:04.773] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1fa75c84-4c56-9e96-b312-c264d9352fbe"}, traceId: 213e041917563318238794147e2e6c'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2c2a3478-d8da-925d-a8bf-a5293511c23b"}, traceId: 213e066317563318238654474e82ec'}
[17:57:04.773] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:57:04.773] 
[17:57:04.773] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:57:07.025] 2025-08-27 17:57:06,988 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:07.035] 2025-08-27 17:57:06,992 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:07.201] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0d65ea19-6470-9a65-85b8-6980e9199694"}, traceId: 213e066317563318258324476e82ec'}[LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"73fb7da9-30c1-9797-bbd2-9eb9ffb7dda8"}, traceId: 213e041917563318258444153e2e6c'}
[17:57:07.202] 
[17:57:07.202] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[17:57:07.202] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[17:57:11.440] 2025-08-27 17:57:11,416 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:11.497]   [EARLY_EXIT] No actions taken, continuing...
[17:57:11.497] 
[17:57:11.497] [TURN 6/10]
[17:57:11.533] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:11.558] 2025-08-27 17:57:11,557 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:11.574]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:57:11.630] [ASSISTED] Task received 5 format helps, final result: failure
[17:57:12.413] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:57:12.436] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:57:12.436] [AI_DEBUG] 生成的txt_content长度: 24267
[17:57:12.436] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:57:12.436]   - use_ai_classification=True
[17:57:12.436]   - ai_classifier=True
[17:57:12.436]   - txt_content_len=24267
[17:57:12.441]   - task_model=qwen2.5-72b-instruct
[17:57:12.462] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:57:12.598] 2025-08-27 17:57:12,589 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:12.695] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:57:12.856] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c9f04054-3267-94f8-b09e-3e5d77b5ad56"}, traceId: 213e066317563318317264489e82ec'}
[17:57:12.856] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:57:14.034] 2025-08-27 17:57:14,011 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:57:14.034] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:57:14.034] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:57:14.039] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:57:14.042] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:57:14.044] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:57:14.051] 2025-08-27 17:57:14,051 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:57:14.443] 2025-08-27 17:57:14,442 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:14.494] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6043c670-b349-992a-8324-e7023fa5f4df"}, traceId: 213e066317563318341434495e82ec'}
[17:57:14.514] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:57:15.613] 2025-08-27 17:57:15,564 - mcp_embedding_manager - INFO - FAISS index loaded
[17:57:15.613] 2025-08-27 17:57:15,613 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:57:15.613] 2025-08-27 17:57:15,613 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:57:15.671] [INFO] Tool embedding index loaded successfully
[17:57:15.756] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:57:15.801] [INFO] Operation semantic index initialized
[17:57:15.880] 
[17:57:15.880] [TURN 1/10]
[17:57:15.885] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:16.871] 2025-08-27 17:57:16,842 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:16.930]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:57:16.932] 
[17:57:16.932] [TURN 7/10]
[17:57:16.941] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:17.723] 2025-08-27 17:57:17,721 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:17.747] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d97b8b32-e1b6-9d69-ab8c-b291bb0cd125"}, traceId: 2150429e17563318369007893e2108'}
[17:57:17.753] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:57:18.141] 2025-08-27 17:57:18,141 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:18.183]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:57:18.184] 
[17:57:18.184] [TURN 8/10]
[17:57:18.188] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:18.946] 2025-08-27 17:57:18,943 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:57:19.000] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.88
[17:57:19.419] 2025-08-27 17:57:19,419 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:19.431]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:57:19.433] 
[17:57:19.434] [TURN 9/10]
[17:57:19.449] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:19.465] 2025-08-27 17:57:19,465 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:19.487] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0fc94915-f22b-98f9-987d-ca721b666a5a"}, traceId: 2150429e17563318386877898e2108'}
[17:57:19.487] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:57:20.972] 2025-08-27 17:57:20,956 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:21.080] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"be4ffa96-617a-98e1-853a-cad68aec2313"}, traceId: 213e066317563318396374506e82ec'}
[17:57:21.081] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:57:22.850] 2025-08-27 17:57:22,807 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:22.991]   [SEARCH] Query: network api fetch
[17:57:23.032] 
[17:57:23.032] [TURN 2/10]
[17:57:23.052] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:24.444] 2025-08-27 17:57:24,429 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:24.451] 2025-08-27 17:57:24,432 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:24.526]   [EARLY_EXIT] No actions taken, continuing...  [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:57:24.526] 
[17:57:24.526] [TURN 10/10]
[17:57:24.530] 
[17:57:24.530] 
[17:57:24.530] [TURN 3/10]
[17:57:24.536] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:24.551] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:25.673] 2025-08-27 17:57:25,650 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:25.691] 2025-08-27 17:57:25,658 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:25.990] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a4a7bfcf-dabb-9545-a0db-c33f21c50204"}, traceId: 2150429e17563318447577913e2108'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6ebe3163-896c-9330-8def-c03c412d9e68"}, traceId: 213e066317563318447594512e82ec'}
[17:57:25.996] 
[17:57:25.998] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:57:25.999] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:57:28.629] 2025-08-27 17:57:28,628 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:28.639] 2025-08-27 17:57:28,621 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:28.671]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:57:28.686]   [EARLY_EXIT] No actions taken, continuing...
[17:57:28.686] 
[17:57:28.686] [TURN 4/10]
[17:57:28.708] [ASSISTED] Task received 5 format helps, final result: failure
[17:57:28.716] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:29.152] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:57:29.190] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:57:29.190] [AI_DEBUG] 生成的txt_content长度: 24423
[17:57:29.190] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:57:29.190]   - use_ai_classification=True
[17:57:29.190]   - ai_classifier=True
[17:57:29.190]   - txt_content_len=24423
[17:57:29.190]   - task_model=qwen2.5-72b-instruct
[17:57:29.190] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:57:29.270] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:57:29.957] 2025-08-27 17:57:29,909 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:30.029] 2025-08-27 17:57:30,027 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:57:30.087] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:57:30.097] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:57:30.165]   [EARLY_EXIT] No actions taken, continuing...
[17:57:30.166] 
[17:57:30.166] [TURN 5/10]
[17:57:30.175] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:57:30.189] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:57:30.190] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:57:30.204] 2025-08-27 17:57:30,201 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:57:30.212] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:32.481] 2025-08-27 17:57:32,446 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:32.714]   [EARLY_EXIT] No actions taken, continuing...
[17:57:32.728] 
[17:57:32.734] [TURN 6/10]
[17:57:32.792] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:33.798] 2025-08-27 17:57:33,755 - mcp_embedding_manager - INFO - FAISS index loaded
[17:57:33.810] 2025-08-27 17:57:33,800 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:57:33.812] 2025-08-27 17:57:33,800 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:57:34.653] [INFO] Tool embedding index loaded successfully
[17:57:34.766] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:57:34.790] 2025-08-27 17:57:34,773 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:34.799] [INFO] Operation semantic index initialized
[17:57:34.829] 
[17:57:34.829] [TURN 1/10]
[17:57:34.907] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2e34c897-a604-9f43-adb3-972652308260"}, traceId: 2150429e17563318534597934e2108'}[LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:34.907] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:57:34.907] 
[17:57:36.433] 2025-08-27 17:57:36,402 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:36.618] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"41d366e0-5e1b-9d8b-b85f-051bd205ef8e"}, traceId: 2150416a17563318558942114edd49'}
[17:57:36.624] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:57:36.748] 2025-08-27 17:57:36,737 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:36.760] 2025-08-27 17:57:36,759 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:57:36.777] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c799ef4d-b6e1-99e0-9f3a-55665a22143a"}, traceId: 2150429e17563318559397939e2108'}
[17:57:36.780] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[17:57:36.841] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[17:57:39.336] 2025-08-27 17:57:39,321 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:39.383] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c495c49e-73e5-92ec-b666-4e7a749c83a3"}, traceId: 2150416a17563318589132119edd49'}
[17:57:39.400] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:57:39.698] 2025-08-27 17:57:39,696 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:39.703] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"67802955-5273-9e54-afe8-c9f5e573ec9e"}, traceId: 2150429e17563318589247948e2108'}
[17:57:39.703] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[17:57:41.521] 2025-08-27 17:57:41,485 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:41.632] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0ff5f59c-3f6d-9b16-8842-cad52dd0e6f5"}, traceId: 2150416a17563318608902124edd49'}
[17:57:41.639] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:57:42.733] 2025-08-27 17:57:42,720 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:42.734] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cc9bb3e6-ce23-939f-bed3-0d3390b6a0ae"}, traceId: 2150429e17563318624137953e2108'}
[17:57:42.737] [RETRY] 400 error detected, waiting 3.5s before retry (not counting as turn)...
[17:57:44.704] 2025-08-27 17:57:44,679 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:44.805] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6c4235ae-e5e8-916b-9a1b-366ed709fbac"}, traceId: 2150416a17563318636572128edd49'}
[17:57:44.806] [RETRY] 400 error detected, waiting 3.7s before retry (not counting as turn)...
[17:57:47.748] 2025-08-27 17:57:47,736 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:47.760] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"682fbe15-dbd3-9bd6-a869-4bde50edd478"}, traceId: 2150429e17563318669417961e2108'}
[17:57:47.760] [ERROR] Max retries reached after 5 attempts
[17:57:47.760] [API_FAILURE] All retries exhausted
[17:57:47.767]   [API_FAILURE] API failed (timeout or max retries)
[17:57:48.265] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:57:48.270] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:57:48.270] [AI_DEBUG] 生成的txt_content长度: 13995
[17:57:48.277] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:57:48.280]   - use_ai_classification=True
[17:57:48.280]   - ai_classifier=True
[17:57:48.280]   - txt_content_len=13995
[17:57:48.280]   - task_model=qwen2.5-72b-instruct
[17:57:48.280] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:57:48.502] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:57:49.691] 2025-08-27 17:57:49,657 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:57:49.704] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:57:49.709] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:57:49.734] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:57:49.739] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:57:49.741] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:57:49.746] 2025-08-27 17:57:49,746 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:57:50.440] 2025-08-27 17:57:50,410 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:50.797] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"46a98884-1304-9465-86c4-a02204959739"}, traceId: 2150416a17563318692152135edd49'}
[17:57:50.797] [ERROR] Max retries reached after 5 attempts
[17:57:50.797] [API_FAILURE] All retries exhausted
[17:57:50.810]   [API_FAILURE] API failed (timeout or max retries)
[17:57:51.329] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:57:54.638] 2025-08-27 17:57:54,637 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:57:54.664] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:57:54.664] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:57:54.707] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:57:54.707] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:57:54.707] [MCPEmbeddingManager] Current cache size: 25 embeddings
[17:57:54.744] 2025-08-27 17:57:54,742 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:57:54.893] 2025-08-27 17:57:54,893 - mcp_embedding_manager - INFO - FAISS index loaded
[17:57:54.896] 2025-08-27 17:57:54,895 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:57:54.897] 2025-08-27 17:57:54,896 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:57:55.073] [INFO] Tool embedding index loaded successfully
[17:57:55.126] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:57:55.132] [INFO] Operation semantic index initialized
[17:57:55.161] 
[17:57:55.161] [TURN 1/10]
[17:57:55.173] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:55.672] 2025-08-27 17:57:55,670 - mcp_embedding_manager - INFO - FAISS index loaded
[17:57:55.672] 2025-08-27 17:57:55,672 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:57:55.673] 2025-08-27 17:57:55,672 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:57:55.689] [INFO] Tool embedding index loaded successfully
[17:57:55.693] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:57:55.695] [INFO] Operation semantic index initialized
[17:57:55.702] 
[17:57:55.702] [TURN 1/10]
[17:57:55.705] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:57.233] 2025-08-27 17:57:57,192 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:57.442] 2025-08-27 17:57:57,439 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:57:57.501] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"72500276-b814-9aed-998b-de201f3b0a2e"}, traceId: 215045b717563318766135812e802a'}
[17:57:57.506] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:57:57.574]   [SEARCH] Query: network api fetch
[17:57:57.613] 
[17:57:57.613] [TURN 2/10]
[17:57:57.616] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:57.988] 2025-08-27 17:57:57,976 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:57:58.030] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.82
[17:57:58.066] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:57:58.069] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:57:58.070] [AI_DEBUG] 生成的txt_content长度: 4251
[17:57:58.070] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:57:58.070]   - use_ai_classification=True
[17:57:58.070]   - ai_classifier=True
[17:57:58.070]   - txt_content_len=4251
[17:57:58.070]   - task_model=qwen2.5-72b-instruct
[17:57:58.070] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:57:58.746] 2025-08-27 17:57:58,706 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:59.055]   [EARLY_EXIT] No actions taken, continuing...
[17:57:59.058] 
[17:57:59.059] [TURN 3/10]
[17:57:59.163] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:57:59.492] 2025-08-27 17:57:59,483 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:57:59.560]   [SEARCH] Query: network api fetch
[17:57:59.562] 
[17:57:59.562] [TURN 2/10]
[17:57:59.562] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:00.971] 2025-08-27 17:58:00,915 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:00.998] 2025-08-27 17:58:00,919 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:01.112] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d163f693-056f-9cd8-93d1-cfdd2da95e3c"}, traceId: 215045b717563318797135815e802a'}
[17:58:01.119] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:58:01.170]   [EARLY_EXIT] No actions taken, continuing...
[17:58:01.170] 
[17:58:01.170] [TURN 4/10]
[17:58:01.203] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:02.744] 2025-08-27 17:58:02,699 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:02.785] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ccb7ccb3-3e11-94ce-a901-be4092b1ed9e"}, traceId: 215045f517563318815612511e7fce'}
[17:58:02.786] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:58:04.739] 2025-08-27 17:58:04,726 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:04.764] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"68173d90-9f97-96fc-ba88-926a2f0022f5"}, traceId: 215045b717563318829455819e802a'}
[17:58:04.764] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:58:06.724] 2025-08-27 17:58:06,655 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:06.734] 2025-08-27 17:58:06,645 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:58:06.925] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d0510903-63cb-930d-994a-dbd23a1ee6b6"}, traceId: 215045f517563318849162523e7fce'}[AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.72
[17:58:06.927] 
[17:58:06.927] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[17:58:08.677] 2025-08-27 17:58:08,598 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:09.178]   [EARLY_EXIT] No actions taken, continuing...
[17:58:09.180] 
[17:58:09.180] [TURN 3/10]
[17:58:09.244] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:10.995] 2025-08-27 17:58:10,877 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:11.002] 2025-08-27 17:58:10,995 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:11.432]   [EARLY_EXIT] No actions taken, continuing...  [EARLY_EXIT] No actions taken, continuing...
[17:58:11.434] 
[17:58:11.436] [TURN 4/10]
[17:58:11.442] 
[17:58:11.442] 
[17:58:11.442] [TURN 5/10]
[17:58:11.480] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:11.507] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:13.110] 2025-08-27 17:58:13,054 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:13.134] 2025-08-27 17:58:13,059 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:13.379] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ba936251-b940-9311-82ee-649b89e8830f"}, traceId: 215045b717563318917985832e802a'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0879595f-1e0c-9a07-ae18-9c8e7f57836c"}, traceId: 215045f517563318917842531e7fce'}
[17:58:13.390] 
[17:58:13.390] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:58:13.390] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:58:16.404] 2025-08-27 17:58:16,380 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:16.406] 2025-08-27 17:58:16,384 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:16.579]   [EARLY_EXIT] No actions taken, continuing...  [EARLY_EXIT] No actions taken, continuing...
[17:58:16.580] 
[17:58:16.580] [TURN 6/10]
[17:58:16.586] 
[17:58:16.586] 
[17:58:16.586] [TURN 5/10]
[17:58:16.591] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:16.597] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:18.080] 2025-08-27 17:58:18,012 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:18.098] 2025-08-27 17:58:18,012 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:18.283]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:58:18.292]   [EARLY_EXIT] No actions taken, continuing...
[17:58:18.292] 
[17:58:18.292] [TURN 6/10]
[17:58:18.300] 
[17:58:18.300] [TURN 7/10]
[17:58:18.330] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:18.330] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:20.083] 2025-08-27 17:58:20,051 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:20.097] 2025-08-27 17:58:20,057 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:20.354] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"65848d62-e8d8-9500-9255-2a60f46c7954"}, traceId: 215045f517563318985452540e7fce'}
[17:58:20.368] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:58:20.404]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:58:20.404] 
[17:58:20.404] [TURN 7/10]
[17:58:20.438] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:22.156] 2025-08-27 17:58:22,100 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:22.569] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3a4e792e-9750-9341-a66b-100fbd03a890"}, traceId: 215045b717563319007635854e802a'}
[17:58:22.598] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:58:24.017] 2025-08-27 17:58:23,983 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:24.248]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:58:24.250] 
[17:58:24.250] [TURN 8/10]
[17:58:24.275] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:25.742] 2025-08-27 17:58:25,715 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:25.753] 2025-08-27 17:58:25,729 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:25.977]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns  [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:58:25.977] 
[17:58:25.979] [TURN 9/10]
[17:58:25.983] 
[17:58:25.991] 
[17:58:25.991] [TURN 8/10]
[17:58:26.001] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:26.020] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:28.003] 2025-08-27 17:58:27,915 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:28.030] 2025-08-27 17:58:27,908 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:28.113]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns  [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:58:28.117] 
[17:58:28.120] 
[17:58:28.120] [TURN 10/10]
[17:58:28.135] 
[17:58:28.136] [TURN 9/10]
[17:58:28.176] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:28.189] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:29.175] 2025-08-27 17:58:29,062 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:29.576] 2025-08-27 17:58:29,568 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:29.674] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"074d853b-e1fc-9723-a111-c381d999e119"}, traceId: 215045b717563319085265873e802a'}
[17:58:29.685] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:58:29.685] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5c9eca4b-872e-94f9-9a32-84222f1006ba"}, traceId: 215045f517563319085052553e7fce'}
[17:58:29.688] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:58:31.925] 2025-08-27 17:58:31,903 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:32.024] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cf288117-2e77-9662-afe5-12df0c88e746"}, traceId: 215045b717563319110575875e802a'}
[17:58:32.029] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[17:58:32.055] 2025-08-27 17:58:32,053 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:32.209]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:58:32.228] [ASSISTED] Task received 5 format helps, final result: failure
[17:58:32.670] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:58:32.684] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:58:32.690] [AI_DEBUG] 生成的txt_content长度: 24423
[17:58:32.690] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:58:32.690]   - use_ai_classification=True
[17:58:32.691]   - ai_classifier=True
[17:58:32.700]   - txt_content_len=24423
[17:58:32.713]   - task_model=qwen2.5-72b-instruct
[17:58:32.731] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:58:32.734] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:58:33.537] 2025-08-27 17:58:33,528 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:58:33.555] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:58:33.561] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:58:33.569] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:58:33.584] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:58:33.595] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:58:33.607] 2025-08-27 17:58:33,566 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:58:34.728] 2025-08-27 17:58:34,723 - mcp_embedding_manager - INFO - FAISS index loaded
[17:58:34.729] 2025-08-27 17:58:34,728 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:58:34.730] 2025-08-27 17:58:34,728 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:58:34.802] [INFO] Tool embedding index loaded successfully
[17:58:34.832] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:58:34.853] [INFO] Operation semantic index initialized
[17:58:34.891] 
[17:58:34.891] [TURN 1/10]
[17:58:34.893] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:35.316] 2025-08-27 17:58:35,316 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:35.400]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:58:35.403] 
[17:58:35.403] [TURN 10/10]
[17:58:35.404] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:36.516] 2025-08-27 17:58:36,515 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:36.600]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:58:36.600] [ASSISTED] Task received 5 format helps, final result: failure
[17:58:36.921] 2025-08-27 17:58:36,921 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:36.958]   [SEARCH] Query: file reader
[17:58:37.107] 
[17:58:37.120] [TURN 2/10]
[17:58:37.169] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:37.473] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:58:37.696] 2025-08-27 17:58:37,694 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:58:37.696] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:58:37.697] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:58:37.710] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:58:37.711] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:58:37.711] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:58:37.712] 2025-08-27 17:58:37,712 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:58:37.713] 2025-08-27 17:58:37,713 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:58:37.738] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:58:37.809] 💾 智能Checkpoint: 保存6个结果...
[17:58:37.809]    触发原因: 数量=6, 时间=134.7s, 强制=False
[17:58:37.915] 2025-08-27 17:58:37,914 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331917853663.json
[17:58:37.953] 2025-08-27 17:58:37,952 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331917919447.json
[17:58:37.995] 2025-08-27 17:58:37,995 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331917953001.json
[17:58:38.072] 2025-08-27 17:58:38,072 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331917995782.json
[17:58:38.101] 2025-08-27 17:58:38,101 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331918073570.json
[17:58:38.109] 2025-08-27 17:58:38,109 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756331918101419.json
[17:58:38.109] ✅ Checkpoint完成: 成功保存 6/6 个结果
[17:58:38.111] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:58:38.111] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:58:38.139] [AI_DEBUG] 生成的txt_content长度: 24222
[17:58:38.141] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:58:38.141]   - use_ai_classification=True
[17:58:38.141]   - ai_classifier=True
[17:58:38.141]   - txt_content_len=24222
[17:58:38.141]   - task_model=qwen2.5-72b-instruct
[17:58:38.141] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:58:38.493] 2025-08-27 17:58:38,493 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:38.616] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a5ffe100-7e9b-9611-83d8-2638b6a68e7c"}, traceId: 2150416017563319177125513ef16a'}
[17:58:38.616] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:58:38.721] 2025-08-27 17:58:38,721 - mcp_embedding_manager - INFO - FAISS index loaded
[17:58:38.723] 2025-08-27 17:58:38,723 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:58:38.725] 2025-08-27 17:58:38,723 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:58:38.743] [INFO] Tool embedding index loaded successfully
[17:58:38.751] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:58:38.753] [INFO] Operation semantic index initialized
[17:58:38.782] 
[17:58:38.782] [TURN 1/10]
[17:58:38.824] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:40.375] 2025-08-27 17:58:40,355 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:40.497] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f99111ed-a713-9f6f-acfd-7bdf2b9802c8"}, traceId: 2150438d17563319198597872e2c59'}
[17:58:40.501] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:58:40.558] 2025-08-27 17:58:40,557 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:40.570] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e7686bf1-fb8a-9af5-9e0d-971f47da391e"}, traceId: 2150416017563319196865517ef16a'}
[17:58:40.573] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[17:58:42.754] 2025-08-27 17:58:42,710 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:42.833] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"18fcf01c-987d-9914-9f13-6430bfad4892"}, traceId: 2150438d17563319218797879e2c59'}
[17:58:42.847] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:58:43.504] 2025-08-27 17:58:43,490 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:43.623]   [EARLY_EXIT] No actions taken, continuing...
[17:58:43.623] 
[17:58:43.623] [TURN 3/10]
[17:58:43.643] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:44.352] 2025-08-27 17:58:44,212 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:58:44.439] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[17:58:45.055] 2025-08-27 17:58:45,032 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:45.408] 2025-08-27 17:58:45,402 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:45.427]   [EARLY_EXIT] No actions taken, continuing...
[17:58:45.427] 
[17:58:45.427] [TURN 4/10]
[17:58:45.481]   [SEARCH] Query: file reader
[17:58:45.520] 
[17:58:45.520] [TURN 2/10]
[17:58:45.526] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:45.611] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:46.538] 2025-08-27 17:58:46,502 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:46.636] 2025-08-27 17:58:46,494 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:46.660] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"78690b5e-0e29-9e52-978b-fc92283d94ac"}, traceId: 2150416017563319258725528ef16a'}
[17:58:46.666] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"81fc7966-161b-9f43-a67f-47fee6f7bf02"}, traceId: 2150438d17563319258687892e2c59'}[RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:58:46.669] 
[17:58:46.670] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:58:49.592] 2025-08-27 17:58:49,547 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:49.605] 2025-08-27 17:58:49,550 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:49.705] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"09b8c903-64a6-959b-9cb4-3b1fb2e36de4"}, traceId: 2150416017563319282335535ef16a'}
[17:58:49.717] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[17:58:49.717] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"28c02459-2b14-9cbc-abc1-561356ae9a0f"}, traceId: 2150438d17563319283667897e2c59'}
[17:58:49.719] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:58:52.037] 2025-08-27 17:58:52,029 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:52.054] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"387dd7fa-efc9-9ca6-b4f4-d277015a85c3"}, traceId: 2150416017563319317685545ef16a'}2025-08-27 17:58:52,054 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:52.055] 
[17:58:52.055] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[17:58:52.056] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"997c7fe0-0024-9f70-abb6-977f9491a4bf"}, traceId: 2150438d17563319317627904e2c59'}
[17:58:52.056] [RETRY] 400 error detected, waiting 2.4s before retry (not counting as turn)...
[17:58:55.419] 2025-08-27 17:58:55,407 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:58:55.445] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"59614d17-7184-917d-8188-0f9aca093b39"}, traceId: 2150416017563319351495556ef16a'}
[17:58:55.445] [RETRY] 400 error detected, waiting 4.7s before retry (not counting as turn)...
[17:58:56.605] 2025-08-27 17:58:56,542 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:56.902]   [EARLY_EXIT] No actions taken, continuing...
[17:58:56.903] 
[17:58:56.903] [TURN 3/10]
[17:58:56.974] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:58:58.608] 2025-08-27 17:58:58,483 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:58:58.945]   [EARLY_EXIT] No actions taken, continuing...
[17:58:58.946] 
[17:58:58.952] [TURN 4/10]
[17:58:58.980] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:00.618] 2025-08-27 17:59:00,545 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:00.897]   [EARLY_EXIT] No actions taken, continuing...
[17:59:00.902] 
[17:59:00.903] [TURN 5/10]
[17:59:00.912] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:02.546] 2025-08-27 17:59:02,387 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:02.565] 2025-08-27 17:59:02,396 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:02.856] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ef649922-c35c-942a-a312-81069b5058ed"}, traceId: 2150417717563319417676411eda51'}
[17:59:02.871] [ERROR] Max retries reached after 5 attempts
[17:59:02.879] [API_FAILURE] All retries exhausted
[17:59:02.907]   [API_FAILURE] API failed (timeout or max retries)
[17:59:03.010]   [EARLY_EXIT] No actions taken, continuing...
[17:59:03.010] 
[17:59:03.010] [TURN 6/10]
[17:59:03.088] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:03.372] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:59:03.382] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:59:03.382] [AI_DEBUG] 生成的txt_content长度: 13115
[17:59:03.382] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:59:03.384]   - use_ai_classification=True
[17:59:03.405]   - ai_classifier=True
[17:59:03.405]   - txt_content_len=13115
[17:59:03.405]   - task_model=qwen2.5-72b-instruct
[17:59:03.405] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:59:03.527] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:59:04.100] 2025-08-27 17:59:04,026 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:59:04.121] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:59:04.121] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:59:04.154] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:59:04.155] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:59:04.156] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:59:04.161] 2025-08-27 17:59:04,160 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:59:04.430] 2025-08-27 17:59:04,428 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:05.355]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:59:05.391] 
[17:59:05.417] [TURN 7/10]
[17:59:05.450] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:06.976] 2025-08-27 17:59:06,956 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:07.028] 2025-08-27 17:59:07,027 - mcp_embedding_manager - INFO - FAISS index loaded
[17:59:07.038] 2025-08-27 17:59:07,036 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:59:07.040] 2025-08-27 17:59:07,038 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:59:07.141] [INFO] Tool embedding index loaded successfully
[17:59:07.271] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:59:07.271] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"53125b61-7d4c-91a4-8bc0-fd2e894b3494"}, traceId: 2150438d17563319459017946e2c59'}
[17:59:07.276] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:59:07.285] [INFO] Operation semantic index initialized
[17:59:07.313] 
[17:59:07.313] [TURN 1/10]
[17:59:07.321] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:09.189] 2025-08-27 17:59:09,153 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:09.272] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c9f560a4-3060-9099-a3d0-4897a65c7d1c"}, traceId: 2150438d17563319487767951e2c59'}
[17:59:09.275] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[17:59:10.348] 2025-08-27 17:59:10,336 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:10.589]   [SEARCH] Query: file reader
[17:59:10.666] 
[17:59:10.666] [TURN 2/10]
[17:59:10.711] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:12.093] 2025-08-27 17:59:12,069 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:12.270]   [EARLY_EXIT] No actions taken, continuing...
[17:59:12.272] 
[17:59:12.272] [TURN 3/10]
[17:59:12.318] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:13.734] 2025-08-27 17:59:13,676 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:13.751] 2025-08-27 17:59:13,686 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:13.890] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"87e3d3ce-107f-99ea-8864-3d9697e34f6a"}, traceId: 215045ee17563319525236661e7b52'}
[17:59:13.898] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:59:13.957]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:59:13.960] 
[17:59:13.960] [TURN 8/10]
[17:59:13.981] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:14.326] 2025-08-27 17:59:14,326 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:59:14.377] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.72
[17:59:14.590] Progress: 40/49 (Success: 0)
[17:59:15.923] 2025-08-27 17:59:15,885 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:16.080]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:59:16.080] 
[17:59:16.080] [TURN 9/10]
[17:59:16.093] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:17.746] 2025-08-27 17:59:17,731 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:17.751] 2025-08-27 17:59:17,723 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:17.918]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:59:17.918] 
[17:59:17.918] [TURN 10/10]
[17:59:17.929]   [EARLY_EXIT] No actions taken, continuing...
[17:59:17.936] 
[17:59:17.936] [TURN 4/10]
[17:59:17.946] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:17.986] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:19.609] 2025-08-27 17:59:19,565 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:19.620] 2025-08-27 17:59:19,557 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:19.825]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:59:19.838]   [EARLY_EXIT] No actions taken, continuing...
[17:59:19.840] 
[17:59:19.840] [TURN 5/10]
[17:59:19.856] [ASSISTED] Task received 5 format helps, final result: failure
[17:59:19.870] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:20.382] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:59:20.387] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:59:20.394] [AI_DEBUG] 生成的txt_content长度: 24480
[17:59:20.394] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:59:20.394]   - use_ai_classification=True
[17:59:20.394]   - ai_classifier=True
[17:59:20.397]   - txt_content_len=24480
[17:59:20.397]   - task_model=qwen2.5-72b-instruct
[17:59:20.399] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:59:20.515] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:59:21.249] 2025-08-27 17:59:21,219 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:21.430] 2025-08-27 17:59:21,417 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:59:21.495] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:59:21.498] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:59:21.563] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:59:21.571] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:59:21.571] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:59:21.614] 2025-08-27 17:59:21,613 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:59:21.739]   [EARLY_EXIT] No actions taken, continuing...
[17:59:21.754] 
[17:59:21.754] [TURN 6/10]
[17:59:21.790] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:25.184] 2025-08-27 17:59:25,174 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:25.541] 2025-08-27 17:59:25,541 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:59:25.562] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9804d86d-7f0f-9f46-8cb4-46eec61f61d4"}, traceId: 215045ee17563319635046686e7b52'}
[17:59:25.569] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:59:25.674] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:59:26.464] 2025-08-27 17:59:26,448 - mcp_embedding_manager - INFO - FAISS index loaded
[17:59:26.486] 2025-08-27 17:59:26,470 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:59:26.490] 2025-08-27 17:59:26,486 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:59:27.478] [INFO] Tool embedding index loaded successfully
[17:59:27.659] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:59:27.700] [INFO] Operation semantic index initialized
[17:59:27.780] 
[17:59:27.780] [TURN 1/10]
[17:59:27.871] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:28.778] 2025-08-27 17:59:28,753 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:29.047]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:59:29.052] 
[17:59:29.052] [TURN 7/10]
[17:59:29.078] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:30.754] 2025-08-27 17:59:30,724 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:30.763] 2025-08-27 17:59:30,731 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:30.859] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"077f40e2-4ddb-9519-950f-2300bb352c80"}, traceId: 215045ee17563319693666697e7b52'}
[17:59:30.861] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:59:30.885]   [SEARCH] Query: file reader
[17:59:30.922] 
[17:59:30.922] [TURN 2/10]
[17:59:30.940] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:32.303] 2025-08-27 17:59:32,284 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:32.380]   [EARLY_EXIT] No actions taken, continuing...
[17:59:32.380] 
[17:59:32.380] [TURN 3/10]
[17:59:32.416] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:33.776] 2025-08-27 17:59:33,755 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:33.783] 2025-08-27 17:59:33,748 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:33.950] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1dd74b5e-cea0-9d6b-a2d3-ec5a72827774"}, traceId: 2150429e17563319725885920e22b5'}
[17:59:33.953] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:59:33.995]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:59:33.995] 
[17:59:33.995] [TURN 8/10]
[17:59:34.008] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:35.528] 2025-08-27 17:59:35,459 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:35.538] 2025-08-27 17:59:35,463 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:35.781] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"88345074-7568-9fdf-9c32-1c8b6c60ec69"}, traceId: 2150429e17563319749075924e22b5'}
[17:59:35.806] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:59:35.837]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:59:35.837] 
[17:59:35.837] [TURN 9/10]
[17:59:35.864] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:37.810] 2025-08-27 17:59:37,739 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:38.054]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:59:38.056] 
[17:59:38.059] [TURN 10/10]
[17:59:38.072] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:39.809] 2025-08-27 17:59:39,742 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:39.833] 2025-08-27 17:59:39,734 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:40.035]   [EARLY_EXIT] No actions taken, continuing...
[17:59:40.035] 
[17:59:40.036] [TURN 4/10]  [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:59:40.042] 
[17:59:40.078] [ASSISTED] Task received 5 format helps, final result: failure
[17:59:40.109] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:40.762] 2025-08-27 17:59:40,761 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:40.806] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3477a22c-7a27-9751-9276-936f8adbb67b"}, traceId: 2150429e17563319804475936e22b5'}
[17:59:40.807] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:59:41.038] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:59:41.096] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:59:41.162] [AI_DEBUG] 生成的txt_content长度: 24732
[17:59:41.162] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:59:41.163]   - use_ai_classification=True
[17:59:41.163]   - ai_classifier=True
[17:59:41.196]   - txt_content_len=24732
[17:59:41.196]   - task_model=qwen2.5-72b-instruct
[17:59:41.211] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:59:41.547] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:59:42.720] 2025-08-27 17:59:42,713 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:59:42.744] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:59:42.744] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:59:42.752] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:59:42.757] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[17:59:42.757] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:59:42.765] 2025-08-27 17:59:42,765 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:59:43.580] 2025-08-27 17:59:43,580 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:44.608]   [EARLY_EXIT] No actions taken, continuing...
[17:59:44.616] 
[17:59:44.616] [TURN 5/10]
[17:59:44.727] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:45.749] 2025-08-27 17:59:45,740 - mcp_embedding_manager - INFO - FAISS index loaded
[17:59:45.750] 2025-08-27 17:59:45,750 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:59:45.750] 2025-08-27 17:59:45,750 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:59:45.778] [INFO] Tool embedding index loaded successfully
[17:59:45.809] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:59:45.824] [INFO] Operation semantic index initialized
[17:59:45.861] 
[17:59:45.862] [TURN 1/10]
[17:59:45.876] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:46.490] 2025-08-27 17:59:46,477 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:46.668]   [EARLY_EXIT] No actions taken, continuing...
[17:59:46.668] 
[17:59:46.668] [TURN 6/10]
[17:59:46.684] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:48.174] 2025-08-27 17:59:48,092 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:59:48.206] 2025-08-27 17:59:48,076 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:48.207] 2025-08-27 17:59:48,070 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:48.343] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"68775772-620c-9e63-a64a-d19680b4358d"}, traceId: 213e042f17563319869205775e2621'}
[17:59:48.345] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[17:59:48.375] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7956b085-a780-9181-86a8-d85dc5a095e8"}, traceId: 2150429e17563319869105950e22b5'}
[17:59:48.377] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:59:48.469] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:59:50.257] 2025-08-27 17:59:50,216 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:50.454]   [SEARCH] Query: file reader
[17:59:50.528] 
[17:59:50.528] [TURN 2/10]
[17:59:50.541] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:51.941] 2025-08-27 17:59:51,908 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:51.948] 2025-08-27 17:59:51,906 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:52.221]   [EARLY_EXIT] No actions taken, continuing...
[17:59:52.273] 
[17:59:52.273] [TURN 3/10]
[17:59:52.276]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:59:52.276] 
[17:59:52.276] [TURN 7/10]
[17:59:52.276] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:52.278] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:53.578] 2025-08-27 17:59:53,563 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:53.587] 2025-08-27 17:59:53,573 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:53.775] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a662b88c-4664-9e35-a0ae-fecb237edb8b"}, traceId: 213e042f17563319925055785e2621'}
[17:59:53.779] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:59:53.810]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:59:53.810] 
[17:59:53.811] [TURN 8/10]
[17:59:53.829] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:54.621] 2025-08-27 17:59:54,617 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:54.622]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:59:54.622] 
[17:59:54.650] [TURN 9/10]
[17:59:54.650] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:55.726] 2025-08-27 17:59:55,723 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:59:55.916] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e0351e99-1e82-9c3d-b469-2125d532bf70"}, traceId: 2150429e17563319947825965e22b5'}
[17:59:55.920] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:59:57.237] 2025-08-27 17:59:57,184 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:57.728]   [EARLY_EXIT] No actions taken, continuing...
[17:59:57.728] 
[17:59:57.728] [TURN 4/10]
[17:59:57.786] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:59.120] 2025-08-27 17:59:59,089 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:59.259] 2025-08-27 17:59:59,258 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:59:59.677]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:59:59.677] 
[17:59:59.677] [TURN 10/10]  [EARLY_EXIT] No actions taken, continuing...
[17:59:59.677] 
[17:59:59.683] 
[17:59:59.683] [TURN 5/10]
[17:59:59.718] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:59:59.740] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:01.607] 2025-08-27 18:00:01,566 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:01.619] 2025-08-27 18:00:01,564 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:01.970]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns  [EARLY_EXIT] No actions taken, continuing...
[18:00:01.982] 
[18:00:01.984] [TURN 6/10]
[18:00:01.984] 
[18:00:01.992] [ASSISTED] Task received 5 format helps, final result: failure
[18:00:02.029] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:02.667] [DEBUG] Got result for task: has_result=True, save_logs=True
[18:00:02.672] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[18:00:02.692] [AI_DEBUG] 生成的txt_content长度: 24276
[18:00:02.693] [AI_DEBUG] _ai_classify_with_txt_content called:
[18:00:02.695]   - use_ai_classification=True
[18:00:02.695]   - ai_classifier=True
[18:00:02.695]   - txt_content_len=24276
[18:00:02.696]   - task_model=qwen2.5-72b-instruct
[18:00:02.696] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[18:00:02.807] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[18:00:03.681] 2025-08-27 18:00:03,639 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:00:03.740] 2025-08-27 18:00:03,738 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[18:00:04.096] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[18:00:04.105] [InteractiveExecutor] Using prompt type: optimal for API key selection
[18:00:04.116] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f92277a8-f63d-9abe-aba9-7b4c78c93742"}, traceId: 213e042f17563320027555807e2621'}
[18:00:04.116] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[18:00:04.116] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[18:00:04.116] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[18:00:04.116] [MCPEmbeddingManager] Current cache size: 30 embeddings
[18:00:04.116] 2025-08-27 18:00:03,803 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[18:00:06.842] 2025-08-27 18:00:06,764 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:07.321]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[18:00:07.329] 
[18:00:07.329] [TURN 7/10]
[18:00:07.465] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:07.684] 2025-08-27 18:00:07,679 - mcp_embedding_manager - INFO - FAISS index loaded
[18:00:07.714] 2025-08-27 18:00:07,690 - mcp_embedding_manager - INFO - Updated dimension to 3072
[18:00:07.714] 2025-08-27 18:00:07,690 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[18:00:08.874] [INFO] Tool embedding index loaded successfully
[18:00:09.174] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[18:00:09.272] [INFO] Operation semantic index initialized
[18:00:09.316] 2025-08-27 18:00:09,315 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:00:09.390] 
[18:00:09.390] [TURN 1/10]
[18:00:09.416] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ee722ec2-a3cc-9e25-b8e9-17541fcb976d"}, traceId: 213e042f17563320077485819e2621'}
[18:00:09.417] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[18:00:09.422] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:10.474] 2025-08-27 18:00:10,469 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[18:00:10.567] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.87
[18:00:11.687] 2025-08-27 18:00:11,679 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:00:11.764] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f82df333-12c0-9372-b4a7-f0e07377a02b"}, traceId: 213e043117563320107552603e2168'}
[18:00:11.838] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[18:00:11.838] 2025-08-27 18:00:11,713 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:11.838]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[18:00:11.838] 
[18:00:11.846] [TURN 8/10]
[18:00:11.867] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:12.816] 2025-08-27 18:00:12,816 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:12.825]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[18:00:12.826] 
[18:00:12.826] [TURN 9/10]
[18:00:12.829] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:13.532] 2025-08-27 18:00:13,526 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:00:13.580] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f0f38c8c-01da-9516-aec7-69a391a8cc21"}, traceId: 213e043117563320126792604e2168'}
[18:00:13.584] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[18:00:13.763] 2025-08-27 18:00:13,763 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:13.799]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[18:00:13.857] 
[18:00:13.857] [TURN 10/10]
[18:00:13.859] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:15.550] 2025-08-27 18:00:15,483 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:15.876]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[18:00:15.923] [ASSISTED] Task received 5 format helps, final result: failure
[18:00:16.293] [DEBUG] Got result for task: has_result=True, save_logs=True
[18:00:16.300] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[18:00:16.302] [AI_DEBUG] 生成的txt_content长度: 24439
[18:00:16.302] [AI_DEBUG] _ai_classify_with_txt_content called:
[18:00:16.302]   - use_ai_classification=True
[18:00:16.305]   - ai_classifier=True
[18:00:16.305]   - txt_content_len=24439
[18:00:16.314]   - task_model=qwen2.5-72b-instruct
[18:00:16.315] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[18:00:16.455] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[18:00:17.230] 2025-08-27 18:00:17,201 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[18:00:17.264] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[18:00:17.264] [InteractiveExecutor] Using prompt type: optimal for API key selection
[18:00:17.312] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[18:00:17.327] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[18:00:17.330] [MCPEmbeddingManager] Current cache size: 30 embeddings
[18:00:17.360] 2025-08-27 18:00:17,360 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[18:00:17.375] 2025-08-27 18:00:17,375 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:17.567]   [SEARCH] Query: file reader
[18:00:17.703] 
[18:00:17.703] [TURN 2/10]
[18:00:17.713] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:20.337] 2025-08-27 18:00:20,180 - mcp_embedding_manager - INFO - FAISS index loaded
[18:00:20.362] 2025-08-27 18:00:20,346 - mcp_embedding_manager - INFO - Updated dimension to 3072
[18:00:20.369] 2025-08-27 18:00:20,362 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[18:00:21.612] [INFO] Tool embedding index loaded successfully
[18:00:21.831] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json2025-08-27 18:00:21,734 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:00:21.835] 
[18:00:21.877] [INFO] Operation semantic index initialized
[18:00:21.901] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"10b9864b-3014-956b-a2b6-8542c2228d4b"}, traceId: 213e043117563320194142615e2168'}
[18:00:21.903] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[18:00:21.926] 
[18:00:21.926] [TURN 1/10]
[18:00:21.939] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:23.217] 2025-08-27 18:00:23,156 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[18:00:23.675] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[18:00:24.001] 2025-08-27 18:00:24,000 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:24.027]   [SEARCH] Query: file reader
[18:00:24.046] 
[18:00:24.046] [TURN 2/10]
[18:00:24.057] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:25.715] 2025-08-27 18:00:25,306 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:00:25.743] 2025-08-27 18:00:25,653 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:26.139] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3a59ba27-c2df-99f7-ad19-c3089425a247"}, traceId: 213e043117563320239382624e2168'}
[18:00:26.146] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[18:00:26.198]   [EARLY_EXIT] No actions taken, continuing...
[18:00:26.200] 
[18:00:26.201] [TURN 3/10]
[18:00:26.228] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:27.345] 2025-08-27 18:00:27,342 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:27.361]   [EARLY_EXIT] No actions taken, continuing...
[18:00:27.364] 
[18:00:27.365] [TURN 4/10]
[18:00:27.365] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:28.614] 2025-08-27 18:00:28,604 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:28.619] 2025-08-27 18:00:28,614 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:28.643]   [EARLY_EXIT] No actions taken, continuing...
[18:00:28.643] 
[18:00:28.643] [TURN 5/10]
[18:00:28.649]   [EARLY_EXIT] No actions taken, continuing...
[18:00:28.649] 
[18:00:28.649] [TURN 3/10]
[18:00:28.650] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:28.659] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:29.166] 2025-08-27 18:00:29,107 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:00:29.341] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"df92a823-de0a-9b24-a6fa-150afe5835d2"}, traceId: 213e043117563320288412631e2168'}
[18:00:29.346] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[18:00:29.811] 2025-08-27 18:00:29,811 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:29.910]   [EARLY_EXIT] No actions taken, continuing...
[18:00:29.910] 
[18:00:29.910] [TURN 6/10]
[18:00:29.938] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:31.202] 2025-08-27 18:00:31,158 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:00:31.289] 2025-08-27 18:00:31,281 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:00:31.465] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fd9f3624-a60b-9867-8a3a-865dc3890e58"}, traceId: 213e043117563320304362635e2168'}
[18:00:31.469] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[18:00:31.471] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7d2c5572-1455-9fec-ae02-cb3b3cd5f92e"}, traceId: 213e011517563320303043167e920c'}
[18:00:31.477] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[18:00:40.604] 2025-08-27 18:00:40,579 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:40.614] 2025-08-27 18:00:40,597 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:40.723]   [EARLY_EXIT] No actions taken, continuing...  [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[18:00:40.724] 
[18:00:40.724] [TURN 7/10]
[18:00:40.724] 
[18:00:40.725] 
[18:00:40.725] [TURN 4/10]
[18:00:40.752] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:40.759] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:42.487] 2025-08-27 18:00:42,470 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:42.499] 2025-08-27 18:00:42,478 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:42.640]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[18:00:42.641] 
[18:00:42.641] [TURN 8/10]
[18:00:42.647]   [EARLY_EXIT] No actions taken, continuing...
[18:00:42.647] 
[18:00:42.647] [TURN 5/10]
[18:00:42.658] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:42.671] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:43.756] 2025-08-27 18:00:43,689 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:00:43.879] 2025-08-27 18:00:43,876 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:00:44.102] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b758315d-eea4-996c-a7df-ee393d8ce820"}, traceId: 213e006d17563320429298871e1449'}
[18:00:44.114] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c15e77d6-6f20-9887-a975-4b2203d1fdcd"}, traceId: 213e006c17563320429312400e1165'}
[18:00:44.117] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...[RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[18:00:44.117] 
[18:00:46.626] 2025-08-27 18:00:46,623 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:46.639] 2025-08-27 18:00:46,626 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:46.747]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns  [EARLY_EXIT] No actions taken, continuing...
[18:00:46.747] 
[18:00:46.747] 
[18:00:46.752] [TURN 9/10]
[18:00:46.752] 
[18:00:46.752] [TURN 6/10]
[18:00:46.755] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:46.775] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:48.680] 2025-08-27 18:00:48,649 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:48.684] 2025-08-27 18:00:48,651 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:48.758]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns  [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[18:00:48.758] 
[18:00:48.758] [TURN 10/10]
[18:00:48.760] 
[18:00:48.760] 
[18:00:48.760] [TURN 7/10]
[18:00:48.777] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct[LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:48.786] 
[18:00:50.187] 2025-08-27 18:00:50,046 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:50.291] 2025-08-27 18:00:50,286 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:50.411]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[18:00:50.421]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[18:00:50.422] 
[18:00:50.422] [TURN 8/10]
[18:00:50.440] [ASSISTED] Task received 5 format helps, final result: failure
[18:00:50.526] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:51.374] [DEBUG] Got result for task: has_result=True, save_logs=True
[18:00:51.382] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[18:00:51.414] [AI_DEBUG] 生成的txt_content长度: 24367
[18:00:51.414] [AI_DEBUG] _ai_classify_with_txt_content called:
[18:00:51.414]   - use_ai_classification=True
[18:00:51.414]   - ai_classifier=True
[18:00:51.414]   - txt_content_len=24367
[18:00:51.414]   - task_model=qwen2.5-72b-instruct
[18:00:51.414] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[18:00:51.580] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[18:00:52.488] 2025-08-27 18:00:52,474 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:52.595]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[18:00:52.605] 
[18:00:52.607] [TURN 9/10]
[18:00:52.616] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:53.283] 2025-08-27 18:00:53,245 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[18:00:53.346] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[18:00:53.346] [InteractiveExecutor] Using prompt type: optimal for API key selection
[18:00:53.376] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[18:00:53.384] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[18:00:53.386] [MCPEmbeddingManager] Current cache size: 30 embeddings
[18:00:53.400] 2025-08-27 18:00:53,400 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[18:00:54.415] 2025-08-27 18:00:54,372 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:56.491]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[18:00:56.497] 
[18:00:56.499] [TURN 10/10]
[18:00:56.562] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:56.898] 2025-08-27 18:00:56,897 - mcp_embedding_manager - INFO - FAISS index loaded
[18:00:56.899] 2025-08-27 18:00:56,899 - mcp_embedding_manager - INFO - Updated dimension to 3072
[18:00:56.904] 2025-08-27 18:00:56,899 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[18:00:57.430] [INFO] Tool embedding index loaded successfully
[18:00:57.529] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[18:00:57.541] [INFO] Operation semantic index initialized
[18:00:57.584] 
[18:00:57.584] [TURN 1/10]
[18:00:57.630] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:00:57.884] 2025-08-27 18:00:57,858 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[18:00:58.141] 2025-08-27 18:00:58,138 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:00:58.357] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.88
[18:00:58.377]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[18:00:58.377] [ASSISTED] Task received 5 format helps, final result: failure
[18:00:58.460] 💾 智能Checkpoint: 保存7个结果...
[18:00:58.460]    触发原因: 数量=7, 时间=140.7s, 强制=False
[18:00:58.532] 2025-08-27 18:00:58,532 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756332058517631.json
[18:00:58.543] 2025-08-27 18:00:58,543 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756332058535332.json
[18:00:58.570] 2025-08-27 18:00:58,570 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756332058544702.json
[18:00:58.606] 2025-08-27 18:00:58,606 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756332058574677.json
[18:00:58.612] 2025-08-27 18:00:58,612 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756332058606309.json
[18:00:58.636] 2025-08-27 18:00:58,631 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756332058614307.json
[18:00:58.636] 2025-08-27 18:00:58,634 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756332058632101.json
[18:00:58.636] ✅ Checkpoint完成: 成功保存 7/7 个结果
[18:00:58.668] [DEBUG] Got result for task: has_result=True, save_logs=True
[18:00:58.668] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[18:00:58.670] [AI_DEBUG] 生成的txt_content长度: 24276
[18:00:58.672] [AI_DEBUG] _ai_classify_with_txt_content called:
[18:00:58.672]   - use_ai_classification=True
[18:00:58.672]   - ai_classifier=True
[18:00:58.672]   - txt_content_len=24276
[18:00:58.672]   - task_model=qwen2.5-72b-instruct
[18:00:58.672] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[18:00:58.698] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[18:00:58.933] 2025-08-27 18:00:58,930 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[18:00:58.936] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[18:00:58.940] [InteractiveExecutor] Using prompt type: optimal for API key selection
[18:00:58.958] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[18:00:58.961] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[18:00:58.961] [MCPEmbeddingManager] Current cache size: 30 embeddings
[18:00:58.964] 2025-08-27 18:00:58,964 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[18:00:59.846] 2025-08-27 18:00:59,788 - mcp_embedding_manager - INFO - FAISS index loaded
[18:00:59.877] 2025-08-27 18:00:59,812 - mcp_embedding_manager - INFO - Updated dimension to 3072
[18:00:59.877] 2025-08-27 18:00:59,812 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[18:00:59.936] [INFO] Tool embedding index loaded successfully
[18:01:00.086] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[18:01:00.124] [INFO] Operation semantic index initialized
[18:01:00.208] 
[18:01:00.214] [TURN 1/10]
[18:01:00.269] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:00.368] 2025-08-27 18:01:00,281 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:00.523]   [SEARCH] Query: file reader
[18:01:00.570] 
[18:01:00.570] [TURN 2/10]
[18:01:00.571] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:01.656] 2025-08-27 18:01:01,650 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:01:01.886] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e52a2ac9-7b06-9fb4-bf06-914e8fd6b8c1"}, traceId: 213e006c17563320607353470e14b0'}
[18:01:01.898] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[18:01:03.136] 2025-08-27 18:01:03,060 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:03.214] 2025-08-27 18:01:03,207 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:01:03.299]   [SEARCH] Query: file reader[LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9b18f4d3-4713-9230-8588-c4e277730223"}, traceId: 213e006c17563320629043478e14b0'}
[18:01:03.302] 
[18:01:03.302] [TURN 2/10]
[18:01:03.307] 
[18:01:03.322] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[18:01:03.325] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:03.378] 2025-08-27 18:01:03,378 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[18:01:03.388] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[18:01:04.948] 2025-08-27 18:01:04,917 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:05.110]   [EARLY_EXIT] No actions taken, continuing...
[18:01:05.113] 
[18:01:05.113] [TURN 3/10]
[18:01:05.155] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:06.578] 2025-08-27 18:01:06,559 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:06.585] 2025-08-27 18:01:06,562 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:06.807]   [EARLY_EXIT] No actions taken, continuing...  [EARLY_EXIT] No actions taken, continuing...
[18:01:06.811] 
[18:01:06.820] [TURN 3/10]
[18:01:06.820] 
[18:01:06.820] [TURN 4/10]
[18:01:06.820] 
[18:01:06.871] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct[LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:06.877] 
[18:01:08.735] 2025-08-27 18:01:08,690 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:08.782] 2025-08-27 18:01:08,690 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:01:09.024] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4ba91fc8-5ec3-9d77-871a-7be596f5b2f9"}, traceId: 213e065417563320672074366e810a'}
[18:01:09.045] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[18:01:09.139]   [EARLY_EXIT] No actions taken, continuing...
[18:01:09.139] 
[18:01:09.139] [TURN 4/10]
[18:01:09.163] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:10.806] 2025-08-27 18:01:10,801 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:10.816]   [EARLY_EXIT] No actions taken, continuing...
[18:01:10.816] 
[18:01:10.816] [TURN 5/10]
[18:01:10.818] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:11.324] 2025-08-27 18:01:11,317 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:11.374]   [EARLY_EXIT] No actions taken, continuing...
[18:01:11.375] 
[18:01:11.375] [TURN 5/10]
[18:01:11.417] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:11.755] 2025-08-27 18:01:11,755 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:11.874]   [EARLY_EXIT] No actions taken, continuing...
[18:01:11.874] 
[18:01:11.874] [TURN 6/10]
[18:01:11.876] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:12.517] 2025-08-27 18:01:12,505 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:01:12.528] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"af2592d5-246a-9f67-8027-d88b73c94787"}, traceId: 213e065417563320717434374e810a'}
[18:01:12.535] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[18:01:12.958] 2025-08-27 18:01:12,953 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:13.207]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[18:01:13.281] 
[18:01:13.472] [TURN 7/10]
[18:01:13.472] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:14.837] 2025-08-27 18:01:14,820 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:15.059] 2025-08-27 18:01:15,058 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:15.154]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[18:01:15.155] 
[18:01:15.156] [TURN 8/10]
[18:01:15.161]   [EARLY_EXIT] No actions taken, continuing...
[18:01:15.164] 
[18:01:15.173] [TURN 6/10]
[18:01:15.185] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:15.225] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:16.996] 2025-08-27 18:01:16,949 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:17.002] 2025-08-27 18:01:16,949 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:17.216]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[18:01:17.221] 
[18:01:17.222] [TURN 7/10]  [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[18:01:17.222] 
[18:01:17.222] [TURN 9/10]
[18:01:17.230] 
[18:01:17.244] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:17.268] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:19.027] 2025-08-27 18:01:18,987 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:19.062] 2025-08-27 18:01:18,984 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:19.339]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[18:01:19.349] 
[18:01:19.350] [TURN 10/10]
[18:01:19.350]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[18:01:19.350] 
[18:01:19.350] [TURN 8/10]
[18:01:19.364] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:19.382] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:20.538] 2025-08-27 18:01:20,443 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:01:20.580] 2025-08-27 18:01:20,443 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:01:20.798] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4bdf225a-d9d7-946d-a165-268c3bdcbd76"}, traceId: 213e006c17563320796883503e14b0'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7e0d170c-85d5-9ba1-94af-0385f4b5309f"}, traceId: 213e065417563320796894385e810a'}
[18:01:20.806] 
[18:01:20.806] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...[RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[18:01:20.806] 
[18:01:23.916] 2025-08-27 18:01:23,891 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:23.923] 2025-08-27 18:01:23,891 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:24.085]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns  [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[18:01:24.094] 
[18:01:24.098] 
[18:01:24.098] [TURN 9/10]
[18:01:24.103] [ASSISTED] Task received 5 format helps, final result: failure
[18:01:24.138] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:24.702] [DEBUG] Got result for task: has_result=True, save_logs=True
[18:01:24.717] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[18:01:24.717] [AI_DEBUG] 生成的txt_content长度: 24391
[18:01:24.728] [AI_DEBUG] _ai_classify_with_txt_content called:
[18:01:24.728]   - use_ai_classification=True
[18:01:24.728]   - ai_classifier=True
[18:01:24.735]   - txt_content_len=24391
[18:01:24.738]   - task_model=qwen2.5-72b-instruct
[18:01:24.748] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[18:01:24.762] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[18:01:25.783] 2025-08-27 18:01:25,762 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:25.935]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[18:01:25.938] 
[18:01:25.951] [TURN 10/10]
[18:01:25.979] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:26.055] 2025-08-27 18:01:26,050 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[18:01:26.128] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[18:01:26.135] [InteractiveExecutor] Using prompt type: optimal for API key selection
[18:01:26.194] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[18:01:26.210] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140614401142048)
[18:01:26.212] [MCPEmbeddingManager] Current cache size: 30 embeddings
[18:01:26.247] 2025-08-27 18:01:26,247 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[18:01:28.745] 2025-08-27 18:01:28,714 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:29.544]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[18:01:29.573] [ASSISTED] Task received 5 format helps, final result: failure
[18:01:29.795] [ERROR] Tool 'file_operations_writer' at index 14 not found in tool_embeddings
[18:01:29.796] [DEBUG] tool_names length: 30, tool_embeddings keys: 11
[18:01:29.796] [DEBUG] Thread ID: 13073989632
[18:01:29.796] [ERROR] Tool 'file_operations_converter' at index 12 not found in tool_embeddings
[18:01:29.796] [DEBUG] tool_names length: 30, tool_embeddings keys: 11
[18:01:29.796] [DEBUG] Thread ID: 13073989632
[18:01:29.796] [ERROR] Tool 'file_operations_compressor' at index 13 not found in tool_embeddings
[18:01:29.796] [DEBUG] tool_names length: 30, tool_embeddings keys: 11
[18:01:29.796] [DEBUG] Thread ID: 13073989632
[18:01:29.854] 2025-08-27 18:01:29,852 - mcp_embedding_manager - WARNING - Tool computation_analyzer not found
[18:01:30.315] 2025-08-27 18:01:30,315 - mcp_embedding_manager - INFO - FAISS index loaded
[18:01:30.318] 2025-08-27 18:01:30,318 - mcp_embedding_manager - INFO - Updated dimension to 3072
[18:01:30.318] 2025-08-27 18:01:30,318 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[18:01:30.598] [INFO] Tool embedding index loaded successfully
[18:01:30.633] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[18:01:30.644] [INFO] Operation semantic index initialized
[18:01:30.694] 
[18:01:30.698] [TURN 1/10]
[18:01:30.704] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:33.689] 2025-08-27 18:01:33,684 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[18:01:33.964] 2025-08-27 18:01:33,679 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:33.966]   [SEARCH] Query: file reader
[18:01:33.966] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[18:01:33.966] 
[18:01:33.966] [TURN 2/10]
[18:01:33.966] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:33.979] [DEBUG] Got result for task: has_result=True, save_logs=True
[18:01:33.979] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[18:01:33.979] [AI_DEBUG] 生成的txt_content长度: 24632
[18:01:33.983] [AI_DEBUG] _ai_classify_with_txt_content called:
[18:01:33.983]   - use_ai_classification=True
[18:01:33.983]   - ai_classifier=True
[18:01:33.983]   - txt_content_len=24632
[18:01:33.983]   - task_model=qwen2.5-72b-instruct
[18:01:33.983] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[18:01:35.209] 2025-08-27 18:01:35,165 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:35.453]   [EARLY_EXIT] No actions taken, continuing...
[18:01:35.453] 
[18:01:35.453] [TURN 3/10]
[18:01:35.481] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:36.889] 2025-08-27 18:01:36,830 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:37.092]   [EARLY_EXIT] No actions taken, continuing...
[18:01:37.094] 
[18:01:37.094] [TURN 4/10]
[18:01:37.110] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:37.891] 2025-08-27 18:01:37,852 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[18:01:37.919] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ebe61972-1a1d-936c-9aa7-9f21ee22855c"}, traceId: 213e007b17563320974404727eec8b'}
[18:01:37.935] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[18:01:38.451] 2025-08-27 18:01:38,451 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[18:01:38.548] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.86
[18:01:40.617] 2025-08-27 18:01:40,569 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:40.791]   [EARLY_EXIT] No actions taken, continuing...
[18:01:40.797] 
[18:01:40.797] [TURN 5/10]
[18:01:40.814] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:41.844] 2025-08-27 18:01:41,822 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:41.855]   [EARLY_EXIT] No actions taken, continuing...
[18:01:41.855] 
[18:01:41.855] [TURN 6/10]
[18:01:41.860] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:43.720] 2025-08-27 18:01:43,666 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:43.897]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[18:01:43.898] 
[18:01:43.898] [TURN 7/10]
[18:01:43.916] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:45.645] 2025-08-27 18:01:45,575 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:45.812]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[18:01:45.914] 
[18:01:45.915] [TURN 8/10]
[18:01:45.915] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:47.626] 2025-08-27 18:01:47,606 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:47.850]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[18:01:47.850] 
[18:01:47.850] [TURN 9/10]
[18:01:47.873] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:49.338] 2025-08-27 18:01:49,300 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:49.476]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[18:01:49.483] 
[18:01:49.483] [TURN 10/10]
[18:01:49.516] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[18:01:50.897] 2025-08-27 18:01:50,869 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[18:01:51.061]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[18:01:51.087] [ASSISTED] Task received 5 format helps, final result: failure
[18:01:51.600] [DEBUG] Got result for task: has_result=True, save_logs=True
[18:01:51.607] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[18:01:51.642] [AI_DEBUG] 生成的txt_content长度: 24632
[18:01:51.643] [AI_DEBUG] _ai_classify_with_txt_content called:
[18:01:51.644]   - use_ai_classification=True
[18:01:51.644]   - ai_classifier=True
[18:01:51.644]   - txt_content_len=24632
[18:01:51.644]   - task_model=qwen2.5-72b-instruct
[18:01:51.644] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[18:01:57.019] 2025-08-27 18:01:57,001 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[18:01:57.127] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.86
[18:01:58.213] 💾 智能Checkpoint: 保存4个结果...
[18:01:58.755]    触发原因: 数量=4, 时间=59.8s, 强制=True
[18:01:59.532] 2025-08-27 18:01:58,883 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756332118257705.json
[18:01:59.535] 2025-08-27 18:01:59,534 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756332118888857.json
[18:01:59.546] 2025-08-27 18:01:59,544 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756332119535872.json
[18:01:59.546] 2025-08-27 18:01:59,546 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_51454_1756332119544472.json
[18:01:59.546] ✅ Checkpoint完成: 成功保存 4/4 个结果
[18:01:59.619] 
[18:01:59.619] [INFO] Batch writing 49 records to database (qwen2.5-72b-instruct:49)
[18:01:59.624] 2025-08-27 18:01:59,619 - batch_test_runner - INFO - Batch writing 49 records to database (qwen2.5-72b-instruct:49)
[18:02:00.118] 2025-08-27 18:02:00,115 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 49 个结果到收集器: qwen2.5-72b-instruct_51454_1756332119631878.json
[18:02:00.159] [INFO] Successfully wrote 49/49 records (qwen2.5-72b-instruct:49)
[18:02:00.182] 2025-08-27 18:02:00,116 - batch_test_runner - INFO - Successfully wrote 49/49 records (qwen2.5-72b-instruct:49)
[18:02:00.222] [INFO] Runtime error report saved to: runtime_reports/runtime_error_report_20250827_180200.json
[18:02:04.681] 2025-08-27 18:02:04,659 - batch_test_runner - INFO - Database saved successfully
[18:02:05.137] 
[18:02:05.140] 📊 Statistics saved to: /Users/ruicheng/Documents/GitHub/WorkflowBench/pilot_bench_cumulative_results/master_database.json
[18:02:05.140] 2025-08-27 18:02:05,137 - batch_test_runner - INFO - Statistics saved to: /Users/ruicheng/Documents/GitHub/WorkflowBench/pilot_bench_cumulative_results/master_database.json
[18:02:05.140] 2025-08-27 18:02:05,138 - batch_test_runner - INFO - ============================================================
[18:02:05.140] 2025-08-27 18:02:05,138 - batch_test_runner - INFO - Batch test completed at 2025-08-27T18:02:05.138328
[18:02:05.140] 2025-08-27 18:02:05,138 - batch_test_runner - INFO - Summary:
[18:02:05.140] 2025-08-27 18:02:05,139 - batch_test_runner - INFO -   - Total tests: 49
[18:02:05.141] 2025-08-27 18:02:05,139 - batch_test_runner - INFO -   - Successful: 0
[18:02:05.141] 2025-08-27 18:02:05,139 - batch_test_runner - INFO -   - Failed: 49
[18:02:05.147] 2025-08-27 18:02:05,147 - batch_test_runner - INFO -   - Success rate: 0.0%
[18:02:05.151] 2025-08-27 18:02:05,150 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250827_174339.log
[18:02:05.232] 2025-08-27 18:02:05,232 - batch_test_runner - INFO - ============================================================
[18:02:05.976] 
[18:02:05.982] ✅ 批测试完成
[18:02:05.987]    成功: 0/49
[18:02:05.989]    失败: 49/49
[18:02:05.990] 📤 提交 49 个结果到ResultCollector...
