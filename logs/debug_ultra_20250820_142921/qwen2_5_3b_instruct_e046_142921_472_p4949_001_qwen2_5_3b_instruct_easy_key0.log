===== 分片 qwen2.5-3b-instruct_easy_key0 =====
时间: 2025-08-20T14:29:21.477495
模型: qwen2.5-3b-instruct
实例: qwen-key0
命令: python -u smart_batch_runner.py --model qwen2.5-3b-instruct --deployment qwen-key0 --prompt-types optimal --difficulty easy --task-types all --num-instances 7 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[14:29:24.196] 2025-08-20 14:29:24,196 - faiss.loader - INFO - Loading faiss.
[14:29:24.208] 2025-08-20 14:29:24,208 - faiss.loader - INFO - Successfully loaded faiss.
[14:29:25.647] [INFO] 使用Parquet存储格式
[14:29:26.029] [INFO] 使用Parquet存储格式
[14:29:26.032] [INFO] 使用PARQUET存储格式
[14:29:26.033] 
[14:29:26.033] ============================================================
[14:29:26.033] 智能批测试: qwen2.5-3b-instruct (idealab)
[14:29:26.033] Prompt types: ['optimal']
[14:29:26.033] 难度: easy
[14:29:26.033] 目标: 每种配置 7 个实例
[14:29:26.033] ============================================================
[14:29:26.066] ○ simple_task         :   0/  7 已完成 (需要补充 7 个)
[14:29:26.072] ○ basic_task          :   0/  7 已完成 (需要补充 7 个)
[14:29:26.080] ○ data_pipeline       :   0/  7 已完成 (需要补充 7 个)
[14:29:26.087] ○ api_integration     :   0/  7 已完成 (需要补充 7 个)
[14:29:26.097] ○ multi_stage_pipeline:   0/  7 已完成 (需要补充 7 个)
[14:29:26.097] 
[14:29:26.097] ⏳ 需要运行 35 个新测试
[14:29:26.097] 
[14:29:26.097] ▶ 准备 simple_task (7 个实例)...
[14:29:26.097] 
[14:29:26.097] ▶ 准备 basic_task (7 个实例)...
[14:29:26.097] 
[14:29:26.097] ▶ 准备 data_pipeline (7 个实例)...
[14:29:26.097] 
[14:29:26.097] ▶ 准备 api_integration (7 个实例)...
[14:29:26.097] 
[14:29:26.097] ▶ 准备 multi_stage_pipeline (7 个实例)...
[14:29:26.097] 
[14:29:26.097] ▶ 开始执行 35 个测试...
[14:29:26.097] 📦 批量提交模式：每20个测试保存一次
[14:29:26.097] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[14:29:26.099] 2025-08-20 14:29:26,099 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[14:29:26.261] 2025-08-20 14:29:26,261 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[14:29:26.261] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x16b65fd40>
[14:29:26.261] 2025-08-20 14:29:26,261 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[14:29:26.261] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[14:29:26.263] 2025-08-20 14:29:26,263 - batch_test_runner - INFO - ============================================================
[14:29:26.263] 2025-08-20 14:29:26,263 - batch_test_runner - INFO - Batch test runner initialized
[14:29:26.263] 2025-08-20 14:29:26,263 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[14:29:26.263] 2025-08-20 14:29:26,263 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_142926.log
[14:29:26.263] 2025-08-20 14:29:26,263 - batch_test_runner - INFO - ============================================================
[14:29:26.263] 2025-08-20 14:29:26,263 - batch_test_runner - INFO - Running 35 tests with 3 workers, QPS limit: 5.0
[14:29:26.263] 2025-08-20 14:29:26,263 - batch_test_runner - INFO - Initializing test components...
[14:29:26.568] 2025-08-20 14:29:26,568 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[14:29:26.568] 2025-08-20 14:29:26,568 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[14:29:26.568] 2025-08-20 14:29:26,568 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[14:29:26.568] [DEBUG] Creating new ToolCapabilityManager instance
[14:29:26.568] [OperationEmbeddingIndex] Initializing with unified API client manager
[14:29:26.568] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[14:29:26.570] 2025-08-20 14:29:26,570 - api_client_manager - INFO - Loaded configuration from config/config.json
[14:29:26.580] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[14:29:26.580] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[14:29:26.580] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[14:30:13.444] 2025-08-20 14:30:13,444 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:30:13.457] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[14:30:13.494] [INFO] Loaded 4150 embeddings from persistent cache
[14:30:13.494] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[14:30:13.497] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[14:30:13.498] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[14:30:13.498] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[14:30:13.508] [INFO] Successfully loaded FAISS index with dimension 3072
[14:30:13.508] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[14:30:13.508] [INFO] Loaded 15 operations with dimension 3072
[14:30:13.508] [INFO] Successfully loaded cached index
[14:30:13.508] [INFO] Operation semantic index initialized
[14:30:13.509] [INFO] Using device: cpu
[14:30:13.512] [INFO] Initialized tool success tracking attributes
[14:30:13.512] [INFO] Initializing embedding manager for enhanced tool selection
[14:30:13.512] [MCPEmbeddingManager] Creating new singleton instance
[14:30:13.513] [MCPEmbeddingManager] Initializing with unified API client manager
[14:30:13.524] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[14:30:13.524] [MCPEmbeddingManager] Client initialized successfully
[14:30:13.524] 2025-08-20 14:30:13,524 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[14:30:13.668] 2025-08-20 14:30:13,668 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[14:30:13.938] 2025-08-20 14:30:13,938 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[14:30:13.938] 2025-08-20 14:30:13,938 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[14:30:13.963] 2025-08-20 14:30:13,962 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[14:30:14.034] 2025-08-20 14:30:14,034 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[14:30:14.486] 2025-08-20 14:30:14,486 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[14:30:14.486] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[14:30:14.486] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[14:30:14.486] 2025-08-20 14:30:14,486 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:30:14.949] 2025-08-20 14:30:14,949 - mcp_embedding_manager - INFO - FAISS index loaded
[14:30:14.949] 2025-08-20 14:30:14,949 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:30:14.949] 2025-08-20 14:30:14,949 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:30:14.951] [SUCCESS] Loaded 30 tool embeddings
[14:30:14.951] 2025-08-20 14:30:14,951 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[14:30:14.951] [SUCCESS] Embedding manager initialized with 30 tools
[14:30:14.951] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[14:30:14.952] [INFO] Loading full MCP protocol registry...
[14:30:14.956] 2025-08-20 14:30:14,956 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:30:14.956] [INFO] Loaded full tool registry with 30 tools
[14:30:14.956] 2025-08-20 14:30:14,956 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[14:30:14.956] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[14:30:14.956] [INFO] Embedding manager ready with 30 tools
[14:30:14.956] [WARNING] Embedding manager exists but has no embeddings
[14:30:14.956] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[14:30:14.956] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[14:30:14.957] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[14:30:14.957] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[14:30:14.957] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[14:30:14.957] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[14:30:14.957] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[14:30:14.957] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[14:30:14.957] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[14:30:14.957] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[14:30:14.957] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[14:30:14.957] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[14:30:14.957] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[14:30:14.957] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[14:30:14.957] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[14:30:14.957] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[14:30:14.957] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[14:30:14.957] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[14:30:14.957] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[14:30:14.957] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[14:30:14.957] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[14:30:14.957] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[14:30:14.957] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[14:30:14.957] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[14:30:14.957] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[14:30:14.957] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[14:30:14.957] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[14:30:14.957] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[14:30:14.957] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[14:30:14.957] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[14:30:14.957] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[14:30:14.957] 2025-08-20 14:30:14,957 - mdp_workflow_generator - INFO - Loaded 30 tools
[14:30:14.957] [INFO] Setting default state_dim based on loaded tools
[14:30:14.957] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[14:30:14.957] 2025-08-20 14:30:14,957 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[14:30:14.957] [INFO] Setting default action_dim based on loaded tools
[14:30:14.957] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[14:30:14.957] 2025-08-20 14:30:14,957 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[14:30:14.957] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[14:30:14.957] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[14:30:14.957] [INFO] ⚡ Will use pre-generated workflows or random policy
[14:30:14.957] 2025-08-20 14:30:14,957 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[14:30:14.957] [INFO] Initializing TaskManager...
[14:30:16.805] 2025-08-20 14:30:16,805 - unified_training_manager - INFO - Using device: cpu
[14:30:16.941] 2025-08-20 14:30:16,941 - unified_training_manager - INFO - Task filtering results:
[14:30:16.941] 2025-08-20 14:30:16,941 - unified_training_manager - INFO -   Total: 5040 -> 5040
[14:30:16.941] 2025-08-20 14:30:16,941 - unified_training_manager - INFO -   simple_task: 320 -> 320
[14:30:16.941] 2025-08-20 14:30:16,941 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[14:30:16.941] 2025-08-20 14:30:16,941 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[14:30:16.941] 2025-08-20 14:30:16,941 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[14:30:16.942] 2025-08-20 14:30:16,941 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[14:30:16.942] 2025-08-20 14:30:16,941 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[14:30:16.944] 2025-08-20 14:30:16,944 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[14:30:16.944] [TaskManager] Difficulty level 'easy': 1096 tasks
[14:30:16.944] [TaskManager] Difficulty level 'very_easy': 856 tasks
[14:30:16.944] [TaskManager] Difficulty level 'medium': 1136 tasks
[14:30:16.944] [TaskManager] Difficulty level 'hard': 1096 tasks
[14:30:16.944] [TaskManager] Difficulty level 'very_hard': 856 tasks
[14:30:16.946] [INFO] TaskManager initialized with 5040 tasks
[14:30:16.946] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[14:30:16.946] [INFO] Initializing ToolCallVerifier...
[14:30:16.948] [INFO] ToolCallVerifier initialized with 30 tools
[14:30:16.948] [INFO] Output tools identified: 1
[14:30:16.948] [INFO] Component initialization status:
[14:30:16.948]   - embedding_manager: initialized
[14:30:16.948]   - task_manager: initialized
[14:30:16.948]   - output_verifier: initialized
[14:30:16.948]   - tool_capability_manager: initialized
[14:30:16.948]   - tool_success_rates: initialized with 0 entries
[14:30:16.948] [INFO] MDPWorkflowGenerator initialization complete
[14:30:16.948] 2025-08-20 14:30:16,948 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[14:30:16.948] 2025-08-20 14:30:16,948 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[14:30:16.948] 2025-08-20 14:30:16,948 - batch_test_runner - INFO -   - task_manager: ✓
[14:30:16.948] 2025-08-20 14:30:16,948 - batch_test_runner - INFO -   - output_verifier: ✓
[14:30:16.948] 2025-08-20 14:30:16,948 - batch_test_runner - INFO -   - embedding_manager: ✓
[14:30:16.948] 2025-08-20 14:30:16,948 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[14:30:16.948] 2025-08-20 14:30:16,948 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[14:30:16.948] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6117516800)
[14:30:16.948] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:30:16.948] [FlawedWorkflowGenerator] Initialized with 30 tools
[14:30:16.948] [FlawedWorkflowGenerator] RAG support: disabled
[14:30:16.951] DEBUG: Checking generator attributes
[14:30:16.951]   - has tool_capabilities: True
[14:30:16.951]   - has tool_capability_manager: True
[14:30:16.951]   - has task_manager: True
[14:30:16.951] [INFO] Loaded 30 tools from generator
[14:30:16.951] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[14:30:16.951] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6117516800)
[14:30:16.951] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:30:16.951] [INFO] Initializing LLM client using APIClientManager
[14:30:16.958] [INFO] Using Azure OpenAI client
[14:30:16.958] [DEBUG] Checking if generator has tool_capability_manager attribute
[14:30:16.958] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[14:30:16.958] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6117516800)
[14:30:16.958] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:30:16.958] [FlawedWorkflowGenerator] Initialized with 30 tools
[14:30:16.958] [FlawedWorkflowGenerator] RAG support: enabled
[14:30:16.958] [INFO] FlawedWorkflowGenerator initialized successfully
[14:30:16.958] [INFO] Initializing StableScorer for Phase 2 scoring
[14:30:16.958] <tool_capability_manager.ToolCapabilityManager object at 0x16b676a80>
[14:30:16.958] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6117516800)
[14:30:16.958] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:30:16.958] [INFO] Loaded tool success history for 0 tools
[14:30:16.958] [INFO] StableScorer initialized with semantic capability
[14:30:16.958] [INFO] StableScorer initialized successfully
[14:30:16.958] [INFO] Loading task instances...
[14:30:16.958] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[14:30:16.965] [INFO] Loaded 630 task instances
[14:30:16.965] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[14:30:16.965] 2025-08-20 14:30:16,965 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[14:30:16.965] 2025-08-20 14:30:16,965 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[14:30:17.339] 2025-08-20 14:30:17,339 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[14:30:17.339] 2025-08-20 14:30:17,339 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[14:30:17.357] 2025-08-20 14:30:17,357 - batch_test_runner - INFO - Initialization complete
[14:30:17.404] 2025-08-20 14:30:17,404 - batch_test_runner - INFO - Starting batch test with 35 tasks, 3 workers
[14:30:17.404] 2025-08-20 14:30:17,404 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[14:30:17.404] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:30:17.406] 2025-08-20 14:30:17,406 - smart_model_router - INFO - Using idealab for qwen2.5-3b-instruct
[14:30:17.414] 2025-08-20 14:30:17,414 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[14:30:17.415] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[14:30:17.415] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:30:17.416] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[14:30:17.416] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6117516800)
[14:30:17.416] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:30:17.416] 2025-08-20 14:30:17,416 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:30:17.792] 2025-08-20 14:30:17,792 - mcp_embedding_manager - INFO - FAISS index loaded
[14:30:17.792] 2025-08-20 14:30:17,792 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:30:17.792] 2025-08-20 14:30:17,792 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:30:17.794] [INFO] Tool embedding index loaded successfully
[14:30:17.794] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:30:17.821] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:30:17.822] [INFO] Operation semantic index initialized
[14:30:17.822] 
[14:30:17.822] [TURN 1/10]
[14:30:17.823] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:17.829] 2025-08-20 14:30:17,829 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[14:30:17.829] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[14:30:17.829] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:30:17.829] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[14:30:17.829] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6117516800)
[14:30:17.829] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:30:17.829] 2025-08-20 14:30:17,829 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:30:17.847] 2025-08-20 14:30:17,847 - mcp_embedding_manager - INFO - FAISS index loaded
[14:30:17.847] 2025-08-20 14:30:17,847 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:30:17.847] 2025-08-20 14:30:17,847 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:30:17.849] [INFO] Tool embedding index loaded successfully
[14:30:17.850] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:30:17.851] [INFO] Operation semantic index initialized
[14:30:17.851] 
[14:30:17.851] [TURN 1/10]
[14:30:17.851] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:17.986] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:30:18.017] 2025-08-20 14:30:18,017 - api_client_manager - INFO - Created idealab client for model qwen2.5-3b-instruct
[14:30:18.017] [InteractiveExecutor] Initialized client with model: qwen2.5-3b-instruct
[14:30:18.017] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:30:18.018] [InteractiveExecutor] API model name: qwen2.5-3b-instruct
[14:30:18.018] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6117516800)
[14:30:18.018] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:30:18.018] 2025-08-20 14:30:18,018 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:30:18.037] 2025-08-20 14:30:18,037 - mcp_embedding_manager - INFO - FAISS index loaded
[14:30:18.037] 2025-08-20 14:30:18,037 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:30:18.037] 2025-08-20 14:30:18,037 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:30:18.039] [INFO] Tool embedding index loaded successfully
[14:30:18.049] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:30:18.049] [INFO] Operation semantic index initialized
[14:30:18.049] 
[14:30:18.049] [TURN 1/10]
[14:30:18.050] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:21.299] 2025-08-20 14:30:21,299 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:21.305]   [SEARCH] Query: data_processing_validator
[14:30:21.307] 
[14:30:21.307] [TURN 2/10]
[14:30:21.307] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:21.676] 2025-08-20 14:30:21,676 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:21.677]   [SEARCH] Query: data processing validator
[14:30:21.677] 
[14:30:21.677] [TURN 2/10]
[14:30:21.677] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:21.704] 2025-08-20 14:30:21,704 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:21.705]   [SEARCH] Query: data_processing_validator
[14:30:21.705] 
[14:30:21.705] [TURN 2/10]
[14:30:21.706] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:22.825] 2025-08-20 14:30:22,825 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:22.826]   [INFO] Tool info request: data_processing_validator
[14:30:22.826] 
[14:30:22.826] [TURN 3/10]
[14:30:22.827] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:23.409] 2025-08-20 14:30:23,408 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:23.409]   [INFO] Tool info request: data_processing_validator
[14:30:23.409] 
[14:30:23.409] [TURN 3/10]
[14:30:23.410] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:23.419] 2025-08-20 14:30:23,419 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:23.419]   [INFO] Tool info request: data_processing_validator
[14:30:23.420] 
[14:30:23.420] [TURN 3/10]
[14:30:23.422] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:25.836] 2025-08-20 14:30:25,836 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:25.841]   [SEARCH] Query: data_processing_parser
[14:30:25.842] 
[14:30:25.842] [TURN 4/10]
[14:30:25.842] 2025-08-20 14:30:25,842 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:25.843]   [SEARCH] Query: data_processing_parser
[14:30:25.843] 
[14:30:25.843] [TURN 4/10]
[14:30:25.844] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:25.846] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:26.169] 2025-08-20 14:30:26,169 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:26.169]   [SEARCH] Query: data_processing_parser
[14:30:26.169] 
[14:30:26.170] [TURN 4/10]
[14:30:26.170] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:28.830] 2025-08-20 14:30:28,828 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:28.832]   [INFO] Tool info request: data_processing_parser
[14:30:28.832] 
[14:30:28.832] [TURN 5/10]
[14:30:28.833] 2025-08-20 14:30:28,833 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:28.834]   [INFO] Tool info request: data_processing_parser
[14:30:28.834] 
[14:30:28.834] [TURN 5/10]
[14:30:28.837] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:28.840] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:28.850] 2025-08-20 14:30:28,850 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:28.851]   [INFO] Tool info request: data_processing_parser
[14:30:28.851] 
[14:30:28.851] [TURN 5/10]
[14:30:28.852] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:29.211] 2025-08-20 14:30:29,211 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:30:29.212] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"5e1a454c-f98b-908a-b209-9cc1bbc21ede"}, traceId: 2150417917557254290426987eec5e'}
[14:30:29.212] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:30:29.223] 2025-08-20 14:30:29,223 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:30:29.224] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"9363b86a-7100-9758-b009-12ab68aad8a2"}, traceId: 215040be17557254290537832ee068'}
[14:30:29.224] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:30:30.156] 2025-08-20 14:30:30,155 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:30.156]   [SEARCH] Query: data_processing_validator
[14:30:30.156] 
[14:30:30.156] [TURN 6/10]
[14:30:30.159] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:33.901] 2025-08-20 14:30:33,901 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:33.902] 2025-08-20 14:30:33,902 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:33.904]   [INFO] Tool info request: data_processing_validator
[14:30:33.904] 
[14:30:33.904] [TURN 6/10]
[14:30:33.905] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:33.907]   [INFO] Tool info request: data_processing_validator
[14:30:33.907] 
[14:30:33.907] [TURN 7/10]
[14:30:33.908] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:33.920] 2025-08-20 14:30:33,920 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:33.923]   [EARLY_EXIT] No actions taken, continuing...
[14:30:33.923] 
[14:30:33.923] [TURN 6/10]
[14:30:33.924] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:35.712] 2025-08-20 14:30:35,712 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:35.714]   [INFO] Tool info request: data_processing_validator
[14:30:35.714] 
[14:30:35.714] [TURN 7/10]
[14:30:35.715] 2025-08-20 14:30:35,715 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:35.716] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:35.718]   [INFO] Tool info request: data_processing_parser
[14:30:35.718] 
[14:30:35.718] [TURN 8/10]
[14:30:35.718] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:35.783] 2025-08-20 14:30:35,783 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:35.784]   [INFO] Tool info request: data_processing_transformer
[14:30:35.784] 
[14:30:35.784] [TURN 7/10]
[14:30:35.787] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:36.094] 2025-08-20 14:30:36,091 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:30:36.096] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"7a42f345-4877-9182-8029-c2be0f981928"}, traceId: 215040be17557254359167846ee068'}
[14:30:36.100] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[14:30:36.103] 2025-08-20 14:30:36,101 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:30:36.104] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.AllocationQuota","message":"Allocated quota exceeded, please increase your quota limit.","request_id":"9637de8a-5f60-90f3-9a4b-559fab6aae6e"}, traceId: 2150416017557254359173698ef041'}
[14:30:36.104] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:30:40.328] 2025-08-20 14:30:40,327 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:40.329]   [INFO] Tool info request: data_processing_filter
[14:30:40.329] 
[14:30:40.329] [TURN 8/10]
[14:30:40.330] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:40.335] 2025-08-20 14:30:40,335 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:40.336]   [SEARCH] Query: data_processing_parser
[14:30:40.336] 
[14:30:40.336] [TURN 8/10]
[14:30:40.337] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:40.401] 2025-08-20 14:30:40,401 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:40.402]   [SEARCH] Query: data_processing_transformer
[14:30:40.402] 
[14:30:40.402] [TURN 9/10]
[14:30:40.403] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:42.379] 2025-08-20 14:30:42,376 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:42.379]   [INFO] Tool info request: data_processing_parser
[14:30:42.380] 
[14:30:42.380] [TURN 9/10]
[14:30:42.384] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:42.521] 2025-08-20 14:30:42,520 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:42.521]   [INFO] Tool info request: validate_structure
[14:30:42.521] 
[14:30:42.521] [TURN 9/10]
[14:30:42.522] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
[14:30:42.637] 2025-08-20 14:30:42,637 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:30:42.638]   [INFO] Tool info request: data_processing_transformer
[14:30:42.638] 
[14:30:42.638] [TURN 10/10]
[14:30:42.638] [LLM_CALL] Using model: qwen2.5-3b-instruct, API name: qwen2.5-3b-instruct
