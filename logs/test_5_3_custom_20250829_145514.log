[1;33m[WARNING][0m ⚠️ 未找到conda环境，使用系统Python
[0;34m[INFO][0m === 5.3 缺陷工作流测试脚本启动 ===
[0;34m[INFO][0m 时间戳: 20250829_145514
[0;34m[INFO][0m 日志文件: /Users/ruicheng/Documents/GitHub/WorkflowBench/logs/test_5_3_custom_20250829_145514.log
[0;34m[INFO][0m 检查环境和依赖文件...
[0;32m[SUCCESS][0m 所有必需文件检查完成
[0;34m[INFO][0m 获取用户选择...
[0;34m[INFO][0m 用户选择的缺陷类型: flawed_sequence_disorder
[0;34m[INFO][0m 选择开源模型进行测试
[0;34m[INFO][0m 开始执行 5.3 缺陷工作流测试
[0;34m[INFO][0m 缺陷类型数: 1
[0;34m[INFO][0m 测试模型数: 8
[0;34m[INFO][0m 总测试组合: 8
[0;34m[INFO][0m 模型配置: opensource
[0;34m[INFO][0m 并发配置: 50 workers, 10 processes
[0;34m[INFO][0m 存储配置: JSON + ResultCollector
[0;34m[INFO][0m 🚀 开始测试 - 缺陷类型: flawed_sequence_disorder
[0;34m[INFO][0m 进度: 1/8 - 测试模型: DeepSeek-V3-0324
[0;34m[INFO][0m 🚀 开始测试 - 模型: DeepSeek-V3-0324, 缺陷类型: flawed_sequence_disorder
[0;34m[INFO][0m 执行命令: USE_RESULT_COLLECTOR='true' STORAGE_FORMAT='json' KMP_DUPLICATE_LIB_OK=TRUE python3 ./ultra_parallel_runner.py --model DeepSeek-V3-0324 --prompt-types flawed_sequence_disorder --difficulty easy --task-types all --num-instances 20 --rate-mode fixed --max-workers 50
[0;32m[SUCCESS][0m ✅ 模型 DeepSeek-V3-0324 测试完成
[0;34m[INFO][0m 详细日志: /Users/ruicheng/Documents/GitHub/WorkflowBench/logs/ultra_parallel_DeepSeek_V3_0324_flawed_sequence_disorder_20250829_145514.log
[0;34m[INFO][0m 日志行数:       69
[0;34m[INFO][0m 等待 3 秒后测试下一个模型...
[0;34m[INFO][0m 进度: 2/8 - 测试模型: DeepSeek-R1-0528
[0;34m[INFO][0m 🚀 开始测试 - 模型: DeepSeek-R1-0528, 缺陷类型: flawed_sequence_disorder
[0;34m[INFO][0m 执行命令: USE_RESULT_COLLECTOR='true' STORAGE_FORMAT='json' KMP_DUPLICATE_LIB_OK=TRUE python3 ./ultra_parallel_runner.py --model DeepSeek-R1-0528 --prompt-types flawed_sequence_disorder --difficulty easy --task-types all --num-instances 20 --rate-mode fixed --max-workers 50
[0;32m[SUCCESS][0m ✅ 模型 DeepSeek-R1-0528 测试完成
[0;34m[INFO][0m 详细日志: /Users/ruicheng/Documents/GitHub/WorkflowBench/logs/ultra_parallel_DeepSeek_R1_0528_flawed_sequence_disorder_20250829_145514.log
[0;34m[INFO][0m 日志行数:       69
[0;34m[INFO][0m 等待 3 秒后测试下一个模型...
[0;34m[INFO][0m 进度: 3/8 - 测试模型: Llama-3.3-70B-Instruct
[0;34m[INFO][0m 🚀 开始测试 - 模型: Llama-3.3-70B-Instruct, 缺陷类型: flawed_sequence_disorder
[0;34m[INFO][0m 执行命令: USE_RESULT_COLLECTOR='true' STORAGE_FORMAT='json' KMP_DUPLICATE_LIB_OK=TRUE python3 ./ultra_parallel_runner.py --model Llama-3.3-70B-Instruct --prompt-types flawed_sequence_disorder --difficulty easy --task-types all --num-instances 20 --rate-mode fixed --max-workers 50
[0;32m[SUCCESS][0m ✅ 模型 Llama-3.3-70B-Instruct 测试完成
[0;34m[INFO][0m 详细日志: /Users/ruicheng/Documents/GitHub/WorkflowBench/logs/ultra_parallel_Llama_3_3_70B_Instruct_flawed_sequence_disorder_20250829_145514.log
[0;34m[INFO][0m 日志行数:       69
[0;34m[INFO][0m 等待 3 秒后测试下一个模型...
[0;34m[INFO][0m 进度: 4/8 - 测试模型: qwen2.5-72b-instruct
[0;34m[INFO][0m 🚀 开始测试 - 模型: qwen2.5-72b-instruct, 缺陷类型: flawed_sequence_disorder
[0;34m[INFO][0m 执行命令: USE_RESULT_COLLECTOR='true' STORAGE_FORMAT='json' KMP_DUPLICATE_LIB_OK=TRUE python3 ./ultra_parallel_runner.py --model qwen2.5-72b-instruct --prompt-types flawed_sequence_disorder --difficulty easy --task-types all --num-instances 20 --rate-mode fixed --max-workers 1
[0;32m[SUCCESS][0m ✅ 模型 qwen2.5-72b-instruct 测试完成
[0;34m[INFO][0m 详细日志: /Users/ruicheng/Documents/GitHub/WorkflowBench/logs/ultra_parallel_qwen2_5_72b_instruct_flawed_sequence_disorder_20250829_145514.log
[0;34m[INFO][0m 日志行数:      135
[0;34m[INFO][0m 等待 3 秒后测试下一个模型...
[0;34m[INFO][0m 进度: 5/8 - 测试模型: qwen2.5-32b-instruct
[0;34m[INFO][0m 🚀 开始测试 - 模型: qwen2.5-32b-instruct, 缺陷类型: flawed_sequence_disorder
[0;34m[INFO][0m 执行命令: USE_RESULT_COLLECTOR='true' STORAGE_FORMAT='json' KMP_DUPLICATE_LIB_OK=TRUE python3 ./ultra_parallel_runner.py --model qwen2.5-32b-instruct --prompt-types flawed_sequence_disorder --difficulty easy --task-types all --num-instances 20 --rate-mode fixed --max-workers 1
[0;32m[SUCCESS][0m ✅ 模型 qwen2.5-32b-instruct 测试完成
[0;34m[INFO][0m 详细日志: /Users/ruicheng/Documents/GitHub/WorkflowBench/logs/ultra_parallel_qwen2_5_32b_instruct_flawed_sequence_disorder_20250829_145514.log
[0;34m[INFO][0m 日志行数:      135
[0;34m[INFO][0m 等待 3 秒后测试下一个模型...
[0;34m[INFO][0m 进度: 6/8 - 测试模型: qwen2.5-14b-instruct
[0;34m[INFO][0m 🚀 开始测试 - 模型: qwen2.5-14b-instruct, 缺陷类型: flawed_sequence_disorder
[0;34m[INFO][0m 执行命令: USE_RESULT_COLLECTOR='true' STORAGE_FORMAT='json' KMP_DUPLICATE_LIB_OK=TRUE python3 ./ultra_parallel_runner.py --model qwen2.5-14b-instruct --prompt-types flawed_sequence_disorder --difficulty easy --task-types all --num-instances 20 --rate-mode fixed --max-workers 1
[0;31m[ERROR][0m ❌ 模型 qwen2.5-14b-instruct 测试失败 (退出码: 137)
[0;31m[ERROR][0m 检查日志: /Users/ruicheng/Documents/GitHub/WorkflowBench/logs/ultra_parallel_qwen2_5_14b_instruct_flawed_sequence_disorder_20250829_145514.log
[0;31m[ERROR][0m === 最后50行日志内容 ===
[0;31m[ERROR][0m     - task_model=qwen2.5-14b-instruct
[0;31m[ERROR][0m   [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[0;31m[ERROR][0m   [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[0;31m[ERROR][0m   [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[0;31m[ERROR][0m   [InteractiveExecutor] Using prompt type: flawed_sequence_disorder for API key selection
[0;31m[ERROR][0m   [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[0;31m[ERROR][0m   [MCPEmbeddingManager] Reusing existing singleton instance (id: 4461754064)
[0;31m[ERROR][0m   [MCPEmbeddingManager] Current cache size: 30 embeddings
[0;31m[ERROR][0m   [INFO] Tool embedding index loaded successfully
[0;31m[ERROR][0m   [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[0;31m[ERROR][0m   [INFO] Operation semantic index initialized
[0;31m[ERROR][0m   
[0;31m[ERROR][0m   [TURN 1/10]
[0;31m[ERROR][0m   [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[0;31m[ERROR][0m     [NO_ACTION] Quick feedback provided - no valid action format detected
[0;31m[ERROR][0m   
[0;31m[ERROR][0m   [TURN 9/10]
[0;31m[ERROR][0m   [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[0;31m[ERROR][0m     [SEARCH] Query: data parsing
[0;31m[ERROR][0m   
[0;31m[ERROR][0m   [TURN 2/10]
[0;31m[ERROR][0m   [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[0;31m[ERROR][0m     [NO_ACTION] Quick feedback provided - no valid action format detected
[0;31m[ERROR][0m   
[0;31m[ERROR][0m   [TURN 10/10]
[0;31m[ERROR][0m   [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[0;31m[ERROR][0m     [INFO] Tool info request: data_processing_parser
[0;31m[ERROR][0m   
[0;31m[ERROR][0m   [TURN 3/10]
[0;31m[ERROR][0m   [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[0;31m[ERROR][0m     [NO_ACTION] Quick feedback provided - no valid action format detected
[0;31m[ERROR][0m   [ASSISTED] Task received 8 format helps, final result: failure
[0;31m[ERROR][0m   [InteractiveExecutor] No LLM client provided, initializing from api_client_manager2025-08-29 15:00:28,067 - batch_test_runner - INFO - Statistics saved to: /Users/ruicheng/Documents/GitHub/WorkflowBench/pilot_bench_cumulative_results/master_database.json
[0;31m[ERROR][0m   2025-08-29 15:00:28,067 - batch_test_runner - INFO - ============================================================
[0;31m[ERROR][0m   2025-08-29 15:00:28,068 - batch_test_runner - INFO - Batch test completed at 2025-08-29T15:00:28.068051
[0;31m[ERROR][0m   2025-08-29 15:00:28,068 - batch_test_runner - INFO - Summary:
[0;31m[ERROR][0m   2025-08-29 15:00:28,068 - batch_test_runner - INFO -   - Total tests: 35
[0;31m[ERROR][0m   2025-08-29 15:00:28,068 - batch_test_runner - INFO -   - Successful: 1
[0;31m[ERROR][0m   2025-08-29 15:00:28,068 - batch_test_runner - INFO -   - Failed: 34
[0;31m[ERROR][0m   2025-08-29 15:00:28,068 - batch_test_runner - INFO -   - Success rate: 2.9%
[0;31m[ERROR][0m   2025-08-29 15:00:28,068 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250829_145541.log
[0;31m[ERROR][0m   2025-08-29 15:00:28,068 - batch_test_runner - INFO - ============================================================
[0;31m[ERROR][0m   2025-08-29 17:38:19,460 - smart_result_collector - INFO - 收到信号 15，准备关闭
[0;31m[ERROR][0m   2025-08-29 17:38:19,463 - smart_result_collector - INFO - SmartResultCollector 正在关闭...
[0;31m[ERROR][0m   2025-08-29 17:38:19,462 - smart_result_collector - INFO - 收到信号 15，准备关闭
[0;31m[ERROR][0m   2025-08-29 17:38:19,463 - smart_result_collector - INFO - SmartResultCollector 正在关闭...
[0;31m[ERROR][0m   2025-08-29 17:38:19,465 - smart_result_collector - INFO - 收到信号 15，准备关闭
[0;31m[ERROR][0m   2025-08-29 17:38:19,467 - smart_result_collector - INFO - SmartResultCollector 正在关闭...
[0;31m[ERROR][0m   === 测试结束时间: 2025年 8月29日 星期五 17时38分35秒 EDT ===
[0;31m[ERROR][0m   === 退出码: 137 ===
[0;31m[ERROR][0m === 日志结束 ===
[0;34m[INFO][0m 等待 3 秒后测试下一个模型...
[0;34m[INFO][0m 进度: 7/8 - 测试模型: qwen2.5-7b-instruct
[0;34m[INFO][0m 🚀 开始测试 - 模型: qwen2.5-7b-instruct, 缺陷类型: flawed_sequence_disorder
[0;34m[INFO][0m 执行命令: USE_RESULT_COLLECTOR='true' STORAGE_FORMAT='json' KMP_DUPLICATE_LIB_OK=TRUE python3 ./ultra_parallel_runner.py --model qwen2.5-7b-instruct --prompt-types flawed_sequence_disorder --difficulty easy --task-types all --num-instances 20 --rate-mode fixed --max-workers 1
[1;33m[WARNING][0m 接收到中断信号，正在清理...
[0;34m[INFO][0m 清理完成
