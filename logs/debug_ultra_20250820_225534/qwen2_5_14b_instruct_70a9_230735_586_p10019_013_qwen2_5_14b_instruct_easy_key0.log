===== 分片 qwen2.5-14b-instruct_easy_key0 =====
时间: 2025-08-20T23:07:35.593546
模型: qwen2.5-14b-instruct
实例: qwen-key0
命令: python -u smart_batch_runner.py --model qwen2.5-14b-instruct --deployment qwen-key0 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[23:07:37.421] 2025-08-20 23:07:37,421 - faiss.loader - INFO - Loading faiss.
[23:07:37.435] 2025-08-20 23:07:37,434 - faiss.loader - INFO - Successfully loaded faiss.
[23:07:38.370] [INFO] 使用Parquet存储格式
[23:07:38.712] [INFO] 使用Parquet存储格式
[23:07:38.715] [INFO] 使用PARQUET存储格式
[23:07:38.715] 
[23:07:38.715] ============================================================
[23:07:38.715] 智能批测试: qwen2.5-14b-instruct (idealab)
[23:07:38.715] Prompt types: ['optimal']
[23:07:38.715] 难度: easy
[23:07:38.715] 目标: 每种配置 2 个实例
[23:07:38.715] ============================================================
[23:07:38.751] ○ simple_task         :   0/  2 已完成 (需要补充 2 个)
[23:07:38.757] ○ basic_task          :   0/  2 已完成 (需要补充 2 个)
[23:07:38.765] ○ data_pipeline       :   0/  2 已完成 (需要补充 2 个)
[23:07:38.772] ○ api_integration     :   0/  2 已完成 (需要补充 2 个)
[23:07:38.780] ○ multi_stage_pipeline:   0/  2 已完成 (需要补充 2 个)
[23:07:38.780] 
[23:07:38.780] ⏳ 需要运行 10 个新测试
[23:07:38.780] 
[23:07:38.780] ▶ 准备 simple_task (2 个实例)...
[23:07:38.780] 
[23:07:38.780] ▶ 准备 basic_task (2 个实例)...
[23:07:38.780] 
[23:07:38.780] ▶ 准备 data_pipeline (2 个实例)...
[23:07:38.780] 
[23:07:38.780] ▶ 准备 api_integration (2 个实例)...
[23:07:38.780] 
[23:07:38.780] ▶ 准备 multi_stage_pipeline (2 个实例)...
[23:07:38.780] 
[23:07:38.780] ▶ 开始执行 10 个测试...
[23:07:38.780] 📦 批量提交模式：每20个测试保存一次
[23:07:38.780] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[23:07:38.782] 2025-08-20 23:07:38,782 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[23:07:38.831] 2025-08-20 23:07:38,831 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[23:07:38.831] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x16cdda450>
[23:07:38.831] 2025-08-20 23:07:38,831 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[23:07:38.832] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[23:07:38.832] 2025-08-20 23:07:38,832 - batch_test_runner - INFO - ============================================================
[23:07:38.832] 2025-08-20 23:07:38,832 - batch_test_runner - INFO - Batch test runner initialized
[23:07:38.832] 2025-08-20 23:07:38,832 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[23:07:38.832] 2025-08-20 23:07:38,832 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_230738.log
[23:07:38.832] 2025-08-20 23:07:38,832 - batch_test_runner - INFO - ============================================================
[23:07:38.832] 2025-08-20 23:07:38,832 - batch_test_runner - INFO - Running 10 tests with 3 workers, QPS limit: 5.0
[23:07:38.832] 2025-08-20 23:07:38,832 - batch_test_runner - INFO - Initializing test components...
[23:07:39.123] 2025-08-20 23:07:39,123 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[23:07:39.123] 2025-08-20 23:07:39,123 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[23:07:39.123] 2025-08-20 23:07:39,123 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[23:07:39.123] [DEBUG] Creating new ToolCapabilityManager instance
[23:07:39.123] [OperationEmbeddingIndex] Initializing with unified API client manager
[23:07:39.123] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[23:07:39.123] 2025-08-20 23:07:39,123 - api_client_manager - INFO - Loaded configuration from config/config.json
[23:07:39.130] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[23:07:39.130] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[23:07:39.130] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[23:07:40.207] 2025-08-20 23:07:40,206 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[23:07:40.208] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[23:07:40.308] [INFO] Loaded 4150 embeddings from persistent cache
[23:07:40.309] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[23:07:40.309] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[23:07:40.309] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[23:07:40.309] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[23:07:40.314] [INFO] Successfully loaded FAISS index with dimension 3072
[23:07:40.314] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[23:07:40.314] [INFO] Loaded 15 operations with dimension 3072
[23:07:40.314] [INFO] Successfully loaded cached index
[23:07:40.314] [INFO] Operation semantic index initialized
[23:07:40.315] [INFO] Using device: cpu
[23:07:40.315] [INFO] Initialized tool success tracking attributes
[23:07:40.315] [INFO] Initializing embedding manager for enhanced tool selection
[23:07:40.315] [MCPEmbeddingManager] Creating new singleton instance
[23:07:40.315] [MCPEmbeddingManager] Initializing with unified API client manager
[23:07:40.324] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[23:07:40.324] [MCPEmbeddingManager] Client initialized successfully
[23:07:40.324] 2025-08-20 23:07:40,324 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[23:07:40.576] 2025-08-20 23:07:40,576 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[23:07:40.841] 2025-08-20 23:07:40,841 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[23:07:40.841] 2025-08-20 23:07:40,841 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[23:07:40.865] 2025-08-20 23:07:40,865 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[23:07:40.943] 2025-08-20 23:07:40,943 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[23:07:41.324] 2025-08-20 23:07:41,324 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[23:07:41.324] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[23:07:41.324] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[23:07:41.324] 2025-08-20 23:07:41,324 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[23:07:41.747] 2025-08-20 23:07:41,746 - mcp_embedding_manager - INFO - FAISS index loaded
[23:07:41.747] 2025-08-20 23:07:41,747 - mcp_embedding_manager - INFO - Updated dimension to 3072
[23:07:41.747] 2025-08-20 23:07:41,747 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[23:07:41.749] [SUCCESS] Loaded 30 tool embeddings
[23:07:41.749] 2025-08-20 23:07:41,749 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[23:07:41.749] [SUCCESS] Embedding manager initialized with 30 tools
[23:07:41.749] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[23:07:41.749] [INFO] Loading full MCP protocol registry...
[23:07:41.764] 2025-08-20 23:07:41,764 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[23:07:41.764] [INFO] Loaded full tool registry with 30 tools
[23:07:41.764] 2025-08-20 23:07:41,764 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[23:07:41.764] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[23:07:41.765] [INFO] Embedding manager ready with 30 tools
[23:07:41.765] [WARNING] Embedding manager exists but has no embeddings
[23:07:41.765] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[23:07:41.765] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[23:07:41.765] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[23:07:41.765] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[23:07:41.765] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[23:07:41.766] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[23:07:41.766] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[23:07:41.766] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[23:07:41.766] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[23:07:41.766] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[23:07:41.766] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[23:07:41.766] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[23:07:41.766] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[23:07:41.766] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[23:07:41.766] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[23:07:41.766] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[23:07:41.766] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[23:07:41.766] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[23:07:41.766] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[23:07:41.766] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[23:07:41.766] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[23:07:41.766] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[23:07:41.766] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[23:07:41.766] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[23:07:41.766] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[23:07:41.766] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[23:07:41.766] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[23:07:41.766] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[23:07:41.766] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[23:07:41.766] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[23:07:41.766] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[23:07:41.766] 2025-08-20 23:07:41,766 - mdp_workflow_generator - INFO - Loaded 30 tools
[23:07:41.766] [INFO] Setting default state_dim based on loaded tools
[23:07:41.766] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[23:07:41.766] 2025-08-20 23:07:41,766 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[23:07:41.766] [INFO] Setting default action_dim based on loaded tools
[23:07:41.766] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[23:07:41.766] 2025-08-20 23:07:41,766 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[23:07:41.766] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[23:07:41.766] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[23:07:41.766] [INFO] ⚡ Will use pre-generated workflows or random policy
[23:07:41.766] 2025-08-20 23:07:41,766 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[23:07:41.766] [INFO] Initializing TaskManager...
[23:07:42.956] 2025-08-20 23:07:42,956 - unified_training_manager - INFO - Using device: cpu
[23:07:43.061] 2025-08-20 23:07:43,060 - unified_training_manager - INFO - Task filtering results:
[23:07:43.061] 2025-08-20 23:07:43,061 - unified_training_manager - INFO -   Total: 5040 -> 5040
[23:07:43.061] 2025-08-20 23:07:43,061 - unified_training_manager - INFO -   simple_task: 320 -> 320
[23:07:43.061] 2025-08-20 23:07:43,061 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[23:07:43.061] 2025-08-20 23:07:43,061 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[23:07:43.061] 2025-08-20 23:07:43,061 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[23:07:43.061] 2025-08-20 23:07:43,061 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[23:07:43.061] 2025-08-20 23:07:43,061 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[23:07:43.063] 2025-08-20 23:07:43,063 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[23:07:43.063] [TaskManager] Difficulty level 'easy': 1096 tasks
[23:07:43.063] [TaskManager] Difficulty level 'very_easy': 856 tasks
[23:07:43.063] [TaskManager] Difficulty level 'medium': 1136 tasks
[23:07:43.063] [TaskManager] Difficulty level 'hard': 1096 tasks
[23:07:43.063] [TaskManager] Difficulty level 'very_hard': 856 tasks
[23:07:43.065] [INFO] TaskManager initialized with 5040 tasks
[23:07:43.065] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[23:07:43.065] [INFO] Initializing ToolCallVerifier...
[23:07:43.066] [INFO] ToolCallVerifier initialized with 30 tools
[23:07:43.066] [INFO] Output tools identified: 1
[23:07:43.066] [INFO] Component initialization status:
[23:07:43.066]   - embedding_manager: initialized
[23:07:43.066]   - task_manager: initialized
[23:07:43.066]   - output_verifier: initialized
[23:07:43.066]   - tool_capability_manager: initialized
[23:07:43.066]   - tool_success_rates: initialized with 0 entries
[23:07:43.066] [INFO] MDPWorkflowGenerator initialization complete
[23:07:43.066] 2025-08-20 23:07:43,066 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[23:07:43.066] 2025-08-20 23:07:43,066 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[23:07:43.066] 2025-08-20 23:07:43,066 - batch_test_runner - INFO -   - task_manager: ✓
[23:07:43.066] 2025-08-20 23:07:43,066 - batch_test_runner - INFO -   - output_verifier: ✓
[23:07:43.066] 2025-08-20 23:07:43,066 - batch_test_runner - INFO -   - embedding_manager: ✓
[23:07:43.066] 2025-08-20 23:07:43,066 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[23:07:43.066] 2025-08-20 23:07:43,066 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[23:07:43.066] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:07:43.066] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:07:43.066] [FlawedWorkflowGenerator] Initialized with 30 tools
[23:07:43.066] [FlawedWorkflowGenerator] RAG support: disabled
[23:07:43.067] DEBUG: Checking generator attributes
[23:07:43.067]   - has tool_capabilities: True
[23:07:43.067]   - has tool_capability_manager: True
[23:07:43.067]   - has task_manager: True
[23:07:43.067] [INFO] Loaded 30 tools from generator
[23:07:43.067] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[23:07:43.067] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:07:43.067] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:07:43.067] [INFO] Initializing LLM client using APIClientManager
[23:07:43.073] [INFO] Using Azure OpenAI client
[23:07:43.073] [DEBUG] Checking if generator has tool_capability_manager attribute
[23:07:43.073] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[23:07:43.073] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:07:43.073] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:07:43.073] [FlawedWorkflowGenerator] Initialized with 30 tools
[23:07:43.073] [FlawedWorkflowGenerator] RAG support: enabled
[23:07:43.073] [INFO] FlawedWorkflowGenerator initialized successfully
[23:07:43.073] [INFO] Initializing StableScorer for Phase 2 scoring
[23:07:43.073] <tool_capability_manager.ToolCapabilityManager object at 0x3222cef60>
[23:07:43.073] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:07:43.073] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:07:43.073] [INFO] Loaded tool success history for 0 tools
[23:07:43.073] [INFO] StableScorer initialized with semantic capability
[23:07:43.073] [INFO] StableScorer initialized successfully
[23:07:43.073] [INFO] Loading task instances...
[23:07:43.073] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[23:07:43.079] [INFO] Loaded 630 task instances
[23:07:43.079] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[23:07:43.079] 2025-08-20 23:07:43,079 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[23:07:43.079] 2025-08-20 23:07:43,079 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[23:07:43.434] 2025-08-20 23:07:43,434 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[23:07:43.434] 2025-08-20 23:07:43,434 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[23:07:43.450] 2025-08-20 23:07:43,450 - batch_test_runner - INFO - Initialization complete
[23:07:43.481] 2025-08-20 23:07:43,481 - batch_test_runner - INFO - Starting batch test with 10 tasks, 3 workers
[23:07:43.481] 2025-08-20 23:07:43,481 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[23:07:43.482] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[23:07:43.482] 2025-08-20 23:07:43,482 - smart_model_router - INFO - Using idealab for qwen2.5-14b-instruct
[23:07:43.489] 2025-08-20 23:07:43,489 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[23:07:43.489] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[23:07:43.489] [InteractiveExecutor] Using prompt type: optimal for API key selection
[23:07:43.489] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[23:07:43.489] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:07:43.489] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:07:43.489] 2025-08-20 23:07:43,489 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[23:07:43.773] 2025-08-20 23:07:43,773 - mcp_embedding_manager - INFO - FAISS index loaded
[23:07:43.774] 2025-08-20 23:07:43,774 - mcp_embedding_manager - INFO - Updated dimension to 3072
[23:07:43.774] 2025-08-20 23:07:43,774 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[23:07:43.776] [INFO] Tool embedding index loaded successfully
[23:07:43.776] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[23:07:43.777] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[23:07:43.777] [INFO] Operation semantic index initialized
[23:07:43.777] 
[23:07:43.777] [TURN 1/10]
[23:07:43.779] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:43.784] 2025-08-20 23:07:43,784 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[23:07:43.784] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[23:07:43.784] [InteractiveExecutor] Using prompt type: optimal for API key selection
[23:07:43.784] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[23:07:43.784] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:07:43.784] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:07:43.785] 2025-08-20 23:07:43,784 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[23:07:43.800] 2025-08-20 23:07:43,800 - mcp_embedding_manager - INFO - FAISS index loaded
[23:07:43.800] 2025-08-20 23:07:43,800 - mcp_embedding_manager - INFO - Updated dimension to 3072
[23:07:43.800] 2025-08-20 23:07:43,800 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[23:07:43.802] [INFO] Tool embedding index loaded successfully
[23:07:43.803] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[23:07:43.803] [INFO] Operation semantic index initialized
[23:07:43.803] 
[23:07:43.803] [TURN 1/10]
[23:07:43.803] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:43.969] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[23:07:43.979] 2025-08-20 23:07:43,979 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[23:07:43.979] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[23:07:43.979] [InteractiveExecutor] Using prompt type: optimal for API key selection
[23:07:43.986] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[23:07:43.986] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:07:43.986] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:07:43.986] 2025-08-20 23:07:43,986 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[23:07:44.007] 2025-08-20 23:07:44,006 - mcp_embedding_manager - INFO - FAISS index loaded
[23:07:44.007] 2025-08-20 23:07:44,006 - mcp_embedding_manager - INFO - Updated dimension to 3072
[23:07:44.007] 2025-08-20 23:07:44,006 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[23:07:44.009] [INFO] Tool embedding index loaded successfully
[23:07:44.009] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[23:07:44.010] [INFO] Operation semantic index initialized
[23:07:44.010] 
[23:07:44.010] [TURN 1/10]
[23:07:44.010] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:45.481] 2025-08-20 23:07:45,480 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:45.483]   [SEARCH] Query: data validation parser
[23:07:45.483] 
[23:07:45.483] [TURN 2/10]
[23:07:45.483] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:45.715] 2025-08-20 23:07:45,715 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:45.717]   [SEARCH] Query: file reader
[23:07:45.718] 
[23:07:45.718] [TURN 2/10]
[23:07:45.719] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:45.772] 2025-08-20 23:07:45,772 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:45.773]   [SEARCH] Query: data processing validator
[23:07:45.774] 
[23:07:45.774] [TURN 2/10]
[23:07:45.775] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:46.520] 2025-08-20 23:07:46,520 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:46.520]   [INFO] Tool info request: data_processing_validator
[23:07:46.520] 
[23:07:46.521] [TURN 3/10]
[23:07:46.521] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:46.822] 2025-08-20 23:07:46,821 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:46.824]   [INFO] Tool info request: file_operations_reader
[23:07:46.824] 
[23:07:46.824] [TURN 3/10]
[23:07:46.825] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:46.871] 2025-08-20 23:07:46,870 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:46.872]   [INFO] Tool info request: data_processing_validator
[23:07:46.872] 
[23:07:46.872] [TURN 3/10]
[23:07:46.876] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:47.459] 2025-08-20 23:07:47,459 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:47.461]   [INFO] Tool info request: data_processing_parser
[23:07:47.461] 
[23:07:47.461] [TURN 4/10]
[23:07:47.462] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:47.666] 2025-08-20 23:07:47,665 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:47.670]   [EARLY_EXIT] No actions taken, continuing...
[23:07:47.670] 
[23:07:47.670] [TURN 4/10]
[23:07:47.671] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:48.240] 2025-08-20 23:07:48,240 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:48.245]   [EARLY_EXIT] No actions taken, continuing...
[23:07:48.245] 
[23:07:48.245] [TURN 4/10]
[23:07:48.246] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:48.400] 2025-08-20 23:07:48,399 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:48.404]   [EARLY_EXIT] No actions taken, continuing...
[23:07:48.404] 
[23:07:48.404] [TURN 5/10]
[23:07:48.404] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:48.555] 2025-08-20 23:07:48,555 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:48.585]   [EARLY_EXIT] No actions taken, continuing...
[23:07:48.585] 
[23:07:48.585] [TURN 5/10]
[23:07:48.585] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:49.328] 2025-08-20 23:07:49,328 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:49.330]   [EARLY_EXIT] No actions taken, continuing...
[23:07:49.330] 
[23:07:49.330] [TURN 6/10]
[23:07:49.331] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:49.488] 2025-08-20 23:07:49,488 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:49.492]   [EARLY_EXIT] No actions taken, continuing...
[23:07:49.492] 
[23:07:49.492] [TURN 6/10]
[23:07:49.493] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:49.558] 2025-08-20 23:07:49,557 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:49.560]   [EARLY_EXIT] No actions taken, continuing...
[23:07:49.560] 
[23:07:49.560] [TURN 5/10]
[23:07:49.561] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:50.189] 2025-08-20 23:07:50,188 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:50.190]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[23:07:50.190] 
[23:07:50.190] [TURN 7/10]
[23:07:50.191] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:50.329] 2025-08-20 23:07:50,329 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:50.333]   [PARSE] Fuzzy matched 'file_operations_reader[source="data/input.json"]' to 'file_operations_reader'
[23:07:50.333]   [EXECUTING] file_operations_reader
[23:07:50.333]     Result: FAILED - INVALID_INPUT: Input validation failed (expected: CSV format)
[23:07:50.333] 
[23:07:50.333] [TURN 7/10]
[23:07:50.334] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:51.127] 2025-08-20 23:07:51,127 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:51.129]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[23:07:51.129] 
[23:07:51.129] [TURN 8/10]
[23:07:51.129] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:51.262] 2025-08-20 23:07:51,261 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:51.265]   [PARSE] Fuzzy matched 'file_operations_reader[source="data/input.csv"]' to 'file_operations_reader'
[23:07:51.265]   [EXECUTING] file_operations_reader
[23:07:51.266]     Result: SUCCESS
[23:07:51.266] 
[23:07:51.266] [TURN 8/10]
[23:07:51.267] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:51.907] 2025-08-20 23:07:51,906 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:51.908]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[23:07:51.908] 
[23:07:51.908] [TURN 9/10]
[23:07:51.908] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:52.050] 2025-08-20 23:07:52,050 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:52.051]   [EARLY_EXIT] No actions taken, continuing...
[23:07:52.051] 
[23:07:52.051] [TURN 6/10]
[23:07:52.055] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:52.176] 2025-08-20 23:07:52,175 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:52.177] 
[23:07:52.177] [TURN 9/10]
[23:07:52.177] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:52.629] 2025-08-20 23:07:52,629 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:52.630] [ERROR] Empty message content from API
[23:07:52.630] [DEBUG] Response finish_reason: stop
[23:07:52.630] [DEBUG] Token usage - prompt: 2764, completion: 0
[23:07:52.631] [DEBUG] Model: qwen2.5-14b-instruct
[23:07:52.631] [DEBUG] Message fields: dict_keys(['content', 'refusal', 'role', 'annotations', 'audio', 'function_call', 'tool_calls'])
[23:07:52.631]   [API_FAILURE] API failed (timeout or max retries)
[23:07:52.631] [ASSISTED] Task received 3 format helps, final result: failure
[23:07:52.632] [DEBUG] Got result for task: has_result=True, save_logs=True
[23:07:52.632] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[23:07:52.632] [AI_DEBUG] 生成的txt_content长度: 14394
[23:07:52.632] [AI_DEBUG] _ai_classify_with_txt_content called:
[23:07:52.632]   - use_ai_classification=True
[23:07:52.632]   - ai_classifier=True
[23:07:52.632]   - txt_content_len=14394
[23:07:52.632]   - task_model=qwen2.5-14b-instruct[InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[23:07:52.632] 
[23:07:52.632] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[23:07:52.641] 2025-08-20 23:07:52,641 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[23:07:52.641] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[23:07:52.641] [InteractiveExecutor] Using prompt type: optimal for API key selection
[23:07:52.641] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[23:07:52.641] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:07:52.641] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:07:52.641] 2025-08-20 23:07:52,641 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[23:07:52.664] 2025-08-20 23:07:52,663 - mcp_embedding_manager - INFO - FAISS index loaded
[23:07:52.664] 2025-08-20 23:07:52,664 - mcp_embedding_manager - INFO - Updated dimension to 3072
[23:07:52.664] 2025-08-20 23:07:52,664 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[23:07:52.667] [INFO] Tool embedding index loaded successfully
[23:07:52.667] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[23:07:52.668] [INFO] Operation semantic index initialized
[23:07:52.668] 
[23:07:52.668] [TURN 1/10]
[23:07:52.668] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:53.157] 2025-08-20 23:07:53,157 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:53.159] 
[23:07:53.159] [TURN 10/10]
[23:07:53.160] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:53.256] 2025-08-20 23:07:53,256 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:53.257]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[23:07:53.257] 
[23:07:53.257] [TURN 7/10]
[23:07:53.258] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:54.064] 2025-08-20 23:07:54,063 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:54.066] [DEBUG RAG] data_processing_parser semantically matched with file_operations_reader (score: 0.622)
[23:07:54.067] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[23:07:54.076] 2025-08-20 23:07:54,076 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[23:07:54.076] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[23:07:54.076] [InteractiveExecutor] Using prompt type: optimal for API key selection
[23:07:54.076] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[23:07:54.076] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:07:54.076] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:07:54.076] 2025-08-20 23:07:54,076 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[23:07:54.102] 2025-08-20 23:07:54,102 - mcp_embedding_manager - INFO - FAISS index loaded
[23:07:54.102] 2025-08-20 23:07:54,102 - mcp_embedding_manager - INFO - Updated dimension to 3072
[23:07:54.102] 2025-08-20 23:07:54,102 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[23:07:54.105] [INFO] Tool embedding index loaded successfully
[23:07:54.106] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[23:07:54.106] [INFO] Operation semantic index initialized
[23:07:54.106] 
[23:07:54.106] [TURN 1/10]
[23:07:54.107] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:54.274] 2025-08-20 23:07:54,274 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:54.275]   [SEARCH] Query: file reader
[23:07:54.275] 
[23:07:54.276] [TURN 2/10]
[23:07:54.276] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:54.509] 2025-08-20 23:07:54,508 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:54.510]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[23:07:54.510] 
[23:07:54.511] [TURN 8/10]
[23:07:54.512] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:55.739] 2025-08-20 23:07:55,739 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:55.740]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[23:07:55.740] 
[23:07:55.740] [TURN 9/10]
[23:07:55.741] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:55.824] 2025-08-20 23:07:55,824 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:55.825]   [INFO] Tool info request: file_operations_reader
[23:07:55.825] 
[23:07:55.825] [TURN 3/10]
[23:07:55.826] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:55.902] 2025-08-20 23:07:55,901 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:55.903]   [SEARCH] Query: file reader
[23:07:55.903] 
[23:07:55.903] [TURN 2/10]
[23:07:55.904] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:56.786] 2025-08-20 23:07:56,786 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:57.008]   [EARLY_EXIT] No actions taken, continuing...
[23:07:57.009] 
[23:07:57.009] [TURN 4/10]
[23:07:57.010] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:57.034] 2025-08-20 23:07:57,034 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:57.042] 2025-08-20 23:07:57,041 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:57.048]   [INFO] Tool info request: file_operations_reader
[23:07:57.048] 
[23:07:57.048] [TURN 3/10]
[23:07:57.049] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:57.265]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[23:07:57.266] 
[23:07:57.266] [TURN 10/10]
[23:07:57.266] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:57.856] 2025-08-20 23:07:57,856 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:57.857]   [EARLY_EXIT] No actions taken, continuing...
[23:07:57.857] 
[23:07:57.857] [TURN 4/10]
[23:07:57.857] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:58.034] 2025-08-20 23:07:58,034 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:58.035]   [EARLY_EXIT] No actions taken, continuing...
[23:07:58.036] 
[23:07:58.036] [TURN 5/10]
[23:07:58.041] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:58.499] 2025-08-20 23:07:58,499 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:58.500]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[23:07:58.500] [ASSISTED] Task received 5 format helps, final result: failure
[23:07:58.501] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[23:07:58.514] 2025-08-20 23:07:58,514 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[23:07:58.514] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[23:07:58.514] [InteractiveExecutor] Using prompt type: optimal for API key selection
[23:07:58.514] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[23:07:58.514] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:07:58.514] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:07:58.514] 2025-08-20 23:07:58,514 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[23:07:58.532] 2025-08-20 23:07:58,532 - mcp_embedding_manager - INFO - FAISS index loaded
[23:07:58.532] 2025-08-20 23:07:58,532 - mcp_embedding_manager - INFO - Updated dimension to 3072
[23:07:58.532] 2025-08-20 23:07:58,532 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[23:07:58.535] [INFO] Tool embedding index loaded successfully
[23:07:58.536] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[23:07:58.536] [INFO] Operation semantic index initialized
[23:07:58.536] 
[23:07:58.536] [TURN 1/10]
[23:07:58.536] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:58.905] 2025-08-20 23:07:58,905 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:58.907]   [EARLY_EXIT] No actions taken, continuing...
[23:07:58.907] 
[23:07:58.907] [TURN 5/10]
[23:07:58.909] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:58.998] 2025-08-20 23:07:58,997 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:58.998]   [EARLY_EXIT] No actions taken, continuing...
[23:07:58.998] 
[23:07:58.999] [TURN 6/10]
[23:07:58.999] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:59.838] 2025-08-20 23:07:59,836 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:59.839]   [PARSE] Fuzzy matched 'file_operations_reader[source=data/input.json]' to 'file_operations_reader'
[23:07:59.839]   [EXECUTING] file_operations_reader
[23:07:59.839]     Result: SUCCESS
[23:07:59.839] 
[23:07:59.839] [TURN 6/10]
[23:07:59.840] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:59.918] 2025-08-20 23:07:59,918 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:59.922]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[23:07:59.922] 
[23:07:59.922] [TURN 7/10]
[23:07:59.923] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:07:59.939] 2025-08-20 23:07:59,939 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:07:59.940]   [SEARCH] Query: file reader
[23:07:59.941] 
[23:07:59.941] [TURN 2/10]
[23:07:59.942] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:00.920] 2025-08-20 23:08:00,919 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:00.921] 2025-08-20 23:08:00,920 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:00.921] 
[23:08:00.921] [TURN 7/10]
[23:08:00.922]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[23:08:00.922] 
[23:08:00.922] [TURN 8/10]
[23:08:00.922] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:00.923] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:01.018] 2025-08-20 23:08:01,018 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:01.023]   [INFO] Tool info request: file_operations_reader
[23:08:01.023] 
[23:08:01.023] [TURN 3/10]
[23:08:01.024] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:02.071] 2025-08-20 23:08:02,070 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:02.072]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[23:08:02.073] 
[23:08:02.073] [TURN 9/10]
[23:08:02.073] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:02.301] 2025-08-20 23:08:02,299 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:02.301] 2025-08-20 23:08:02,301 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:02.302] 
[23:08:02.302] [TURN 8/10]
[23:08:02.303]   [EARLY_EXIT] No actions taken, continuing...
[23:08:02.303] 
[23:08:02.303] [TURN 4/10]
[23:08:02.304] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:02.305] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:03.093] 2025-08-20 23:08:03,093 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:03.252] 2025-08-20 23:08:03,252 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:03.253] 2025-08-20 23:08:03,252 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:03.254] 
[23:08:03.254] [TURN 9/10]
[23:08:03.254]   [EARLY_EXIT] No actions taken, continuing...
[23:08:03.254] 
[23:08:03.255] [TURN 5/10]
[23:08:03.255] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:03.256] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:03.319]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[23:08:03.319] 
[23:08:03.319] [TURN 10/10]
[23:08:03.320] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:03.614] 2025-08-20 23:08:03,614 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[23:08:03.617] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[23:08:03.619] [DEBUG] Got result for task: has_result=True, save_logs=True
[23:08:03.619] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[23:08:03.619] [AI_DEBUG] 生成的txt_content长度: 12969
[23:08:03.619] [AI_DEBUG] _ai_classify_with_txt_content called:
[23:08:03.619]   - use_ai_classification=True
[23:08:03.619]   - ai_classifier=True
[23:08:03.619]   - txt_content_len=12969
[23:08:03.619]   - task_model=qwen2.5-14b-instruct
[23:08:03.619] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[23:08:04.122] 2025-08-20 23:08:04,122 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:04.124]   [EARLY_EXIT] No actions taken, continuing...
[23:08:04.124] 
[23:08:04.124] [TURN 6/10]
[23:08:04.125] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:04.523] 2025-08-20 23:08:04,523 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:04.531] 
[23:08:04.531] [TURN 10/10]
[23:08:04.532] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:04.623] 2025-08-20 23:08:04,623 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:04.624]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[23:08:04.624] [ASSISTED] Task received 5 format helps, final result: failure
[23:08:04.625] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[23:08:04.633] 2025-08-20 23:08:04,633 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[23:08:04.634] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[23:08:04.634] [InteractiveExecutor] Using prompt type: optimal for API key selection
[23:08:04.634] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[23:08:04.634] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:08:04.634] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:08:04.634] 2025-08-20 23:08:04,634 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[23:08:04.653] 2025-08-20 23:08:04,653 - mcp_embedding_manager - INFO - FAISS index loaded
[23:08:04.653] 2025-08-20 23:08:04,653 - mcp_embedding_manager - INFO - Updated dimension to 3072
[23:08:04.654] 2025-08-20 23:08:04,653 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[23:08:04.656] [INFO] Tool embedding index loaded successfully
[23:08:04.657] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[23:08:04.657] [INFO] Operation semantic index initialized
[23:08:04.657] 
[23:08:04.657] [TURN 1/10]
[23:08:04.658] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:05.006] 2025-08-20 23:08:05,002 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:05.008]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[23:08:05.008] 
[23:08:05.008] [TURN 7/10]
[23:08:05.009] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:05.579] 2025-08-20 23:08:05,579 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:05.594] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[23:08:05.601] 2025-08-20 23:08:05,601 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[23:08:05.601] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[23:08:05.601] [InteractiveExecutor] Using prompt type: optimal for API key selection
[23:08:05.620] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[23:08:05.622] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:08:05.622] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:08:05.623] 2025-08-20 23:08:05,619 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[23:08:05.639] 2025-08-20 23:08:05,638 - mcp_embedding_manager - INFO - FAISS index loaded
[23:08:05.639] 2025-08-20 23:08:05,639 - mcp_embedding_manager - INFO - Updated dimension to 3072
[23:08:05.639] 2025-08-20 23:08:05,639 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[23:08:05.641] [INFO] Tool embedding index loaded successfully
[23:08:05.642] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[23:08:05.642] [INFO] Operation semantic index initialized
[23:08:05.642] 
[23:08:05.642] [TURN 1/10]
[23:08:05.642] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:05.923] 2025-08-20 23:08:05,923 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:05.924]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[23:08:05.924] 
[23:08:05.924] [TURN 8/10]
[23:08:05.924] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:06.548] 2025-08-20 23:08:06,547 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:06.548]   [SEARCH] Query: network api fetch
[23:08:06.549] 
[23:08:06.549] [TURN 2/10]
[23:08:06.549] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:06.664] 2025-08-20 23:08:06,664 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:06.664]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[23:08:06.664] 
[23:08:06.664] [TURN 9/10]
[23:08:06.664] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:07.284] 2025-08-20 23:08:07,283 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:07.284]   [SEARCH] Query: network api fetch
[23:08:07.284] 
[23:08:07.284] [TURN 2/10]
[23:08:07.284] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:07.687] 2025-08-20 23:08:07,687 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:07.688]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[23:08:07.688] 
[23:08:07.688] [TURN 10/10]
[23:08:07.688] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:07.760] 2025-08-20 23:08:07,760 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:07.761]   [INFO] Tool info request: network_fetcher
[23:08:07.761] 
[23:08:07.761] [TURN 3/10]
[23:08:07.761] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:08.271] 2025-08-20 23:08:08,271 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:08.271]   [INFO] Tool info request: network_fetcher
[23:08:08.271] 
[23:08:08.271] [TURN 3/10]
[23:08:08.272] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:08.560] 2025-08-20 23:08:08,560 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:08.561]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[23:08:08.561] [ASSISTED] Task received 5 format helps, final result: failure
[23:08:08.561] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[23:08:08.569] 2025-08-20 23:08:08,569 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[23:08:08.569] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[23:08:08.569] [InteractiveExecutor] Using prompt type: optimal for API key selection
[23:08:08.569] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[23:08:08.569] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:08:08.569] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:08:08.569] 2025-08-20 23:08:08,569 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[23:08:08.585] 2025-08-20 23:08:08,585 - mcp_embedding_manager - INFO - FAISS index loaded
[23:08:08.585] 2025-08-20 23:08:08,585 - mcp_embedding_manager - INFO - Updated dimension to 3072
[23:08:08.585] 2025-08-20 23:08:08,585 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[23:08:08.587] [INFO] Tool embedding index loaded successfully
[23:08:08.588] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[23:08:08.588] [INFO] Operation semantic index initialized
[23:08:08.588] 
[23:08:08.588] [TURN 1/10]
[23:08:08.588] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:09.094] 2025-08-20 23:08:09,094 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:09.094]   [EARLY_EXIT] No actions taken, continuing...
[23:08:09.094] 
[23:08:09.094] [TURN 4/10]
[23:08:09.095] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:09.466] 2025-08-20 23:08:09,466 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:09.467]   [EARLY_EXIT] No actions taken, continuing...
[23:08:09.467] 
[23:08:09.467] [TURN 4/10]
[23:08:09.467] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:10.081] 2025-08-20 23:08:10,081 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:10.081]   [SEARCH] Query: file reader
[23:08:10.081] 
[23:08:10.081] [TURN 2/10]
[23:08:10.082] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:10.435] 2025-08-20 23:08:10,435 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:10.436]   [EARLY_EXIT] No actions taken, continuing...
[23:08:10.436] 
[23:08:10.436] [TURN 5/10]
[23:08:10.436] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:10.459] 2025-08-20 23:08:10,459 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:10.459]   [FORMAT_ISSUE] Turn 4: Detected potential tool 'network_fetcher' in incorrect format
[23:08:10.459]   [FORMAT_ISSUE] Potential tools detected: ['network_fetcher']
[23:08:10.459] 
[23:08:10.459] [TURN 5/10]
[23:08:10.460] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:11.122] 2025-08-20 23:08:11,122 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:11.123]   [INFO] Tool info request: file_operations_reader
[23:08:11.123] 
[23:08:11.123] [TURN 3/10]
[23:08:11.123] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:11.605] 2025-08-20 23:08:11,605 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:11.606]   [FORMAT_ISSUE] Turn 5: Detected potential tool 'network_fetcher' in incorrect format
[23:08:11.606]   [FORMAT_ISSUE] Potential tools detected: ['network_fetcher']
[23:08:11.606] 
[23:08:11.606] [TURN 6/10]
[23:08:11.613] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:11.780] 2025-08-20 23:08:11,780 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:11.781]   [FORMAT_ISSUE] Turn 5: Detected potential tool 'network_fetcher' in incorrect format
[23:08:11.781]   [FORMAT_ISSUE] Potential tools detected: ['network_fetcher']
[23:08:11.781] 
[23:08:11.781] [TURN 6/10]
[23:08:11.783] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:12.112] 2025-08-20 23:08:12,112 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:12.113]   [EARLY_EXIT] No actions taken, continuing...
[23:08:12.113] 
[23:08:12.113] [TURN 4/10]
[23:08:12.113] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:12.363] 2025-08-20 23:08:12,363 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:12.368]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[23:08:12.368] 
[23:08:12.368] [TURN 7/10]
[23:08:12.368] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:13.159] 2025-08-20 23:08:13,159 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:13.159]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[23:08:13.159] 
[23:08:13.159] [TURN 7/10]
[23:08:13.160] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:13.189] 2025-08-20 23:08:13,189 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:13.190]   [EARLY_EXIT] No actions taken, continuing...
[23:08:13.190] 
[23:08:13.190] [TURN 5/10]
[23:08:13.190] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:13.522] 2025-08-20 23:08:13,522 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:13.525]   [FORMAT_ISSUE] Turn 7: Detected potential tool 'network_fetcher' in incorrect format; No tools executed after multiple turns
[23:08:13.525]   [FORMAT_ISSUE] Potential tools detected: ['network_fetcher']
[23:08:13.525] 
[23:08:13.525] [TURN 8/10]
[23:08:13.525] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:13.868] 2025-08-20 23:08:13,867 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:14.075] [ERROR] Empty message content from API
[23:08:14.075] [DEBUG] Response finish_reason: stop
[23:08:14.075] [DEBUG] Token usage - prompt: 2755, completion: 0
[23:08:14.075] [DEBUG] Model: qwen2.5-14b-instruct
[23:08:14.075] [DEBUG] Message fields: dict_keys(['content', 'refusal', 'role', 'annotations', 'audio', 'function_call', 'tool_calls'])
[23:08:14.075]   [API_FAILURE] API failed (timeout or max retries)
[23:08:14.075] [ASSISTED] Task received 3 format helps, final result: failure
[23:08:14.076] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[23:08:14.084] 2025-08-20 23:08:14,084 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[23:08:14.084] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[23:08:14.084] [InteractiveExecutor] Using prompt type: optimal for API key selection
[23:08:14.084] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[23:08:14.084] [MCPEmbeddingManager] Reusing existing singleton instance (id: 6123653312)
[23:08:14.084] [MCPEmbeddingManager] Current cache size: 30 embeddings
[23:08:14.084] 2025-08-20 23:08:14,084 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[23:08:14.105] 2025-08-20 23:08:14,105 - mcp_embedding_manager - INFO - FAISS index loaded
[23:08:14.105] 2025-08-20 23:08:14,105 - mcp_embedding_manager - INFO - Updated dimension to 3072
[23:08:14.105] 2025-08-20 23:08:14,105 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[23:08:14.108] [INFO] Tool embedding index loaded successfully
[23:08:14.109] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[23:08:14.109] [INFO] Operation semantic index initialized
[23:08:14.109] 
[23:08:14.109] [TURN 1/10]
[23:08:14.110] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:14.123] 2025-08-20 23:08:14,123 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:14.124]   [EARLY_EXIT] No actions taken, continuing...
[23:08:14.124] 
[23:08:14.124] [TURN 6/10]
[23:08:14.124] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:14.455] 2025-08-20 23:08:14,454 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:14.457]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[23:08:14.457] 
[23:08:14.457] [TURN 9/10]
[23:08:14.461] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:15.002] 2025-08-20 23:08:15,002 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:15.003]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[23:08:15.003] 
[23:08:15.003] [TURN 7/10]
[23:08:15.004] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:15.662] 2025-08-20 23:08:15,661 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:15.663] 2025-08-20 23:08:15,662 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:15.664]   [SEARCH] Query: file reader  [FORMAT_ISSUE] Turn 9: Detected potential tool 'network_fetcher' in incorrect format; No tools executed after multiple turns
[23:08:15.664]   [FORMAT_ISSUE] Potential tools detected: ['network_fetcher']
[23:08:15.664] 
[23:08:15.664] [TURN 10/10]
[23:08:15.664] 
[23:08:15.664] 
[23:08:15.664] [TURN 2/10]
[23:08:15.665] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:15.667] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:16.227] 2025-08-20 23:08:16,226 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:16.228]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[23:08:16.228] 
[23:08:16.228] [TURN 8/10]
[23:08:16.229] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:16.569] 2025-08-20 23:08:16,569 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:16.570]   [FORMAT_ISSUE] Turn 10: Detected potential tool 'network_fetcher' in incorrect format; No tools executed after multiple turns
[23:08:16.570]   [FORMAT_ISSUE] Potential tools detected: ['network_fetcher']
[23:08:16.570] [ASSISTED] Task received 6 format helps, final result: failure
[23:08:16.804] 2025-08-20 23:08:16,804 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:16.807]   [INFO] Tool info request: file_operations_reader
[23:08:16.807] 
[23:08:16.807] [TURN 3/10]
[23:08:16.808] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:17.433] 2025-08-20 23:08:17,433 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:17.748]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[23:08:17.748] 
[23:08:17.748] [TURN 9/10]
[23:08:17.748] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:17.793] 2025-08-20 23:08:17,792 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:17.794]   [EARLY_EXIT] No actions taken, continuing...
[23:08:17.794] 
[23:08:17.794] [TURN 4/10]
[23:08:17.794] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:18.730] 2025-08-20 23:08:18,730 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:18.734]   [PARSE] Fuzzy matched 'file_operations_reader[source=data/input.json]' to 'file_operations_reader'
[23:08:18.734]   [EXECUTING] file_operations_reader
[23:08:18.735]     Result: SUCCESS
[23:08:18.735] 
[23:08:18.735] [TURN 5/10]
[23:08:18.735] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:18.885] 2025-08-20 23:08:18,884 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[23:08:18.886] [AI_DEBUG] AI分类结果: category=parameter_config_errors, confidence=0.72
[23:08:18.890] [DEBUG] Got result for task: has_result=True, save_logs=True
[23:08:18.890] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[23:08:18.890] [AI_DEBUG] 生成的txt_content长度: 16527
[23:08:18.890] [AI_DEBUG] _ai_classify_with_txt_content called:
[23:08:18.890]   - use_ai_classification=True
[23:08:18.890]   - ai_classifier=True
[23:08:18.890]   - txt_content_len=16527
[23:08:18.890]   - task_model=qwen2.5-14b-instruct
[23:08:18.890] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[23:08:18.891] 2025-08-20 23:08:18,891 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:18.892]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[23:08:18.892] 
[23:08:18.892] [TURN 10/10]
[23:08:18.892] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:19.798] 2025-08-20 23:08:19,798 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:19.802] 
[23:08:19.802] [TURN 6/10]
[23:08:19.803] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:19.833] 2025-08-20 23:08:19,833 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:19.834]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[23:08:19.834] [ASSISTED] Task received 5 format helps, final result: failure
[23:08:20.757] 2025-08-20 23:08:20,757 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:20.762] 
[23:08:20.762] [TURN 7/10]
[23:08:20.763] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:21.690] 2025-08-20 23:08:21,690 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:21.693] 
[23:08:21.693] [TURN 8/10]
[23:08:21.694] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:22.587] 2025-08-20 23:08:22,586 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:22.588] 
[23:08:22.588] [TURN 9/10]
[23:08:22.589] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:23.737] 2025-08-20 23:08:23,736 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:23.752] 
[23:08:23.752] [TURN 10/10]
[23:08:23.753] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[23:08:25.009] 2025-08-20 23:08:25,005 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[23:08:25.010] [DEBUG RAG] data_processing_parser semantically matched with file_operations_reader (score: 0.622)
[23:08:25.011] [DEBUG RAG] file_operations_writer semantically matched with file_operations_reader (score: 0.678)
[23:08:29.018] 2025-08-20 23:08:29,018 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[23:08:29.018] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.77
[23:08:29.020] [DEBUG] Got result for task: has_result=True, save_logs=True
[23:08:29.020] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[23:08:29.020] [AI_DEBUG] 生成的txt_content长度: 15867
[23:08:29.020] [AI_DEBUG] _ai_classify_with_txt_content called:
[23:08:29.020]   - use_ai_classification=True
[23:08:29.020]   - ai_classifier=True
[23:08:29.020]   - txt_content_len=15867
[23:08:29.020]   - task_model=qwen2.5-14b-instruct
[23:08:29.020] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[23:08:42.179] 2025-08-20 23:08:42,176 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[23:08:42.181] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[23:08:42.183] [DEBUG] Got result for task: has_result=True, save_logs=True
[23:08:42.183] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[23:08:42.183] [AI_DEBUG] 生成的txt_content长度: 12714
[23:08:42.183] [AI_DEBUG] _ai_classify_with_txt_content called:
[23:08:42.183]   - use_ai_classification=True
[23:08:42.183]   - ai_classifier=True
[23:08:42.183]   - txt_content_len=12714
[23:08:42.183]   - task_model=qwen2.5-14b-instruct
[23:08:42.183] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[23:08:58.196] 2025-08-20 23:08:58,196 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[23:08:58.198] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.78
[23:08:58.200] [DEBUG] Got result for task: has_result=True, save_logs=True
[23:08:58.200] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[23:08:58.200] [AI_DEBUG] 生成的txt_content长度: 16129
[23:08:58.200] [AI_DEBUG] _ai_classify_with_txt_content called:
[23:08:58.200]   - use_ai_classification=True
[23:08:58.200]   - ai_classifier=True
[23:08:58.200]   - txt_content_len=16129
[23:08:58.200]   - task_model=qwen2.5-14b-instruct
[23:08:58.200] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[23:09:05.971] 2025-08-20 23:09:05,971 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[23:09:05.972] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[23:09:05.975] [DEBUG] Got result for task: has_result=True, save_logs=True
[23:09:05.975] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[23:09:05.976] [AI_DEBUG] 生成的txt_content长度: 13655
[23:09:05.976] [AI_DEBUG] _ai_classify_with_txt_content called:
[23:09:05.976]   - use_ai_classification=True
[23:09:05.976]   - ai_classifier=True
[23:09:05.976]   - txt_content_len=13655
[23:09:05.976]   - task_model=qwen2.5-14b-instruct
[23:09:05.976] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[23:09:34.453] 2025-08-20 23:09:34,453 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[23:09:34.454] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[23:09:34.456] [DEBUG] Got result for task: has_result=True, save_logs=True
[23:09:34.456] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[23:09:34.456] [AI_DEBUG] 生成的txt_content长度: 17216
[23:09:34.456] [AI_DEBUG] _ai_classify_with_txt_content called:
[23:09:34.456]   - use_ai_classification=True
[23:09:34.456]   - ai_classifier=True
[23:09:34.456]   - txt_content_len=17216
[23:09:34.456]   - task_model=qwen2.5-14b-instruct
[23:09:34.456] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[23:09:42.088] 2025-08-20 23:09:42,088 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[23:09:42.089] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[23:09:42.091] [DEBUG] Got result for task: has_result=True, save_logs=True
[23:09:42.091] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[23:09:42.091] [AI_DEBUG] 生成的txt_content长度: 16349
[23:09:42.091] [AI_DEBUG] _ai_classify_with_txt_content called:
[23:09:42.091]   - use_ai_classification=True
[23:09:42.091]   - ai_classifier=True
[23:09:42.091]   - txt_content_len=16349
[23:09:42.091]   - task_model=qwen2.5-14b-instruct
[23:09:42.091] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
