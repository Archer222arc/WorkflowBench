===== 分片 qwen2.5-14b-instruct_easy_key0 =====
时间: 2025-08-20T15:04:00.819852
模型: qwen2.5-14b-instruct
实例: qwen-key0
命令: python -u smart_batch_runner.py --model qwen2.5-14b-instruct --deployment qwen-key0 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[15:04:03.047] 2025-08-20 15:04:03,047 - faiss.loader - INFO - Loading faiss.
[15:04:03.084] 2025-08-20 15:04:03,084 - faiss.loader - INFO - Successfully loaded faiss.
[15:04:04.533] [INFO] 使用Parquet存储格式
[15:04:05.032] [INFO] 使用Parquet存储格式
[15:04:05.034] [INFO] 使用PARQUET存储格式
[15:04:05.035] 
[15:04:05.035] ============================================================
[15:04:05.035] 智能批测试: qwen2.5-14b-instruct (idealab)
[15:04:05.035] Prompt types: ['optimal']
[15:04:05.035] 难度: easy
[15:04:05.035] 目标: 每种配置 2 个实例
[15:04:05.035] ============================================================
[15:04:05.101] ○ simple_task         :   1/  2 已完成 (需要补充 1 个)
[15:04:05.108] ○ basic_task          :   1/  2 已完成 (需要补充 1 个)
[15:04:05.116] ○ data_pipeline       :   1/  2 已完成 (需要补充 1 个)
[15:04:05.124] ○ api_integration     :   1/  2 已完成 (需要补充 1 个)
[15:04:05.135] ○ multi_stage_pipeline:   1/  2 已完成 (需要补充 1 个)
[15:04:05.135] 
[15:04:05.135] ⏳ 需要运行 5 个新测试
[15:04:05.135] 
[15:04:05.135] ▶ 准备 simple_task (1 个实例)...
[15:04:05.135] 
[15:04:05.135] ▶ 准备 basic_task (1 个实例)...
[15:04:05.135] 
[15:04:05.135] ▶ 准备 data_pipeline (1 个实例)...
[15:04:05.135] 
[15:04:05.135] ▶ 准备 api_integration (1 个实例)...
[15:04:05.135] 
[15:04:05.135] ▶ 准备 multi_stage_pipeline (1 个实例)...
[15:04:05.135] 
[15:04:05.135] ▶ 开始执行 5 个测试...
[15:04:05.135] 📦 批量提交模式：每20个测试保存一次
[15:04:05.135] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[15:04:05.137] 2025-08-20 15:04:05,137 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[15:04:05.278] 2025-08-20 15:04:05,278 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[15:04:05.278] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x17bf21ac0>
[15:04:05.278] 2025-08-20 15:04:05,278 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[15:04:05.278] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[15:04:05.282] 2025-08-20 15:04:05,282 - batch_test_runner - INFO - ============================================================
[15:04:05.282] 2025-08-20 15:04:05,282 - batch_test_runner - INFO - Batch test runner initialized
[15:04:05.282] 2025-08-20 15:04:05,282 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[15:04:05.282] 2025-08-20 15:04:05,282 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_150405.log
[15:04:05.282] 2025-08-20 15:04:05,282 - batch_test_runner - INFO - ============================================================
[15:04:05.282] 2025-08-20 15:04:05,282 - batch_test_runner - INFO - Running 5 tests with 3 workers, QPS limit: 5.0
[15:04:05.282] 2025-08-20 15:04:05,282 - batch_test_runner - INFO - Initializing test components...
[15:04:05.595] 2025-08-20 15:04:05,594 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[15:04:05.595] 2025-08-20 15:04:05,595 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[15:04:05.595] 2025-08-20 15:04:05,595 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[15:04:05.595] [DEBUG] Creating new ToolCapabilityManager instance
[15:04:05.595] [OperationEmbeddingIndex] Initializing with unified API client manager
[15:04:05.595] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[15:04:05.595] 2025-08-20 15:04:05,595 - api_client_manager - INFO - Loaded configuration from config/config.json
[15:04:05.601] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[15:04:05.601] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[15:04:05.601] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[15:04:06.455] 2025-08-20 15:04:06,455 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[15:04:06.457] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[15:04:06.497] [INFO] Loaded 4150 embeddings from persistent cache
[15:04:06.497] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[15:04:06.499] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[15:04:06.499] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[15:04:06.499] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[15:04:06.505] [INFO] Successfully loaded FAISS index with dimension 3072
[15:04:06.505] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[15:04:06.505] [INFO] Loaded 15 operations with dimension 3072
[15:04:06.505] [INFO] Successfully loaded cached index
[15:04:06.505] [INFO] Operation semantic index initialized
[15:04:06.505] [INFO] Using device: cpu
[15:04:06.506] [INFO] Initialized tool success tracking attributes
[15:04:06.506] [INFO] Initializing embedding manager for enhanced tool selection
[15:04:06.506] [MCPEmbeddingManager] Creating new singleton instance
[15:04:06.506] [MCPEmbeddingManager] Initializing with unified API client manager
[15:04:06.524] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[15:04:06.524] [MCPEmbeddingManager] Client initialized successfully
[15:04:06.524] 2025-08-20 15:04:06,524 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[15:04:06.685] 2025-08-20 15:04:06,685 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[15:04:06.921] 2025-08-20 15:04:06,921 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[15:04:06.921] 2025-08-20 15:04:06,921 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[15:04:06.944] 2025-08-20 15:04:06,944 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[15:04:07.018] 2025-08-20 15:04:07,018 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[15:04:07.391] 2025-08-20 15:04:07,391 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[15:04:07.391] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[15:04:07.391] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[15:04:07.392] 2025-08-20 15:04:07,391 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:04:07.747] 2025-08-20 15:04:07,747 - mcp_embedding_manager - INFO - FAISS index loaded
[15:04:07.747] 2025-08-20 15:04:07,747 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:04:07.747] 2025-08-20 15:04:07,747 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:04:07.749] [SUCCESS] Loaded 30 tool embeddings
[15:04:07.750] 2025-08-20 15:04:07,749 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[15:04:07.750] [SUCCESS] Embedding manager initialized with 30 tools
[15:04:07.750] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[15:04:07.750] [INFO] Loading full MCP protocol registry...
[15:04:07.753] 2025-08-20 15:04:07,753 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:04:07.753] [INFO] Loaded full tool registry with 30 tools
[15:04:07.753] 2025-08-20 15:04:07,753 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[15:04:07.753] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[15:04:07.753] [INFO] Embedding manager ready with 30 tools
[15:04:07.753] [WARNING] Embedding manager exists but has no embeddings
[15:04:07.754] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[15:04:07.755] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[15:04:07.755] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[15:04:07.755] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:04:07.755] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[15:04:07.755] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[15:04:07.755] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:04:07.755] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:04:07.755] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:04:07.755] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:04:07.755] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[15:04:07.755] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:04:07.755] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[15:04:07.755] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[15:04:07.755] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[15:04:07.755] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[15:04:07.755] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:04:07.756] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:04:07.756] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[15:04:07.756] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[15:04:07.756] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[15:04:07.756] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[15:04:07.756] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[15:04:07.756] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[15:04:07.756] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[15:04:07.756] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[15:04:07.756] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[15:04:07.756] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[15:04:07.756] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[15:04:07.756] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[15:04:07.756] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[15:04:07.756] 2025-08-20 15:04:07,756 - mdp_workflow_generator - INFO - Loaded 30 tools
[15:04:07.756] [INFO] Setting default state_dim based on loaded tools
[15:04:07.756] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[15:04:07.756] 2025-08-20 15:04:07,756 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[15:04:07.756] [INFO] Setting default action_dim based on loaded tools
[15:04:07.756] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[15:04:07.756] 2025-08-20 15:04:07,756 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[15:04:07.756] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[15:04:07.756] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[15:04:07.756] [INFO] ⚡ Will use pre-generated workflows or random policy
[15:04:07.756] 2025-08-20 15:04:07,756 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[15:04:07.756] [INFO] Initializing TaskManager...
[15:04:08.969] 2025-08-20 15:04:08,969 - unified_training_manager - INFO - Using device: cpu
[15:04:09.087] 2025-08-20 15:04:09,087 - unified_training_manager - INFO - Task filtering results:
[15:04:09.088] 2025-08-20 15:04:09,087 - unified_training_manager - INFO -   Total: 5040 -> 5040
[15:04:09.088] 2025-08-20 15:04:09,087 - unified_training_manager - INFO -   simple_task: 320 -> 320
[15:04:09.088] 2025-08-20 15:04:09,087 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[15:04:09.088] 2025-08-20 15:04:09,087 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[15:04:09.088] 2025-08-20 15:04:09,087 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[15:04:09.088] 2025-08-20 15:04:09,087 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[15:04:09.088] 2025-08-20 15:04:09,087 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[15:04:09.090] 2025-08-20 15:04:09,089 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[15:04:09.090] [TaskManager] Difficulty level 'easy': 1096 tasks
[15:04:09.090] [TaskManager] Difficulty level 'very_easy': 856 tasks
[15:04:09.090] [TaskManager] Difficulty level 'medium': 1136 tasks
[15:04:09.090] [TaskManager] Difficulty level 'hard': 1096 tasks
[15:04:09.090] [TaskManager] Difficulty level 'very_hard': 856 tasks
[15:04:09.091] [INFO] TaskManager initialized with 5040 tasks
[15:04:09.091] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[15:04:09.091] [INFO] Initializing ToolCallVerifier...
[15:04:09.092] [INFO] ToolCallVerifier initialized with 30 tools
[15:04:09.092] [INFO] Output tools identified: 1
[15:04:09.092] [INFO] Component initialization status:
[15:04:09.092]   - embedding_manager: initialized
[15:04:09.092]   - task_manager: initialized
[15:04:09.092]   - output_verifier: initialized
[15:04:09.092]   - tool_capability_manager: initialized
[15:04:09.092]   - tool_success_rates: initialized with 0 entries
[15:04:09.092] [INFO] MDPWorkflowGenerator initialization complete
[15:04:09.092] 2025-08-20 15:04:09,092 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[15:04:09.092] 2025-08-20 15:04:09,092 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[15:04:09.092] 2025-08-20 15:04:09,092 - batch_test_runner - INFO -   - task_manager: ✓
[15:04:09.092] 2025-08-20 15:04:09,092 - batch_test_runner - INFO -   - output_verifier: ✓
[15:04:09.092] 2025-08-20 15:04:09,092 - batch_test_runner - INFO -   - embedding_manager: ✓
[15:04:09.092] 2025-08-20 15:04:09,092 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[15:04:09.092] 2025-08-20 15:04:09,092 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[15:04:09.092] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13230654000)
[15:04:09.092] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:04:09.092] [FlawedWorkflowGenerator] Initialized with 30 tools
[15:04:09.092] [FlawedWorkflowGenerator] RAG support: disabled
[15:04:09.096] DEBUG: Checking generator attributes
[15:04:09.096]   - has tool_capabilities: True
[15:04:09.096]   - has tool_capability_manager: True
[15:04:09.096]   - has task_manager: True
[15:04:09.096] [INFO] Loaded 30 tools from generator
[15:04:09.096] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[15:04:09.096] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13230654000)
[15:04:09.096] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:04:09.096] [INFO] Initializing LLM client using APIClientManager
[15:04:09.103] [INFO] Using Azure OpenAI client
[15:04:09.103] [DEBUG] Checking if generator has tool_capability_manager attribute
[15:04:09.103] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[15:04:09.103] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13230654000)
[15:04:09.103] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:04:09.103] [FlawedWorkflowGenerator] Initialized with 30 tools
[15:04:09.103] [FlawedWorkflowGenerator] RAG support: enabled
[15:04:09.103] [INFO] FlawedWorkflowGenerator initialized successfully
[15:04:09.103] [INFO] Initializing StableScorer for Phase 2 scoring
[15:04:09.103] <tool_capability_manager.ToolCapabilityManager object at 0x3144c7080>
[15:04:09.103] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13230654000)
[15:04:09.103] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:04:09.103] [INFO] Loaded tool success history for 0 tools
[15:04:09.103] [INFO] StableScorer initialized with semantic capability
[15:04:09.103] [INFO] StableScorer initialized successfully
[15:04:09.103] [INFO] Loading task instances...
[15:04:09.103] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[15:04:09.110] [INFO] Loaded 630 task instances
[15:04:09.110] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[15:04:09.110] 2025-08-20 15:04:09,110 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[15:04:09.110] 2025-08-20 15:04:09,110 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[15:04:09.434] 2025-08-20 15:04:09,434 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[15:04:09.434] 2025-08-20 15:04:09,434 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[15:04:09.450] 2025-08-20 15:04:09,450 - batch_test_runner - INFO - Initialization complete
[15:04:09.476] 2025-08-20 15:04:09,476 - batch_test_runner - INFO - Starting batch test with 5 tasks, 3 workers
[15:04:09.476] 2025-08-20 15:04:09,476 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[15:04:09.476] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:04:09.477] 2025-08-20 15:04:09,477 - smart_model_router - INFO - Using idealab for qwen2.5-14b-instruct
[15:04:09.483] 2025-08-20 15:04:09,483 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[15:04:09.483] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[15:04:09.483] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:04:09.483] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[15:04:09.484] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13230654000)
[15:04:09.484] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:04:09.484] 2025-08-20 15:04:09,484 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:04:09.762] 2025-08-20 15:04:09,762 - mcp_embedding_manager - INFO - FAISS index loaded
[15:04:09.762] 2025-08-20 15:04:09,762 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:04:09.762] 2025-08-20 15:04:09,762 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:04:09.764] [INFO] Tool embedding index loaded successfully
[15:04:09.765] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:04:09.765] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:04:09.766] [INFO] Operation semantic index initialized
[15:04:09.766] 
[15:04:09.766] [TURN 1/10]
[15:04:09.766] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:09.773] 2025-08-20 15:04:09,773 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[15:04:09.773] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[15:04:09.773] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:04:09.781] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[15:04:09.781] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13230654000)
[15:04:09.781] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:04:09.781] 2025-08-20 15:04:09,781 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:04:09.798] 2025-08-20 15:04:09,798 - mcp_embedding_manager - INFO - FAISS index loaded
[15:04:09.798] 2025-08-20 15:04:09,798 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:04:09.798] 2025-08-20 15:04:09,798 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:04:09.800] [INFO] Tool embedding index loaded successfully
[15:04:09.801] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:04:09.801] [INFO] Operation semantic index initialized
[15:04:09.801] 
[15:04:09.801] [TURN 1/10]
[15:04:09.804] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:09.955] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:04:09.966] 2025-08-20 15:04:09,966 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[15:04:09.966] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[15:04:09.966] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:04:09.966] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[15:04:09.966] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13230654000)
[15:04:09.966] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:04:09.966] 2025-08-20 15:04:09,966 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:04:09.991] 2025-08-20 15:04:09,991 - mcp_embedding_manager - INFO - FAISS index loaded
[15:04:09.991] 2025-08-20 15:04:09,991 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:04:09.991] 2025-08-20 15:04:09,991 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:04:09.994] [INFO] Tool embedding index loaded successfully
[15:04:09.995] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:04:09.995] [INFO] Operation semantic index initialized
[15:04:09.995] 
[15:04:09.995] [TURN 1/10]
[15:04:09.996] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:11.180] 2025-08-20 15:04:11,179 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:11.186]   [SEARCH] Query: file reader
[15:04:11.186] 
[15:04:11.186] [TURN 2/10]
[15:04:11.192] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:11.195] 2025-08-20 15:04:11,195 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:11.195]   [SEARCH] Query: data validation schema
[15:04:11.196] 
[15:04:11.196] [TURN 2/10]
[15:04:11.198] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:11.353] 2025-08-20 15:04:11,352 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:11.354]   [SEARCH] Query: file reader
[15:04:11.354] 
[15:04:11.354] [TURN 2/10]
[15:04:11.356] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:12.265] 2025-08-20 15:04:12,265 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:12.266]   [INFO] Tool info request: file_operations_reader
[15:04:12.266] 
[15:04:12.266] [TURN 3/10]
[15:04:12.267] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:12.442] 2025-08-20 15:04:12,441 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:12.443]   [INFO] Tool info request: data_processing_validator
[15:04:12.443] 
[15:04:12.443] [TURN 3/10]
[15:04:12.444] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:12.472] 2025-08-20 15:04:12,472 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:12.475]   [INFO] Tool info request: file_operations_reader
[15:04:12.475] 
[15:04:12.475] [TURN 3/10]
[15:04:12.478] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:13.320] 2025-08-20 15:04:13,320 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:13.321]   [EARLY_EXIT] No actions taken, continuing...
[15:04:13.321] 
[15:04:13.321] [TURN 4/10]
[15:04:13.323] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:13.373] 2025-08-20 15:04:13,372 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:13.374]   [PARSE] Fuzzy matched 'file_operations_reader[source="data/input.json"]' to 'file_operations_reader'
[15:04:13.374]   [EXECUTING] file_operations_reader
[15:04:13.374]     Result: SUCCESS
[15:04:13.374] 
[15:04:13.374] [TURN 4/10]
[15:04:13.383] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:13.476] 2025-08-20 15:04:13,476 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:13.477]   [INFO] Tool info request: data_processing_parser
[15:04:13.477] 
[15:04:13.477] [TURN 4/10]
[15:04:13.478] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:14.138] 2025-08-20 15:04:14,138 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:14.143]   [EARLY_EXIT] No actions taken, continuing...
[15:04:14.143] 
[15:04:14.143] [TURN 5/10]
[15:04:14.144] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:14.439] 2025-08-20 15:04:14,436 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:14.440]   [EARLY_EXIT] No actions taken, continuing...
[15:04:14.440] 
[15:04:14.440] [TURN 5/10]
[15:04:14.443] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:14.548] 2025-08-20 15:04:14,545 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:14.552]   [PARSE] Fuzzy matched 'data_processing_transformer[source="data/input.json", destination="data/output.json", format="json"]' to 'data_processing_transformer'
[15:04:14.552]   [EXECUTING] data_processing_transformer
[15:04:14.552]     [DEPENDENCY] Missing: data_processing_parser, success rate reduced
[15:04:14.552]     Result: SUCCESS
[15:04:14.552] 
[15:04:14.552] [TURN 5/10]
[15:04:14.556] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:15.007] 2025-08-20 15:04:15,006 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:15.008]   [EARLY_EXIT] No actions taken, continuing...
[15:04:15.008] 
[15:04:15.008] [TURN 6/10]
[15:04:15.009] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:15.223] 2025-08-20 15:04:15,222 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:15.224]   [EARLY_EXIT] No actions taken, continuing...
[15:04:15.224] 
[15:04:15.224] [TURN 6/10]
[15:04:15.225] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:15.617] 2025-08-20 15:04:15,617 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:15.618]   [PARSE] Fuzzy matched 'data_processing_validator[source="data/output.json", format="json"]' to 'data_processing_validator'
[15:04:15.618]   [EXECUTING] data_processing_validator
[15:04:15.618]     [DEPENDENCY] Missing: data_processing_parser, success rate reduced
[15:04:15.618]     Result: SUCCESS
[15:04:15.618] 
[15:04:15.618] [TURN 6/10]
[15:04:15.619] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:15.851] 2025-08-20 15:04:15,850 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:15.855]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[15:04:15.855] 
[15:04:15.855] [TURN 7/10]
[15:04:15.861] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:16.066] 2025-08-20 15:04:16,065 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:16.068]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[15:04:16.068] 
[15:04:16.068] [TURN 7/10]
[15:04:16.086] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:16.639] 2025-08-20 15:04:16,638 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:16.640]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[15:04:16.640] 
[15:04:16.640] [TURN 8/10]
[15:04:16.642] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:16.937] 2025-08-20 15:04:16,937 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:16.938]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[15:04:16.938] 
[15:04:16.938] [TURN 8/10]
[15:04:16.939] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:17.498] 2025-08-20 15:04:17,498 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:17.500]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[15:04:17.500] 
[15:04:17.500] [TURN 9/10]
[15:04:17.502] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:17.676] 2025-08-20 15:04:17,676 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:17.678]   [FORMAT_ISSUE] Turn 6: Detected potential tool 'y' in incorrect format; Detected potential tool 'd' in incorrect format
[15:04:17.678]   [FORMAT_ISSUE] Potential tools detected: ['y', 'd']
[15:04:17.678] 
[15:04:17.678] [TURN 7/10]
[15:04:17.679] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:17.744] 2025-08-20 15:04:17,744 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:17.745]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[15:04:17.746] 
[15:04:17.746] [TURN 9/10]
[15:04:17.747] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:18.415] 2025-08-20 15:04:18,414 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:18.417]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[15:04:18.417] 
[15:04:18.417] [TURN 10/10]
[15:04:18.418] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:18.886] 2025-08-20 15:04:18,886 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:18.887]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[15:04:18.887] 
[15:04:18.887] [TURN 10/10]
[15:04:18.887] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:19.142] 2025-08-20 15:04:19,141 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:19.144]   [PARSE] Fuzzy matched 'file_operations_reader[source="data/input.json"]' to 'file_operations_reader'
[15:04:19.144]   [EXECUTING] file_operations_reader
[15:04:19.144]     Result: SUCCESS
[15:04:19.144] 
[15:04:19.144] [TURN 8/10]
[15:04:19.145] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:19.259] 2025-08-20 15:04:19,258 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:19.261]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[15:04:19.261] [ASSISTED] Task received 5 format helps, final result: failure
[15:04:19.263] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:04:19.263] [AI_DEBUG] 测试失败，准备调用AI分类
[15:04:19.263] [AI_DEBUG] 生成的txt_content长度: 15812
[15:04:19.263] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:04:19.263]   - use_ai_classification=True
[15:04:19.263]   - ai_classifier=True
[15:04:19.263]   - txt_content_len=15812
[15:04:19.263]   - task_model=qwen2.5-14b-instruct
[15:04:19.263] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:04:19.264] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:04:19.294] 2025-08-20 15:04:19,294 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[15:04:19.294] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[15:04:19.294] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:04:19.294] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[15:04:19.294] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13230654000)
[15:04:19.294] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:04:19.294] 2025-08-20 15:04:19,294 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:04:19.326] 2025-08-20 15:04:19,326 - mcp_embedding_manager - INFO - FAISS index loaded
[15:04:19.326] 2025-08-20 15:04:19,326 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:04:19.326] 2025-08-20 15:04:19,326 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:04:19.329] [INFO] Tool embedding index loaded successfully
[15:04:19.329] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:04:19.329] [INFO] Operation semantic index initialized
[15:04:19.330] 
[15:04:19.330] [TURN 1/10]
[15:04:19.330] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:19.683] 2025-08-20 15:04:19,683 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:19.684]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[15:04:19.684] [ASSISTED] Task received 5 format helps, final result: failure
[15:04:19.686] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:04:19.686] [AI_DEBUG] 测试失败，准备调用AI分类
[15:04:19.686] [AI_DEBUG] 生成的txt_content长度: 16723
[15:04:19.686] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:04:19.686]   - use_ai_classification=True
[15:04:19.686]   - ai_classifier=True
[15:04:19.686]   - txt_content_len=16723
[15:04:19.686]   - task_model=qwen2.5-14b-instruct
[15:04:19.686] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:04:19.686] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[15:04:19.694] 2025-08-20 15:04:19,693 - api_client_manager - INFO - Created idealab client for model qwen2.5-14b-instruct
[15:04:19.694] [InteractiveExecutor] Initialized client with model: qwen2.5-14b-instruct
[15:04:19.694] [InteractiveExecutor] Using prompt type: optimal for API key selection
[15:04:19.696] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[15:04:19.696] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13230654000)
[15:04:19.696] [MCPEmbeddingManager] Current cache size: 30 embeddings
[15:04:19.696] 2025-08-20 15:04:19,696 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[15:04:19.718] 2025-08-20 15:04:19,718 - mcp_embedding_manager - INFO - FAISS index loaded
[15:04:19.718] 2025-08-20 15:04:19,718 - mcp_embedding_manager - INFO - Updated dimension to 3072
[15:04:19.718] 2025-08-20 15:04:19,718 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[15:04:19.721] [INFO] Tool embedding index loaded successfully
[15:04:19.723] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[15:04:19.723] [INFO] Operation semantic index initialized
[15:04:19.723] 
[15:04:19.723] [TURN 1/10]
[15:04:19.723] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:20.418] 2025-08-20 15:04:20,416 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:20.419]   [PARSE] Fuzzy matched 'data_processing_transformer[source="data/input.json", destination="data/output.json", format="json"]' to 'data_processing_transformer'
[15:04:20.419]   [EXECUTING] data_processing_transformer
[15:04:20.419]     [DEPENDENCY] Missing: data_processing_parser, success rate reduced
[15:04:20.420]     Result: FAILED - TIMEOUT: Operation timed out (after 21 seconds)
[15:04:20.420] 
[15:04:20.420] [TURN 9/10]
[15:04:20.433] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:20.647] 2025-08-20 15:04:20,647 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:20.648]   [SEARCH] Query: network api fetch
[15:04:20.648] 
[15:04:20.648] [TURN 2/10]
[15:04:20.648] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:21.056] 2025-08-20 15:04:21,055 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:21.058]   [SEARCH] Query: file reader
[15:04:21.058] 
[15:04:21.058] [TURN 2/10]
[15:04:21.060] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:21.686] 2025-08-20 15:04:21,681 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:21.686]   [INFO] Tool info request: network_fetcher
[15:04:21.686] 
[15:04:21.686] [TURN 3/10]
[15:04:21.691] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:21.928] 2025-08-20 15:04:21,928 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:21.931] 
[15:04:21.931] [TURN 10/10]
[15:04:21.932] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:22.059] 2025-08-20 15:04:22,057 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:22.060]   [INFO] Tool info request: file_operations_reader
[15:04:22.060] 
[15:04:22.060] [TURN 3/10]
[15:04:22.061] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:22.885] 2025-08-20 15:04:22,884 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:22.886]   [EARLY_EXIT] No actions taken, continuing...
[15:04:22.886] 
[15:04:22.886] [TURN 4/10]
[15:04:22.887] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:22.930] 2025-08-20 15:04:22,929 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:22.932]   [PARSE] Fuzzy matched 'file_operations_reader[source=data/input.json]' to 'file_operations_reader'
[15:04:22.932]   [EXECUTING] file_operations_reader
[15:04:22.933]     Result: SUCCESS
[15:04:22.933] 
[15:04:22.933] [TURN 4/10]
[15:04:22.938] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:23.891] 2025-08-20 15:04:23,891 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:23.893] 
[15:04:23.893] [TURN 5/10]
[15:04:23.895] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:23.936] 2025-08-20 15:04:23,935 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:23.937]   [EARLY_EXIT] No actions taken, continuing...
[15:04:23.937] 
[15:04:23.937] [TURN 5/10]
[15:04:23.942] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:24.107] 2025-08-20 15:04:24,106 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:24.108]   [INFO] Tool info request: data_processing_transformer
[15:04:24.109] [ASSISTED] Task received 1 format helps, final result: full_success
[15:04:24.109] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:04:24.741] 2025-08-20 15:04:24,741 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:24.743] 
[15:04:24.743] [TURN 6/10]
[15:04:24.744] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:25.090] 2025-08-20 15:04:25,089 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:25.091]   [EARLY_EXIT] No actions taken, continuing...
[15:04:25.091] 
[15:04:25.091] [TURN 6/10]
[15:04:25.092] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:25.649] 2025-08-20 15:04:25,649 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:25.650] 
[15:04:25.650] [TURN 7/10]
[15:04:25.650] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:26.344] 2025-08-20 15:04:26,344 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:26.346]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[15:04:26.346] 
[15:04:26.346] [TURN 7/10]
[15:04:26.347] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:26.443] 2025-08-20 15:04:26,443 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:26.444] 
[15:04:26.444] [TURN 8/10]
[15:04:26.445] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:27.272] 2025-08-20 15:04:27,271 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:27.274] 
[15:04:27.275] [TURN 9/10]
[15:04:27.286] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:27.575] 2025-08-20 15:04:27,574 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:27.576]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[15:04:27.576] 
[15:04:27.576] [TURN 8/10]
[15:04:27.577] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:28.261] 2025-08-20 15:04:28,261 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:28.262] 
[15:04:28.262] [TURN 10/10]
[15:04:28.263] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:28.337] 2025-08-20 15:04:28,337 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:28.342]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[15:04:28.342] 
[15:04:28.342] [TURN 9/10]
[15:04:28.346] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[15:04:29.064] 2025-08-20 15:04:29,064 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:29.065] [ERROR] Empty message content from API
[15:04:29.065] [DEBUG] Response finish_reason: stop
[15:04:29.065] [DEBUG] Token usage - prompt: 2765, completion: 0
[15:04:29.065] [DEBUG] Model: qwen2.5-14b-instruct
[15:04:29.065] [DEBUG] Message fields: dict_keys(['content', 'refusal', 'role', 'annotations', 'audio', 'function_call', 'tool_calls'])
[15:04:29.066]   [API_FAILURE] API failed (timeout or max retries)
[15:04:29.066] [ASSISTED] Task received 3 format helps, final result: failure
[15:04:29.067] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:04:29.067] [AI_DEBUG] 测试失败，准备调用AI分类
[15:04:29.068] [AI_DEBUG] 生成的txt_content长度: 14193
[15:04:29.068] [AI_DEBUG] _ai_classify_with_txt_content called:
[15:04:29.068]   - use_ai_classification=True
[15:04:29.068]   - ai_classifier=True
[15:04:29.068]   - txt_content_len=14193
[15:04:29.068]   - task_model=qwen2.5-14b-instruct
[15:04:29.068] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[15:04:29.201] 2025-08-20 15:04:29,200 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[15:04:29.202] [DEBUG] Got result for task: has_result=True, save_logs=True
[15:04:29.204] 
[15:04:29.204] [INFO] Batch writing 5 records to database (qwen2.5-14b-instruct:5)
[15:04:29.204] 2025-08-20 15:04:29,204 - batch_test_runner - INFO - Batch writing 5 records to database (qwen2.5-14b-instruct:5)
[15:04:29.204] [ERROR] add_test_result_with_classification失败: 'ParquetCumulativeManager' object has no attribute '_classify_error_message'
[15:04:29.207] Traceback (most recent call last):
[15:04:29.207]   File "/Users/ruichengao/WorkflowBench/scale_up/scale_up/parquet_cumulative_manager.py", line 380, in add_test_result_with_classification
[15:04:29.207]     error_type = self._classify_error_message(record.error_message)
[15:04:29.207]                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[15:04:29.207] AttributeError: 'ParquetCumulativeManager' object has no attribute '_classify_error_message'
[15:04:29.207] [INFO] Successfully wrote 5/5 records (qwen2.5-14b-instruct:5)
[15:04:29.207] 2025-08-20 15:04:29,207 - batch_test_runner - INFO - Successfully wrote 5/5 records (qwen2.5-14b-instruct:5)
[15:04:29.208] [INFO] 数据已同步到Parquet存储
[15:04:29.208] 2025-08-20 15:04:29,208 - batch_test_runner - INFO - Database saved successfully
[15:04:29.208] 2025-08-20 15:04:29,208 - batch_test_runner - INFO - ============================================================
[15:04:29.208] 2025-08-20 15:04:29,208 - batch_test_runner - INFO - Batch test completed at 2025-08-20T15:04:29.208580
[15:04:29.208] 2025-08-20 15:04:29,208 - batch_test_runner - INFO - Summary:
[15:04:29.208] 2025-08-20 15:04:29,208 - batch_test_runner - INFO -   - Total tests: 5
[15:04:29.208] 2025-08-20 15:04:29,208 - batch_test_runner - INFO -   - Successful: 2
[15:04:29.208] 2025-08-20 15:04:29,208 - batch_test_runner - INFO -   - Failed: 3
[15:04:29.208] 2025-08-20 15:04:29,208 - batch_test_runner - INFO -   - Success rate: 40.0%
[15:04:29.208] 2025-08-20 15:04:29,208 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250820_150405.log
[15:04:29.208] 2025-08-20 15:04:29,208 - batch_test_runner - INFO - ============================================================
[15:04:29.209] 
[15:04:29.209] ✅ 批测试完成
[15:04:29.209]    成功: 2/5
[15:04:29.209]    失败: 3/5
[15:04:29.209] 
[15:04:29.209] 📤 最终保存5个测试结果...
[15:04:29.209] [DEBUG] 创建新的manager实例: key=True_
[15:04:29.209] ✅ 已保存 5 个测试结果到数据库
[15:04:29.330] [INFO] 已将 5 个汇总写入Parquet
[15:04:29.425] [INFO] 刷新manager缓存: key=True_

==================================================
分片 qwen2.5-14b-instruct_easy_key0 完成
退出码: 0
总行数: 608
运行时间: 29.9秒
时间: 2025-08-20T15:04:30.765657
