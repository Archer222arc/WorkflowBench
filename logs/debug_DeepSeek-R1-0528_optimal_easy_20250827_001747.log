2025-08-27 00:17:48,510 - INFO - 初始化实例池: 17个实例 (2个Azure + 6个IdealLab)
2025-08-27 00:17:48,511 - INFO - ResultCollector初始化，临时目录: temp_results
2025-08-27 00:17:48,511 - INFO - ResultAggregator初始化
2025-08-27 00:17:48,511 - INFO - 🆕 启用ResultCollector模式，支持零冲突并发
2025-08-27 00:17:48,511 - INFO - 调试日志目录: logs/debug_ultra_20250827_001715
2025-08-27 00:17:48,511 - INFO - [DEBUG] 开始调试模式运行
2025-08-27 00:17:48,511 - INFO - [DEBUG] 参数: args=(), kwargs={'model': 'DeepSeek-R1-0528', 'prompt_types': 'optimal', 'difficulty': 'easy', 'task_types': 'all', 'num_instances': 2, 'max_workers': 50, 'tool_success_rate': 0.8, 'rate_mode': 'fixed', 'silent': False}
2025-08-27 00:17:48,511 - INFO - 
🔥 启动超高并行测试
2025-08-27 00:17:48,511 - INFO -    模型: DeepSeek-R1-0528
2025-08-27 00:17:48,511 - INFO -    Prompt类型: optimal
2025-08-27 00:17:48,511 - INFO -    难度: easy
2025-08-27 00:17:48,511 - INFO -    实例数: 2
2025-08-27 00:17:48,511 - INFO -    速率模式: fixed
2025-08-27 00:17:48,511 - INFO - DeepSeek模型 DeepSeek-R1-0528 暂时使用单部署策略（避免多部署并发问题）
2025-08-27 00:17:48,511 - INFO - 创建任务分片: 1个实例并行
2025-08-27 00:17:48,511 - INFO - 📊 创建了 1 个并行分片
2025-08-27 00:17:48,511 - INFO - [DEBUG] 启动分片 DeepSeek-R1-0528_easy_0，包含模型: DeepSeek-R1-0528
2025-08-27 00:17:48,511 - INFO -    传递STORAGE_FORMAT=json给子进程
2025-08-27 00:17:48,518 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0 日志: logs/debug_ultra_20250827_001715/DeepSeek_R1_0528_e675_001748_511_p86910_002_DeepSeek_R1_0528_easy_0.log
2025-08-27 00:17:48,518 - INFO - [DEBUG] 运行命令: python -u smart_batch_runner.py --model DeepSeek-R1-0528 --deployment DeepSeek-R1-0528 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --max-workers 50 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
2025-08-27 00:17:48,528 - INFO - 🚀 第一个分片 DeepSeek-R1-0528_easy_0 立即启动
2025-08-27 00:17:48,528 - INFO - ⏳ 并发等待 1 个分片完成...
[分片DeepSeek-R1-0528_easy_0] 🚀 检测到Azure API，使用超高并发: workers=50, qps=None
[分片DeepSeek-R1-0528_easy_0] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x7f86e0e926b0>
[分片DeepSeek-R1-0528_easy_0] [OperationEmbeddingIndex] Initializing with unified API client manager
[分片DeepSeek-R1-0528_easy_0] [MCPEmbeddingManager] Initializing with unified API client manager
2025-08-27 00:17:54,373 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0: 100 行输出，运行 5.8秒
[分片DeepSeek-R1-0528_easy_0] [WARNING] Embedding manager exists but has no embeddings
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:17:55,987 - result_merger - WARNING - 另一个合并器已在运行 (PID: -1)
2025-08-27 00:17:55,987 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0: 200 行输出，运行 7.5秒
[分片DeepSeek-R1-0528_easy_0] [INFO] Initializing LLM client using APIClientManager
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:17:56,972 - batch_test_runner - INFO - Detected Azure API, disabling QPS sleep for better performance
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:17:56,972 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [InteractiveExecutor] API model name: DeepSeek-R1-0528[MCPEmbeddingManager] Reusing existing singleton instance (id: 140217051725680)
2025-08-27 00:17:57,063 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0: 300 行输出，运行 8.5秒
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
2025-08-27 00:18:02,715 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0: 400 行输出，运行 14.2秒
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
2025-08-27 00:22:49,625 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0: 500 行输出，运行 301.1秒
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_ERROR] Attempt 1/5: Request timed out.
[分片DeepSeek-R1-0528_easy_0] [TIMEOUT] API call timed out after 150 seconds, not retrying
[分片DeepSeek-R1-0528_easy_0] [API_FAILURE] API failed (timeout or max retries)
[分片DeepSeek-R1-0528_easy_0] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
2025-08-27 00:26:18,409 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0: 600 行输出，运行 509.9秒
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:27:57,028 - batch_test_runner - ERROR - Test timeout after 600 seconds (10 minutes)
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:27:57,030 - batch_test_runner - ERROR - Test timeout after 600 seconds (10 minutes)
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:27:57,031 - batch_test_runner - ERROR - Test timeout after 600 seconds (10 minutes)
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:27:57,031 - batch_test_runner - ERROR - Test timeout after 600 seconds (10 minutes)
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:27:57,031 - batch_test_runner - ERROR - Test timeout after 600 seconds (10 minutes)
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:27:57,032 - batch_test_runner - ERROR - Test timeout after 600 seconds (10 minutes)
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:27:57,032 - batch_test_runner - ERROR - Test timeout after 600 seconds (10 minutes)
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:27:57,032 - batch_test_runner - ERROR - Test timeout after 600 seconds (10 minutes)
[分片DeepSeek-R1-0528_easy_0] 2025-08-27 00:27:57,032 - batch_test_runner - ERROR - Test timeout after 600 seconds (10 minutes)
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_ERROR] Attempt 1/5: Request timed out.
[分片DeepSeek-R1-0528_easy_0] [TIMEOUT] API call timed out after 150 seconds, not retrying
[分片DeepSeek-R1-0528_easy_0] [API_FAILURE] API failed (timeout or max retries)
[分片DeepSeek-R1-0528_easy_0] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[分片DeepSeek-R1-0528_easy_0] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.85
[分片DeepSeek-R1-0528_easy_0] [LLM_ERROR] Attempt 1/5: Request timed out.
[分片DeepSeek-R1-0528_easy_0] [TIMEOUT] API call timed out after 150 seconds, not retrying
[分片DeepSeek-R1-0528_easy_0] [API_FAILURE] API failed (timeout or max retries)
[分片DeepSeek-R1-0528_easy_0] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
2025-08-27 00:29:38,052 - INFO - [DEBUG] 分片 DeepSeek-R1-0528_easy_0: 700 行输出，运行 709.5秒
[分片DeepSeek-R1-0528_easy_0] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.85
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[分片DeepSeek-R1-0528_easy_0] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
./run_systematic_test_final.sh: line 3526: 86910 Terminated: 15          USE_RESULT_COLLECTOR='true' STORAGE_FORMAT='json' KMP_DUPLICATE_LIB_OK=TRUE python -u ultra_parallel_runner_debug.py --model DeepSeek-R1-0528 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --rate-mode fixed --max-workers 50 --debug-log-dir logs/debug_ultra_20250827_001715
