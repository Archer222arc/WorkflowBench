===== 分片 qwen2.5-72b-instruct_very_easy_key1 =====
时间: 2025-08-27T14:32:45.553749
模型: qwen2.5-72b-instruct
实例: qwen-key1
命令: python -u smart_batch_runner.py --model qwen2.5-72b-instruct --deployment qwen-key1 --prompt-types optimal --difficulty very_easy --task-types all --num-instances 10 --max-workers 50 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=json
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[14:32:46.325] 
[14:32:46.325] A module that was compiled using NumPy 1.x cannot be run in
[14:32:46.325] NumPy 2.2.6 as it may crash. To support both 1.x and 2.x
[14:32:46.325] versions of NumPy, modules must be compiled with NumPy 2.0.
[14:32:46.325] Some module may need to rebuild instead e.g. with 'pybind11>=2.12'.
[14:32:46.325] 
[14:32:46.325] If you are a user of the module, the easiest solution will be to
[14:32:46.325] downgrade to 'numpy<2' or try to upgrade the affected module.
[14:32:46.325] We expect that some modules will need time to support NumPy 2.
[14:32:46.325] 
[14:32:46.325] Traceback (most recent call last):  File "/Users/ruicheng/Documents/GitHub/WorkflowBench/smart_batch_runner.py", line 21, in <module>
[14:32:46.325]     from batch_test_runner import BatchTestRunner, TestTask
[14:32:46.325]   File "/Users/ruicheng/Documents/GitHub/WorkflowBench/batch_test_runner.py", line 26, in <module>
[14:32:46.325]     from mdp_workflow_generator import MDPWorkflowGenerator
[14:32:46.325]   File "/Users/ruicheng/Documents/GitHub/WorkflowBench/mdp_workflow_generator.py", line 17, in <module>
[14:32:46.325]     import torch
[14:32:46.325]   File "/Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/__init__.py", line 1477, in <module>
[14:32:46.325]     from .functional import *  # noqa: F403
[14:32:46.325]   File "/Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/functional.py", line 9, in <module>
[14:32:46.325]     import torch.nn.functional as F
[14:32:46.325]   File "/Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/nn/__init__.py", line 1, in <module>
[14:32:46.325]     from .modules import *  # noqa: F403
[14:32:46.325]   File "/Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/nn/modules/__init__.py", line 35, in <module>
[14:32:46.325]     from .transformer import TransformerEncoder, TransformerDecoder, \
[14:32:46.325]   File "/Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/nn/modules/transformer.py", line 20, in <module>
[14:32:46.325]     device: torch.device = torch.device(torch._C._get_default_device()),  # torch.device('cpu'),
[14:32:46.325] /Users/ruicheng/miniconda3/lib/python3.10/site-packages/torch/nn/modules/transformer.py:20: UserWarning: Failed to initialize NumPy: _ARRAY_API not found (Triggered internally at /Users/runner/work/pytorch/pytorch/pytorch/torch/csrc/utils/tensor_numpy.cpp:84.)
[14:32:46.326]   device: torch.device = torch.device(torch._C._get_default_device()),  # torch.device('cpu'),
[14:32:46.978] 2025-08-27 14:32:46,978 - faiss.loader - INFO - Loading faiss.
[14:32:47.005] 2025-08-27 14:32:47,005 - faiss.loader - INFO - Successfully loaded faiss.
[14:32:47.698] [INFO] 使用JSON存储格式
[14:32:47.703] [INFO] 使用JSON存储格式
[14:32:48.255] [INFO] 使用JSON存储格式
[14:32:48.256] [INFO] 使用JSON存储格式
[14:32:48.257] 
[14:32:48.257] ============================================================
[14:32:48.257] 智能批测试: qwen2.5-72b-instruct (idealab)
[14:32:48.257] Prompt types: ['optimal']
[14:32:48.258] 难度: very_easy
[14:32:48.258] 目标: 每种配置 10 个实例
[14:32:48.258] ============================================================
[14:32:48.260] ○ simple_task         :   0/ 10 已完成 (需要补充 10 个)
[14:32:48.261] ○ basic_task          :   0/ 10 已完成 (需要补充 10 个)
[14:32:48.265] ○ data_pipeline       :   0/ 10 已完成 (需要补充 10 个)
[14:32:48.267] ○ api_integration     :   0/ 10 已完成 (需要补充 10 个)
[14:32:48.271] ○ multi_stage_pipeline:   0/ 10 已完成 (需要补充 10 个)
[14:32:48.284] 
[14:32:48.284] ⏳ 需要运行 50 个新测试
[14:32:48.284] 
[14:32:48.284] ▶ 准备 simple_task (10 个实例)...
[14:32:48.284] 
[14:32:48.284] ▶ 准备 basic_task (10 个实例)...
[14:32:48.284] 
[14:32:48.284] ▶ 准备 data_pipeline (10 个实例)...
[14:32:48.285] 
[14:32:48.285] ▶ 准备 api_integration (10 个实例)...
[14:32:48.285] 
[14:32:48.285] ▶ 准备 multi_stage_pipeline (10 个实例)...
[14:32:48.285] 
[14:32:48.285] ▶ 开始执行 50 个测试...
[14:32:48.285] 📊 自适应checkpoint_interval: 20
[14:32:48.285] 📦 批量提交模式：每20个测试保存一次
[14:32:48.285] ⚠️  检测到idealab API，调整并发: workers=2, qps=None
[14:32:48.286] 2025-08-27 14:32:48,284 - smart_result_collector - INFO - 自动保存线程已启动
[14:32:48.286] 2025-08-27 14:32:48,285 - smart_result_collector - INFO - SmartResultCollector初始化完成
[14:32:48.286] 2025-08-27 14:32:48,285 - smart_result_collector - INFO -   - 临时目录: temp_results
[14:32:48.286] 2025-08-27 14:32:48,285 - smart_result_collector - INFO -   - 内存阈值: 20
[14:32:48.286] 2025-08-27 14:32:48,285 - smart_result_collector - INFO -   - 时间阈值: 300秒
[14:32:48.286] 2025-08-27 14:32:48,285 - smart_result_collector - INFO -   - 自动保存: 60秒
[14:32:48.286] 2025-08-27 14:32:48,285 - smart_result_collector - INFO -   - 自适应阈值: True
[14:32:48.286] 2025-08-27 14:32:48,285 - result_collector_adapter - INFO - ✅ 使用SmartResultCollector
[14:32:48.286] 2025-08-27 14:32:48,285 - result_collector_adapter - INFO - AdaptiveResultCollector初始化完成，使用: smart
[14:32:48.286] 🧠 启用SmartResultCollector模式，智能数据管理
[14:32:48.288] 2025-08-27 14:32:48,287 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[14:32:48.313] 2025-08-27 14:32:48,313 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[14:32:48.313] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x7ff2aa976f60>
[14:32:48.313] 2025-08-27 14:32:48,313 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[14:32:48.314] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=False, use_ai_classification=True, checkpoint_interval=20
[14:32:48.314] 2025-08-27 14:32:48,314 - batch_test_runner - INFO - ============================================================
[14:32:48.314] 2025-08-27 14:32:48,314 - batch_test_runner - INFO - Batch test runner initialized
[14:32:48.314] 2025-08-27 14:32:48,314 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[14:32:48.314] 2025-08-27 14:32:48,314 - batch_test_runner - INFO - Log file: logs/batch_test_20250827_143248.log
[14:32:48.314] 2025-08-27 14:32:48,314 - batch_test_runner - INFO - ============================================================
[14:32:48.314] 2025-08-27 14:32:48,314 - batch_test_runner - INFO - Running 50 tests with 2 workers, QPS limit: None
[14:32:48.314] 2025-08-27 14:32:48,314 - batch_test_runner - INFO - Initializing test components...
[14:32:49.546] 2025-08-27 14:32:49,544 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[14:32:49.547] 2025-08-27 14:32:49,546 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[14:32:49.548] 2025-08-27 14:32:49,546 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[14:32:49.548] [DEBUG] Creating new ToolCapabilityManager instance
[14:32:49.549] [OperationEmbeddingIndex] Initializing with unified API client manager
[14:32:49.549] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[14:32:49.550] 2025-08-27 14:32:49,550 - api_client_manager - INFO - Loaded configuration from config/config.json
[14:32:49.587] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[14:32:49.587] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[14:32:49.587] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[14:32:50.149] 2025-08-27 14:32:50,149 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:32:50.167] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[14:32:50.218] [INFO] Loaded 4150 embeddings from persistent cache
[14:32:50.218] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[14:32:50.218] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[14:32:50.221] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[14:32:50.221] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[14:32:50.230] [INFO] Successfully loaded FAISS index with dimension 3072
[14:32:50.231] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[14:32:50.231] [INFO] Loaded 15 operations with dimension 3072
[14:32:50.231] [INFO] Successfully loaded cached index
[14:32:50.231] [INFO] Operation semantic index initialized
[14:32:50.231] [INFO] Using device: cpu
[14:32:50.233] [INFO] Initialized tool success tracking attributes
[14:32:50.233] [INFO] Initializing embedding manager for enhanced tool selection
[14:32:50.233] [MCPEmbeddingManager] Creating new singleton instance
[14:32:50.233] [MCPEmbeddingManager] Initializing with unified API client manager
[14:32:50.245] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[14:32:50.245] [MCPEmbeddingManager] Client initialized successfully
[14:32:50.245] 2025-08-27 14:32:50,245 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[14:32:50.650] 2025-08-27 14:32:50,648 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[14:32:52.833] 2025-08-27 14:32:52,827 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[14:32:52.838] 2025-08-27 14:32:52,832 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[14:32:53.030] 2025-08-27 14:32:53,030 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[14:32:53.320] 2025-08-27 14:32:53,320 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[14:32:54.837] 2025-08-27 14:32:54,836 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[14:32:54.837] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[14:32:54.838] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[14:32:54.838] 2025-08-27 14:32:54,838 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:32:54.899] 2025-08-27 14:32:54,899 - mcp_embedding_manager - INFO - FAISS index loaded
[14:32:54.900] 2025-08-27 14:32:54,899 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:32:54.900] 2025-08-27 14:32:54,899 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:32:54.916] [SUCCESS] Loaded 30 tool embeddings
[14:32:54.916] 2025-08-27 14:32:54,915 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[14:32:54.916] [SUCCESS] Embedding manager initialized with 30 tools
[14:32:54.916] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[14:32:54.916] [INFO] Loading full MCP protocol registry...
[14:32:54.917] 2025-08-27 14:32:54,917 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:32:54.917] [INFO] Loaded full tool registry with 30 tools
[14:32:54.917] 2025-08-27 14:32:54,917 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[14:32:54.917] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[14:32:54.917] [INFO] Embedding manager ready with 30 tools
[14:32:54.917] [WARNING] Embedding manager exists but has no embeddings
[14:32:54.918] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[14:32:54.921] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[14:32:54.921] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[14:32:54.921] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[14:32:54.921] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[14:32:54.921] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[14:32:54.921] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[14:32:54.921] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[14:32:54.921] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[14:32:54.921] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[14:32:54.921] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[14:32:54.921] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[14:32:54.921] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[14:32:54.921] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[14:32:54.921] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[14:32:54.921] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[14:32:54.921] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[14:32:54.921] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[14:32:54.921] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[14:32:54.921] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[14:32:54.921] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[14:32:54.921] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[14:32:54.921] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[14:32:54.921] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[14:32:54.921] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[14:32:54.922] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[14:32:54.922] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[14:32:54.922] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[14:32:54.922] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[14:32:54.922] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[14:32:54.922] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[14:32:54.922] 2025-08-27 14:32:54,922 - mdp_workflow_generator - INFO - Loaded 30 tools
[14:32:54.922] [INFO] Setting default state_dim based on loaded tools
[14:32:54.922] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[14:32:54.922] 2025-08-27 14:32:54,922 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[14:32:54.922] [INFO] Setting default action_dim based on loaded tools
[14:32:54.922] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[14:32:54.922] 2025-08-27 14:32:54,922 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[14:32:54.922] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[14:32:54.922] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[14:32:54.922] [INFO] ⚡ Will use pre-generated workflows or random policy
[14:32:54.922] 2025-08-27 14:32:54,922 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[14:32:54.923] [INFO] Initializing TaskManager...
[14:32:57.837] 2025-08-27 14:32:57,836 - unified_training_manager - INFO - Using device: cpu
[14:32:58.115] 2025-08-27 14:32:58,115 - unified_training_manager - INFO - Task filtering results:
[14:32:58.116] 2025-08-27 14:32:58,115 - unified_training_manager - INFO -   Total: 5040 -> 5040
[14:32:58.116] 2025-08-27 14:32:58,115 - unified_training_manager - INFO -   simple_task: 320 -> 320
[14:32:58.116] 2025-08-27 14:32:58,115 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[14:32:58.116] 2025-08-27 14:32:58,115 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[14:32:58.116] 2025-08-27 14:32:58,115 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[14:32:58.116] 2025-08-27 14:32:58,116 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[14:32:58.116] 2025-08-27 14:32:58,116 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[14:32:58.123] 2025-08-27 14:32:58,123 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[14:32:58.124] [TaskManager] Difficulty level 'easy': 1096 tasks
[14:32:58.124] [TaskManager] Difficulty level 'very_easy': 856 tasks
[14:32:58.124] [TaskManager] Difficulty level 'medium': 1136 tasks
[14:32:58.124] [TaskManager] Difficulty level 'hard': 1096 tasks
[14:32:58.124] [TaskManager] Difficulty level 'very_hard': 856 tasks
[14:32:58.133] [INFO] TaskManager initialized with 5040 tasks
[14:32:58.133] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[14:32:58.133] [INFO] Initializing ToolCallVerifier...
[14:32:58.139] [INFO] ToolCallVerifier initialized with 30 tools
[14:32:58.140] [INFO] Output tools identified: 1
[14:32:58.141] [INFO] Component initialization status:
[14:32:58.141]   - embedding_manager: initialized
[14:32:58.141]   - task_manager: initialized
[14:32:58.141]   - output_verifier: initialized
[14:32:58.141]   - tool_capability_manager: initialized
[14:32:58.141]   - tool_success_rates: initialized with 0 entries
[14:32:58.141] [INFO] MDPWorkflowGenerator initialization complete
[14:32:58.141] 2025-08-27 14:32:58,139 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[14:32:58.141] 2025-08-27 14:32:58,140 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[14:32:58.141] 2025-08-27 14:32:58,140 - batch_test_runner - INFO -   - task_manager: ✓
[14:32:58.141] 2025-08-27 14:32:58,140 - batch_test_runner - INFO -   - output_verifier: ✓
[14:32:58.141] 2025-08-27 14:32:58,140 - batch_test_runner - INFO -   - embedding_manager: ✓
[14:32:58.141] 2025-08-27 14:32:58,140 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[14:32:58.141] 2025-08-27 14:32:58,140 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[14:32:58.141] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:32:58.141] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:32:58.141] [FlawedWorkflowGenerator] Initialized with 30 tools
[14:32:58.141] [FlawedWorkflowGenerator] RAG support: disabled
[14:32:58.181] 2025-08-27 14:32:58,181 - focused_ai_classifier - INFO - Focused AI classifier initialized with gpt-5-nano (parameter-filtered)
[14:32:58.182] [INFO] Enhanced manager: AI错误分类系统已启用
[14:32:58.182] [INFO] 检测到并发环境，使用安全存储模式（ResultCollector）
[14:32:58.184] 2025-08-27 14:32:58,184 - result_collector - INFO - ResultCollector初始化，临时目录: temp_results
[14:32:58.184] 2025-08-27 14:32:58,184 - result_merger - INFO - ResultMerger初始化完成
[14:32:58.184] 2025-08-27 14:32:58,184 - result_merger - WARNING - 另一个合并器已在运行 (PID: -1)
[14:32:58.184] [INFO] 后台合并进程已启动（每10秒合并一次）
[14:32:58.185] DEBUG: Checking generator attributes
[14:32:58.185]   - has tool_capabilities: True
[14:32:58.185]   - has tool_capability_manager: True
[14:32:58.185]   - has task_manager: True
[14:32:58.185] [INFO] Loaded 30 tools from generator
[14:32:58.185] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[14:32:58.185] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:32:58.185] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:32:58.185] [INFO] Initializing LLM client using APIClientManager
[14:32:58.204] [INFO] Using Azure OpenAI client
[14:32:58.204] [DEBUG] Checking if generator has tool_capability_manager attribute
[14:32:58.204] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[14:32:58.204] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:32:58.204] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:32:58.204] [FlawedWorkflowGenerator] Initialized with 30 tools
[14:32:58.204] [FlawedWorkflowGenerator] RAG support: enabled
[14:32:58.205] [INFO] FlawedWorkflowGenerator initialized successfully
[14:32:58.205] [INFO] Initializing StableScorer for Phase 2 scoring
[14:32:58.205] <tool_capability_manager.ToolCapabilityManager object at 0x7ff27eb7f6e0>
[14:32:58.205] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:32:58.205] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:32:58.205] [INFO] Loaded tool success history for 0 tools
[14:32:58.205] [INFO] StableScorer initialized with semantic capability
[14:32:58.205] [INFO] StableScorer initialized successfully
[14:32:58.205] [INFO] Loading task instances...
[14:32:58.205] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[14:32:58.228] [INFO] Loaded 630 task instances
[14:32:58.228] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[14:32:58.228] 2025-08-27 14:32:58,228 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[14:32:58.228] 2025-08-27 14:32:58,228 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[14:33:22.847] 2025-08-27 14:33:22,829 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[14:33:22.856] 2025-08-27 14:33:22,831 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[14:33:23.588] 2025-08-27 14:33:23,573 - batch_test_runner - INFO - Initialization complete
[14:33:24.444] 2025-08-27 14:33:24,442 - batch_test_runner - INFO - Starting batch test with 50 tasks, 2 workers
[14:33:24.445] 2025-08-27 14:33:24,444 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[14:33:24.458] 2025-08-27 14:33:24,455 - batch_test_runner - INFO - Loading task library for difficulty: very_easy
[14:33:24.483] 2025-08-27 14:33:24,481 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_very_easy_with_workflows.json
[14:33:24.502] 2025-08-27 14:33:24,500 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[14:33:24.504] 2025-08-27 14:33:24,503 - batch_test_runner - INFO - Loading task library for difficulty: very_easy
[14:33:24.515] 2025-08-27 14:33:24,514 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_very_easy_with_workflows.json
[14:33:24.566] 2025-08-27 14:33:24,566 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[14:40:29.705] 2025-08-27 14:40:29,698 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[14:40:29.712] 2025-08-27 14:40:29,700 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[14:40:29.713] 2025-08-27 14:40:29,701 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[14:40:29.713] 2025-08-27 14:40:29,701 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[14:40:35.721] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:40:35.734] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:40:35.812] 2025-08-27 14:40:35,808 - smart_model_router - INFO - Using idealab for qwen2.5-72b-instruct
[14:40:35.823] 2025-08-27 14:40:35,820 - smart_model_router - INFO - Using idealab for qwen2.5-72b-instruct
[14:40:36.154] 2025-08-27 14:40:36,148 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:40:36.156] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:40:36.156] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:40:36.156] 2025-08-27 14:40:36,145 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:40:36.161] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:40:36.161] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:40:36.161] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:40:36.167] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:40:36.170] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:40:36.188] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:40:36.189] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:40:36.189] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:40:36.190] 2025-08-27 14:40:36,189 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:40:36.193] 2025-08-27 14:40:36,193 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:40:38.870] 2025-08-27 14:40:38,806 - mcp_embedding_manager - INFO - FAISS index loaded
[14:40:39.267] 2025-08-27 14:40:38,812 - mcp_embedding_manager - INFO - FAISS index loaded
[14:40:39.268] 2025-08-27 14:40:38,877 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:40:39.268] 2025-08-27 14:40:38,877 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:40:39.269] 2025-08-27 14:40:38,981 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:40:39.269] 2025-08-27 14:40:38,982 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:40:39.269] [INFO] Tool embedding index loaded successfully[INFO] Tool embedding index loaded successfully
[14:40:39.269] 
[14:40:39.269] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:40:39.269] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:40:39.269] [INFO] Operation semantic index initialized
[14:40:39.283] [INFO] Operation semantic index initialized
[14:40:39.309] 
[14:40:39.309] [TURN 1/10]
[14:40:39.311] [TURN 1/10]
[14:40:39.312] 
[14:40:39.312] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:40:39.329] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:40:41.550] 2025-08-27 14:40:41,545 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:40:42.300] 2025-08-27 14:40:42,297 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:40:43.366] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"589c2f28-e071-99c8-b769-a155975f292e"}, traceId: 2150417917563200412318774eecc1'}
[14:40:43.373] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:40:43.826]   [SEARCH] Query: data validation parser
[14:40:43.929] 
[14:40:43.929] [TURN 2/10]
[14:40:43.941] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:40:44.966] 2025-08-27 14:40:44,952 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:40:44.986] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e2ed35d6-33b9-98e6-aa14-d2297b0fbd65"}, traceId: 2150417917563200447238783eecc1'}
[14:40:44.991] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:40:45.037] 2025-08-27 14:40:45,036 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:40:45.038] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"25501a46-c827-9291-bea0-b54b0b748d92"}, traceId: 2150438d17563200443355659e2dc4'}
[14:40:45.039] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:40:46.563] 2025-08-27 14:40:46,553 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:40:46.585] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ea542d5a-1470-99f8-8638-6f4ead3d3574"}, traceId: 2150417917563200463258790eecc1'}
[14:40:46.586] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:40:47.032] 2025-08-27 14:40:47,027 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:40:47.040] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"990f37f5-5280-9fbf-8a3f-8dfab2e0b939"}, traceId: 2150438d17563200468365663e2dc4'}
[14:40:47.041] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:40:48.322] 2025-08-27 14:40:48,318 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:40:48.334] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d6424d5b-e720-915b-8f40-3643859ed06b"}, traceId: 2150417917563200480828799eecc1'}
[14:40:48.334] [RETRY] 400 error detected, waiting 4.5s before retry (not counting as turn)...
[14:40:48.912] 2025-08-27 14:40:48,911 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:40:48.966] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9d9f0e7f-392e-94ee-b05c-d75b1b7db0a6"}, traceId: 2150438d17563200481995669e2dc4'}
[14:40:48.968] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[14:40:51.601] 2025-08-27 14:40:51,580 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:40:51.634] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9a4bee0a-3a6a-9c33-bf53-21c96e90ef63"}, traceId: 2150438d17563200512875685e2dc4'}
[14:40:51.655] [RETRY] 400 error detected, waiting 4.2s before retry (not counting as turn)...
[14:40:54.077] 2025-08-27 14:40:54,060 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:40:54.459]   [SEARCH] Query: data validation parser
[14:40:54.574] 
[14:40:54.582] [TURN 2/10]
[14:40:54.726] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:40:56.967] 2025-08-27 14:40:56,942 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:40:56.981] 2025-08-27 14:40:56,937 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:40:57.053] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e9384f28-aeb8-91a6-9f50-c81b7e2bdcd3"}, traceId: 2150438d17563200565055695e2dc4'}
[14:40:57.056] [ERROR] Max retries reached after 5 attempts
[14:40:57.056] [API_FAILURE] All retries exhausted
[14:40:57.056]   [API_FAILURE] API failed (timeout or max retries)
[14:40:57.191]   [INFO] Tool info request: data_processing_parser
[14:40:57.197] 
[14:40:57.198] [TURN 3/10]
[14:40:57.269] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:40:59.601] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:40:59.621] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:40:59.680] [AI_DEBUG] 生成的txt_content长度: 12409
[14:40:59.682] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:40:59.688]   - use_ai_classification=True
[14:40:59.688]   - ai_classifier=True
[14:40:59.689]   - txt_content_len=12409
[14:40:59.690]   - task_model=qwen2.5-72b-instruct
[14:40:59.698] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:40:59.907] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:41:00.127] 2025-08-27 14:41:00,085 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:00.269] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"31faefd5-b96d-903e-b852-a9a4d95fd1f5"}, traceId: 2150417917563200596538822eecc1'}
[14:41:00.273] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:41:00.571] 2025-08-27 14:41:00,560 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:41:00.576] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:41:00.577] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:41:00.593] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:41:00.595] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:41:00.595] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:41:00.605] 2025-08-27 14:41:00,605 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:41:02.620] 2025-08-27 14:41:02,615 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:02.707] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"83ae8e21-a826-926e-b212-d97dbdf7c21e"}, traceId: 2150417917563200616748831eecc1'}
[14:41:02.709] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:41:02.743] 2025-08-27 14:41:02,742 - mcp_embedding_manager - INFO - FAISS index loaded
[14:41:02.744] 2025-08-27 14:41:02,744 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:41:02.745] 2025-08-27 14:41:02,744 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:41:03.057] [INFO] Tool embedding index loaded successfully
[14:41:03.112] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:41:03.124] [INFO] Operation semantic index initialized
[14:41:03.149] 
[14:41:03.149] [TURN 1/10]
[14:41:03.151] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:04.710] 2025-08-27 14:41:04,693 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:04.736] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2641cfc9-5e8c-9ec8-8375-87189de0b85d"}, traceId: 215040ed17563200644222007ebfad'}
[14:41:04.739] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:41:05.468] 2025-08-27 14:41:05,451 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:05.493] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9344cbcf-76e7-9123-a2e5-28a8a674284f"}, traceId: 2150417917563200645558844eecc1'}
[14:41:05.494] [RETRY] 400 error detected, waiting 2.3s before retry (not counting as turn)...
[14:41:07.549] 2025-08-27 14:41:07,529 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:07.577] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a05e7550-2117-9d0d-929e-7734faef350d"}, traceId: 215040ed17563200666402012ebfad'}
[14:41:07.582] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:41:08.921] 2025-08-27 14:41:08,919 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:09.324]   [EARLY_EXIT] No actions taken, continuing...
[14:41:09.354] 
[14:41:09.354] [TURN 4/10]
[14:41:09.354] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:10.300] 2025-08-27 14:41:10,267 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:10.360] 2025-08-27 14:41:10,359 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:10.386]   [SEARCH] Query: data validation parser
[14:41:10.441] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"783202dd-967b-984b-9f14-68c1f67fb768"}, traceId: 2150417917563200696578855eecc1'}
[14:41:10.442] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[14:41:10.443] 
[14:41:10.444] [TURN 2/10]
[14:41:10.444] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:10.670] 2025-08-27 14:41:10,659 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:41:11.710] 2025-08-27 14:41:11,710 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:11.902]   [INFO] Tool info request: data_processing_parser
[14:41:11.988] 
[14:41:11.988] [TURN 3/10]
[14:41:12.048] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:12.478] [AI_DEBUG] AI分类结果: category=other_errors, confidence=0.78
[14:41:12.582] 2025-08-27 14:41:12,582 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:12.602] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"92cd92e5-2874-914e-93c6-8041b898c275"}, traceId: 2150417917563200723818866eecc1'}
[14:41:12.637] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:41:13.230] 2025-08-27 14:41:13,225 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:13.532]   [EARLY_EXIT] No actions taken, continuing...
[14:41:13.532] 
[14:41:13.532] [TURN 4/10]
[14:41:13.585] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:14.936] 2025-08-27 14:41:14,935 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:14.956]   [EARLY_EXIT] No actions taken, continuing...
[14:41:14.956] 
[14:41:14.956] [TURN 5/10]
[14:41:14.965] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:15.182] 2025-08-27 14:41:15,182 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:15.194]   [EARLY_EXIT] No actions taken, continuing...
[14:41:15.194] 
[14:41:15.194] [TURN 5/10]
[14:41:15.198] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:15.952] 2025-08-27 14:41:15,952 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:15.960]   [EARLY_EXIT] No actions taken, continuing...
[14:41:15.960] 
[14:41:15.960] [TURN 6/10]
[14:41:15.966] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:16.150] 2025-08-27 14:41:16,150 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:16.171] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6ea43327-f6b8-90f1-ac0b-741c84a354d8"}, traceId: 2150417917563200754548877eecc1'}
[14:41:16.172] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:41:16.907] 2025-08-27 14:41:16,906 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:16.932] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"727a3243-4abb-99e6-a358-e6223aa0b1f6"}, traceId: 215040ed17563200762302046ebfad'}
[14:41:16.932] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:41:17.478] 2025-08-27 14:41:17,478 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:17.479] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"409892e1-4bac-97dc-8329-0fcd666833f3"}, traceId: 2150417917563200772718880eecc1'}
[14:41:17.483] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:41:18.818] 2025-08-27 14:41:18,818 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:18.846]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:41:18.854] 
[14:41:18.855] [TURN 7/10]
[14:41:18.855] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:19.998] 2025-08-27 14:41:19,998 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:20.003] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c84ca86e-df31-9de9-b6a8-ad75ef889cec"}, traceId: 215040ed17563200798082059ebfad'}
[14:41:20.003] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:41:20.063] 2025-08-27 14:41:20,048 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:20.064] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"84312cb0-d606-957e-979b-8e7d90b22cbc"}, traceId: 2150417917563200798148884eecc1'}
[14:41:20.064] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:41:22.407] 2025-08-27 14:41:22,369 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:22.409] 2025-08-27 14:41:22,372 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:22.461] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7d298eef-63b4-9bbc-9397-20d823424fa9"}, traceId: 215040ed17563200815932066ebfad'}
[14:41:22.470] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b0297878-186b-9db1-a617-863a9e68ae92"}, traceId: 2150417917563200816028890eecc1'}
[14:41:22.470] [RETRY] 400 error detected, waiting 3.7s before retry (not counting as turn)...
[14:41:22.472] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:41:24.569] 2025-08-27 14:41:24,566 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:24.590] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"319a818a-ac07-996d-bd50-bf966dfaa0f3"}, traceId: 215040ed17563200838522069ebfad'}
[14:41:24.591] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[14:41:28.123] 2025-08-27 14:41:28,120 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:28.133] 2025-08-27 14:41:28,113 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:28.235]   [EARLY_EXIT] No actions taken, continuing...
[14:41:28.250] 
[14:41:28.250] [TURN 6/10]
[14:41:28.250]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:41:28.250] 
[14:41:28.251] [TURN 8/10]
[14:41:28.251] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:28.256] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:29.350] 2025-08-27 14:41:29,319 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:29.466] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"056da30c-a9c0-91c0-bc15-797c2f9cf0ad"}, traceId: 2150417917563200885558908eecc1'}
[14:41:29.468] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[14:41:29.529] 2025-08-27 14:41:29,529 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:29.609]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[14:41:29.609] 
[14:41:29.609] [TURN 9/10]
[14:41:29.620] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:30.832] 2025-08-27 14:41:30,821 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:30.918] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"743ac2a1-4666-94de-ac1d-d9968bf349eb"}, traceId: 215040ed17563200899042084ebfad'}
[14:41:30.919] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:41:31.333] 2025-08-27 14:41:31,332 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:31.402]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:41:31.402] 
[14:41:31.402] [TURN 7/10]
[14:41:31.411] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:32.765] 2025-08-27 14:41:32,716 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:32.788]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:41:32.793] 
[14:41:32.793] [TURN 8/10]
[14:41:32.793] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:33.547] 2025-08-27 14:41:33,542 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:33.643]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[14:41:33.643] 
[14:41:33.643] [TURN 10/10]
[14:41:33.648] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:34.106] 2025-08-27 14:41:34,106 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:34.136]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[14:41:34.145] 
[14:41:34.148] [TURN 9/10]
[14:41:34.151] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:34.596] 2025-08-27 14:41:34,596 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:34.600]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[14:41:34.612] [ASSISTED] Task received 5 format helps, final result: failure
[14:41:35.029] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:41:35.029] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:41:35.032] [AI_DEBUG] 生成的txt_content长度: 25352
[14:41:35.035] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:41:35.035]   - use_ai_classification=True
[14:41:35.035]   - ai_classifier=True
[14:41:35.035]   - txt_content_len=25352
[14:41:35.035]   - task_model=qwen2.5-72b-instruct
[14:41:35.038] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:41:35.137] 2025-08-27 14:41:35,135 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:35.168] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:41:35.236] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a45288d5-b2e2-9d53-a201-654a428bf10d"}, traceId: 2150417917563200943978926eecc1'}
[14:41:35.264] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:41:35.663] 2025-08-27 14:41:35,660 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:41:35.663] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:41:35.663] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:41:35.663] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:41:35.663] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:41:35.663] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:41:35.672] 2025-08-27 14:41:35,672 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:41:37.643] 2025-08-27 14:41:37,621 - mcp_embedding_manager - INFO - FAISS index loaded
[14:41:37.648] 2025-08-27 14:41:37,637 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:41:37.648] 2025-08-27 14:41:37,637 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:41:38.077] [INFO] Tool embedding index loaded successfully
[14:41:38.402] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:41:38.430] 2025-08-27 14:41:38,413 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:38.458] [INFO] Operation semantic index initialized
[14:41:38.547] 
[14:41:38.547] [TURN 1/10]
[14:41:38.673] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:38.680]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[14:41:38.680] 
[14:41:38.680] [TURN 10/10]
[14:41:38.709] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:40.036] 2025-08-27 14:41:40,006 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:40.154]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[14:41:40.159] [ASSISTED] Task received 5 format helps, final result: failure
[14:41:40.456] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:41:40.590] 2025-08-27 14:41:40,590 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:41:40.590] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:41:40.590] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:41:40.593] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:41:40.593] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:41:40.593] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:41:40.597] 2025-08-27 14:41:40,594 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:41:41.420] 2025-08-27 14:41:41,419 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:41:41.436] 2025-08-27 14:41:41,420 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:41.788] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[14:41:41.813]   [SEARCH] Query: data validation parser
[14:41:42.341] 
[14:41:42.367] [TURN 2/10]
[14:41:42.382] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:42.592] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:41:42.593] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:41:42.595] [AI_DEBUG] 生成的txt_content长度: 25349
[14:41:42.595] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:41:42.595]   - use_ai_classification=True
[14:41:42.602]   - ai_classifier=True
[14:41:42.602]   - txt_content_len=25349
[14:41:42.602]   - task_model=qwen2.5-72b-instruct
[14:41:42.606] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:41:43.244] 2025-08-27 14:41:43,142 - mcp_embedding_manager - INFO - FAISS index loaded
[14:41:43.270] 2025-08-27 14:41:43,187 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:41:43.270] 2025-08-27 14:41:43,187 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:41:43.543] [INFO] Tool embedding index loaded successfully
[14:41:43.632] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:41:43.638] [INFO] Operation semantic index initialized
[14:41:43.653] 
[14:41:43.653] [TURN 1/10]
[14:41:43.660] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:44.727] 2025-08-27 14:41:44,684 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:44.842]   [INFO] Tool info request: data_processing_parser
[14:41:44.845] 
[14:41:44.845] [TURN 3/10]
[14:41:44.857] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:46.369] 2025-08-27 14:41:46,356 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:46.374] 2025-08-27 14:41:46,333 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:46.460]   [SEARCH] Query: data validation parser
[14:41:46.472]   [EARLY_EXIT] No actions taken, continuing...
[14:41:46.474] 
[14:41:46.475] [TURN 4/10]
[14:41:46.486] 
[14:41:46.489] [TURN 2/10]
[14:41:46.491] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:46.525] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:47.204] 2025-08-27 14:41:47,165 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:47.233] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ddc246c3-065c-9bbc-b99b-733dbe74d114"}, traceId: 2150429e17563201068025695e2318'}
[14:41:47.238] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:41:47.735] 2025-08-27 14:41:47,720 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:47.741] 2025-08-27 14:41:47,710 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:41:47.948] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9d3a3250-cfe0-98a3-886d-2a8574624aad"}, traceId: 213e04ea17563201068133516e335f'}
[14:41:47.968] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:41:48.033] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[14:41:49.391] 2025-08-27 14:41:49,372 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:49.407] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2f4b6244-19b9-9691-8808-13a5cf7ee408"}, traceId: 2150429e17563201084725701e2318'}
[14:41:49.411] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:41:50.449] 2025-08-27 14:41:50,437 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:50.476] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3bce2176-2026-9a53-9e72-0cd7ee98925e"}, traceId: 213e04ea17563201096373524e335f'}
[14:41:50.479] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:41:51.593] 2025-08-27 14:41:51,554 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:51.761] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"245b7648-53e1-9ec7-9223-a66f6ceb18e8"}, traceId: 2150429e17563201107265707e2318'}
[14:41:51.776] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[14:41:54.271] 2025-08-27 14:41:54,217 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:54.388]   [INFO] Tool info request: data_processing_parser
[14:41:54.408] 
[14:41:54.409] [TURN 3/10]
[14:41:54.450] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:55.074] 2025-08-27 14:41:55,031 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:55.246]   [EARLY_EXIT] No actions taken, continuing...
[14:41:55.246] 
[14:41:55.246] [TURN 5/10]
[14:41:55.258] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:55.644] 2025-08-27 14:41:55,599 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:55.698] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"eac5aba4-e79f-9769-aa6d-bb21e788356a"}, traceId: 213e04ea17563201148743536e335f'}
[14:41:55.700] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:41:56.546] 2025-08-27 14:41:56,538 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:41:56.596]   [EARLY_EXIT] No actions taken, continuing...
[14:41:56.596] 
[14:41:56.597] [TURN 6/10]
[14:41:56.607] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:41:57.643] 2025-08-27 14:41:57,621 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:57.664] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c2283321-0bd4-9c89-a8e7-d756e6e1865e"}, traceId: 2150429e17563201168865729e2318'}
[14:41:57.672] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:41:58.440] 2025-08-27 14:41:58,438 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:41:58.448] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"396df966-e512-991f-9781-cea1d68762d1"}, traceId: 213e04ea17563201176903545e335f'}
[14:41:58.532] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:42:00.522] 2025-08-27 14:42:00,517 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:00.542] 2025-08-27 14:42:00,510 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:00.591] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"57b2f413-c2c5-9a39-9b20-2e3dcd8d1e99"}, traceId: 2150429e17563201196455744e2318'}
[14:42:00.601] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a524227d-32fc-996d-9a37-dcd6024eb6ca"}, traceId: 213e04ea17563201196543547e335f'}
[14:42:00.603] [RETRY] 400 error detected, waiting 2.7s before retry (not counting as turn)...
[14:42:00.603] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:42:03.203] 2025-08-27 14:42:03,144 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:03.220]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:42:03.220] 
[14:42:03.220] [TURN 7/10]
[14:42:03.220] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:04.569] 2025-08-27 14:42:04,527 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:04.575] 2025-08-27 14:42:04,522 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:04.774] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4db619e6-8422-94b6-b65a-c4f47fc3cfe0"}, traceId: 213e04ea17563201235553553e335f'}
[14:42:04.792] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[14:42:04.842]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:42:04.844] 
[14:42:04.844] [TURN 8/10]
[14:42:04.888] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:06.859] 2025-08-27 14:42:06,858 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:07.049]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[14:42:07.049] 
[14:42:07.049] [TURN 9/10]
[14:42:07.068] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:08.026] 2025-08-27 14:42:08,026 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:08.059]   [EARLY_EXIT] No actions taken, continuing...
[14:42:08.064] 
[14:42:08.064] [TURN 4/10]
[14:42:08.065] 2025-08-27 14:42:08,065 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:08.069] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6234a5ae-cc52-920e-91d8-c64f95776bb9"}, traceId: 2150429e17563201273635776e2318'}
[14:42:08.069] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:42:08.069] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:09.269] 2025-08-27 14:42:09,268 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:09.273] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a86ee36a-d0ee-923e-ae10-0a707cd83b66"}, traceId: 213e04ea17563201285863570e335f'}
[14:42:09.277] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[14:42:10.191] 2025-08-27 14:42:10,191 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:10.195] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8fea8fe9-95a0-92cb-aafa-ff7058eefe1d"}, traceId: 2150429e17563201295045782e2318'}
[14:42:10.195] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:42:10.849] 2025-08-27 14:42:10,848 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:10.909]   [EARLY_EXIT] No actions taken, continuing...
[14:42:10.909] 
[14:42:10.909] [TURN 5/10]
[14:42:10.910] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:11.931] 2025-08-27 14:42:11,931 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:11.944]   [EARLY_EXIT] No actions taken, continuing...
[14:42:11.944] 
[14:42:11.944] [TURN 6/10]
[14:42:11.959] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:12.275] 2025-08-27 14:42:12,275 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:12.275] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"93ebb5fd-1113-973d-b838-41d3d5c83b59"}, traceId: 2150429e17563201314625787e2318'}
[14:42:12.276] [RETRY] 400 error detected, waiting 2.3s before retry (not counting as turn)...
[14:42:12.926] 2025-08-27 14:42:12,926 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:12.929]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:42:12.929] 
[14:42:12.929] [TURN 7/10]
[14:42:12.929] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:13.992] 2025-08-27 14:42:13,992 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:14.007]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:42:14.007] 
[14:42:14.007] [TURN 8/10]
[14:42:14.020] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:14.466] 2025-08-27 14:42:14,466 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:14.480] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bfa23cd4-4527-9d4e-8cc0-e68310db73d6"}, traceId: 213e04ea17563201343033589e335f'}
[14:42:14.480] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:42:15.976] 2025-08-27 14:42:15,976 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:15.989] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2fd56156-5bab-9692-bde3-50f515e0a78d"}, traceId: 2150429e17563201351315797e2318'}
[14:42:16.043] [RETRY] 400 error detected, waiting 4.3s before retry (not counting as turn)...
[14:42:17.075] 2025-08-27 14:42:17,075 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:17.106]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[14:42:17.134] 
[14:42:17.134] [TURN 9/10]
[14:42:17.134] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:18.152] 2025-08-27 14:42:18,152 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:18.164] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b4335a40-9370-94b8-afbf-d438b4f5e3e5"}, traceId: 213e04ea17563201374783594e335f'}
[14:42:18.172] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:42:20.854] 2025-08-27 14:42:20,849 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:20.957]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[14:42:20.957] 
[14:42:20.957] [TURN 10/10]
[14:42:20.967] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:21.439] 2025-08-27 14:42:21,439 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:21.445]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[14:42:21.445] 
[14:42:21.445] [TURN 10/10]
[14:42:21.446] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:22.236] 2025-08-27 14:42:22,236 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:22.249] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ce4a0669-f1b7-9b13-a3e3-e7d3f611758f"}, traceId: 213e04ea17563201414323600e335f'}
[14:42:22.258] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:42:22.392] 2025-08-27 14:42:22,391 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:22.392] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2504e0d9-3fbd-9183-b185-8878b5386bd9"}, traceId: 2150429e17563201416955813e2318'}
[14:42:22.392] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:42:25.089] 2025-08-27 14:42:25,029 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:25.090] 2025-08-27 14:42:25,090 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:25.348]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns  [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[14:42:25.349] 
[14:42:25.387] [ASSISTED] Task received 5 format helps, final result: failure
[14:42:25.441] [ASSISTED] Task received 5 format helps, final result: failure
[14:42:26.196] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:42:26.296] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:42:26.335] [AI_DEBUG] 生成的txt_content长度: 25349
[14:42:26.338] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:42:26.348]   - use_ai_classification=True
[14:42:26.349]   - ai_classifier=True
[14:42:26.349]   - txt_content_len=25349
[14:42:26.349]   - task_model=qwen2.5-72b-instruct
[14:42:26.349] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:42:26.498] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager[InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:42:26.510] 
[14:42:27.325] 2025-08-27 14:42:27,322 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:42:27.325] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:42:27.325] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:42:27.338] 2025-08-27 14:42:27,325 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:42:27.338] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:42:27.350] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:42:27.378] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:42:27.378] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:42:27.383] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:42:27.387] [InteractiveExecutor] API model name: qwen2.5-72b-instruct2025-08-27 14:42:27,378 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:42:27.387] 
[14:42:27.387] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:42:27.387] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:42:27.387] 2025-08-27 14:42:27,378 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:42:34.371] 2025-08-27 14:42:34,362 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:42:34.695] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[14:42:36.042] 2025-08-27 14:42:35,929 - mcp_embedding_manager - INFO - FAISS index loaded
[14:42:36.072] 2025-08-27 14:42:35,922 - mcp_embedding_manager - INFO - FAISS index loaded
[14:42:36.073] 2025-08-27 14:42:36,014 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:42:36.073] 2025-08-27 14:42:36,029 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:42:36.075] 2025-08-27 14:42:36,045 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:42:37.035] [INFO] Tool embedding index loaded successfully
[14:42:37.069] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:42:37.071] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:42:37.119] 2025-08-27 14:42:36,060 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:42:38.024] [INFO] Tool embedding index loaded successfully
[14:42:38.128] [AI_DEBUG] 生成的txt_content长度: 25367
[14:42:38.129] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:42:38.131]   - use_ai_classification=True
[14:42:38.131]   - ai_classifier=True[INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:42:38.139] 
[14:42:38.139]   - txt_content_len=25367
[14:42:38.140]   - task_model=qwen2.5-72b-instruct
[14:42:38.140] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:42:38.274] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:42:38.288] [INFO] Operation semantic index initialized
[14:42:38.326] [INFO] Operation semantic index initialized
[14:42:38.410] 
[14:42:38.412] [TURN 1/10]
[14:42:38.414] 
[14:42:38.414] [TURN 1/10]
[14:42:39.333] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:41.566] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:45.388] 2025-08-27 14:42:45,384 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:45.442]   [SEARCH] Query: data validation parser
[14:42:45.464] 
[14:42:45.465] [TURN 2/10]
[14:42:45.473] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:46.313] 2025-08-27 14:42:46,235 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:46.499] 2025-08-27 14:42:46,498 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:46.509]   [SEARCH] Query: data validation parser
[14:42:46.519] 
[14:42:46.519] [TURN 2/10]
[14:42:46.537] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"56c9641d-7056-9c96-9e06-b64deb12f1c8"}, traceId: 213e06c217563201657548010e82b5'}
[14:42:46.540] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:42:46.562] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:48.128] 2025-08-27 14:42:48,092 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:48.152]   [INFO] Tool info request: data_processing_parser
[14:42:48.156] 
[14:42:48.157] [TURN 3/10]
[14:42:48.170] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:48.763] 2025-08-27 14:42:48,715 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:48.871] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"67d95658-989b-9c44-a016-dcb560902d69"}, traceId: 213e06c217563201683848018e82b5'}
[14:42:48.881] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:42:49.266] 2025-08-27 14:42:49,241 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:49.287] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d0e4a1fb-e87a-9489-88ad-6d45b72375df"}, traceId: 213e043b17563201684505936e22a4'}
[14:42:49.289] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:42:51.191] 2025-08-27 14:42:51,140 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:42:51.542] 2025-08-27 14:42:51,427 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:52.094] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[14:42:52.168] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a23577c9-05d2-97b4-b14d-cafcfc160800"}, traceId: 213e06c217563201704298019e82b5'}
[14:42:52.223] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:42:53.254] 2025-08-27 14:42:53,190 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:54.129] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"08695a59-89c7-98d6-a93f-0fd7c1d60ab1"}, traceId: 213e043b17563201719435946e22a4'}
[14:42:54.241] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:42:55.347] 2025-08-27 14:42:55,319 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:55.621]   [INFO] Tool info request: data_processing_parser
[14:42:55.637] 
[14:42:55.639] [TURN 3/10]
[14:42:55.650] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:56.248] 2025-08-27 14:42:56,208 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:56.345] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"24af8308-ccab-933e-8b30-89b7b2f30801"}, traceId: 213e043b17563201757795954e22a4'}
[14:42:56.359] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:42:57.345] 2025-08-27 14:42:57,306 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:57.599]   [EARLY_EXIT] No actions taken, continuing...
[14:42:57.606] 
[14:42:57.607] [TURN 4/10]
[14:42:57.622] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:42:59.044] 2025-08-27 14:42:58,969 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:42:59.084] 2025-08-27 14:42:58,973 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:42:59.285] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0d4dd14a-ee08-97cb-86ad-c4c62d269384"}, traceId: 213e043b17563201780935956e22a4'}
[14:42:59.294]   [EARLY_EXIT] No actions taken, continuing...
[14:42:59.294] 
[14:42:59.294] [TURN 5/10]
[14:42:59.295] [RETRY] 400 error detected, waiting 2.4s before retry (not counting as turn)...
[14:42:59.303] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:00.642] 2025-08-27 14:43:00,610 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:00.723] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f3a28195-1e70-9d02-afd0-fffc653a6003"}, traceId: 213e06c217563201796348048e82b5'}
[14:43:00.737] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[14:43:02.408] 2025-08-27 14:43:02,382 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:02.420] 2025-08-27 14:43:02,395 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:02.445] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7720f624-9da8-9ed1-834f-acda3260a6b1"}, traceId: 213e06c217563201818688055e82b5'}
[14:43:02.466] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0cef1137-9185-95d5-b877-d55f64b396bb"}, traceId: 213e043b17563201819385958e22a4'}
[14:43:02.466] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:43:02.466] [ERROR] Max retries reached after 5 attempts
[14:43:02.466] [API_FAILURE] All retries exhausted
[14:43:02.469]   [API_FAILURE] API failed (timeout or max retries)
[14:43:03.041] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:43:03.064] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:43:03.074] [AI_DEBUG] 生成的txt_content长度: 14107
[14:43:03.077] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:43:03.078]   - use_ai_classification=True
[14:43:03.078]   - ai_classifier=True
[14:43:03.078]   - txt_content_len=14107
[14:43:03.079]   - task_model=qwen2.5-72b-instruct
[14:43:03.079] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:43:03.217] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:43:03.828] 2025-08-27 14:43:03,814 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:43:03.839] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:43:03.839] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:43:03.894] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:43:03.904] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:43:03.907] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:43:03.919] 2025-08-27 14:43:03,917 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:43:04.445] 2025-08-27 14:43:04,440 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:04.642] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8b1d976d-72f7-9912-86ca-de9194f90612"}, traceId: 213e06c217563201836918058e82b5'}
[14:43:04.642] [RETRY] 400 error detected, waiting 2.5s before retry (not counting as turn)...
[14:43:08.071] 2025-08-27 14:43:08,051 - mcp_embedding_manager - INFO - FAISS index loaded
[14:43:08.087] 2025-08-27 14:43:08,078 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:43:08.087] 2025-08-27 14:43:08,087 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:43:09.566] [INFO] Tool embedding index loaded successfully
[14:43:09.577] 2025-08-27 14:43:09,577 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:09.599] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:43:09.649] [INFO] Operation semantic index initialized
[14:43:09.740] 
[14:43:09.742] [TURN 1/10]
[14:43:09.771]   [EARLY_EXIT] No actions taken, continuing...
[14:43:09.771] 
[14:43:09.776] [TURN 6/10]
[14:43:09.776] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:09.787] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:10.482] 2025-08-27 14:43:10,481 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:10.599]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:43:10.599] 
[14:43:10.599] [TURN 7/10]
[14:43:10.600] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:11.420] 2025-08-27 14:43:11,420 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:11.499] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b2b637fb-5d60-991a-bf70-cdd3b38b202a"}, traceId: 213e06c217563201907308079e82b5'}2025-08-27 14:43:11,498 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:11.499] 
[14:43:11.527] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:43:11.546] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"95f7ba9e-e4ac-9e73-86d8-f57b15cac933"}, traceId: 213e007f17563201907114371eeb4e'}
[14:43:11.555] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:43:12.784] 2025-08-27 14:43:12,784 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:12.790] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"79787de4-20e1-9873-83f6-7acc5dbce005"}, traceId: 213e007f17563201925904372eeb4e'}
[14:43:12.790] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:43:13.696] 2025-08-27 14:43:13,691 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:43:13.811] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.78
[14:43:14.069] 2025-08-27 14:43:14,069 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:14.108]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:43:14.160] 
[14:43:14.160] [TURN 8/10]
[14:43:14.160] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:14.546] 2025-08-27 14:43:14,546 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:14.553] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"602ca90f-3f38-9743-ad3b-55e886c600a4"}, traceId: 213e007f17563201938624375eeb4e'}
[14:43:14.553] [RETRY] 400 error detected, waiting 2.7s before retry (not counting as turn)...
[14:43:15.192] 2025-08-27 14:43:15,192 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:15.204]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[14:43:15.204] 
[14:43:15.204] [TURN 9/10]
[14:43:15.205] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:16.141] 2025-08-27 14:43:16,141 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:16.142] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"79dd7cdb-746b-9053-a683-bff7400b5434"}, traceId: 213e06c217563201954678139e82b5'}
[14:43:16.142] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[14:43:17.678] 2025-08-27 14:43:17,678 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:17.692] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ca0ea021-d50a-9149-b311-6ba6e5f17c1a"}, traceId: 213e007f17563201974794379eeb4e'}
[14:43:17.708] [RETRY] 400 error detected, waiting 2.7s before retry (not counting as turn)...
[14:43:17.849] 2025-08-27 14:43:17,849 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:17.890]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[14:43:17.893] 
[14:43:17.896] [TURN 10/10]
[14:43:17.899] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:18.733] 2025-08-27 14:43:18,733 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:18.770]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[14:43:18.784] [ASSISTED] Task received 5 format helps, final result: failure
[14:43:19.124] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:43:19.155] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:43:19.163] [AI_DEBUG] 生成的txt_content长度: 25352
[14:43:19.166] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:43:19.178]   - use_ai_classification=True
[14:43:19.182]   - ai_classifier=True
[14:43:19.182]   - txt_content_len=25352
[14:43:19.184]   - task_model=qwen2.5-72b-instruct
[14:43:19.185] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:43:19.216] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:43:19.648] 2025-08-27 14:43:19,647 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:43:19.653] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:43:19.680] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:43:19.680] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:43:19.680] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:43:19.680] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:43:19.680] 2025-08-27 14:43:19,668 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:43:20.622] 2025-08-27 14:43:20,621 - mcp_embedding_manager - INFO - FAISS index loaded
[14:43:20.622] 2025-08-27 14:43:20,622 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:43:20.622] 2025-08-27 14:43:20,622 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:43:20.644] [INFO] Tool embedding index loaded successfully
[14:43:20.664] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:43:20.686] [INFO] Operation semantic index initialized
[14:43:20.764] 
[14:43:20.766] [TURN 1/10]
[14:43:20.766] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:21.707] 2025-08-27 14:43:21,682 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:21.750] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7b812ce9-7eab-9e76-9d74-f674bc270fff"}, traceId: 213e007f17563202008314386eeb4e'}
[14:43:21.761] [ERROR] Max retries reached after 5 attempts
[14:43:21.761] [API_FAILURE] All retries exhausted
[14:43:21.761]   [API_FAILURE] API failed (timeout or max retries)
[14:43:22.150] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:43:22.448] 2025-08-27 14:43:22,448 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:43:22.448] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:43:22.448] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:43:22.450] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:43:22.451] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:43:22.451] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:43:22.466] 2025-08-27 14:43:22,464 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:43:23.219] 2025-08-27 14:43:23,159 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:23.855]   [SEARCH] Query: data validation parser
[14:43:24.243] 
[14:43:24.272] [TURN 2/10]
[14:43:24.396] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:25.200] 2025-08-27 14:43:25,159 - mcp_embedding_manager - INFO - FAISS index loaded
[14:43:25.225] 2025-08-27 14:43:25,180 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:43:25.237] 2025-08-27 14:43:25,180 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:43:25.974] [INFO] Tool embedding index loaded successfully
[14:43:26.120] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:43:26.138] [INFO] Operation semantic index initialized
[14:43:26.252] 
[14:43:26.338] [TURN 1/10]
[14:43:26.338] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:26.350] 2025-08-27 14:43:26,349 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:26.459]   [INFO] Tool info request: data_processing_parser
[14:43:26.459] 
[14:43:26.459] [TURN 3/10]
[14:43:26.459] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:27.286] 2025-08-27 14:43:27,238 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:27.350] 2025-08-27 14:43:27,322 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:43:27.414] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4d9deecb-e4a7-983e-b920-b1bbea2ae171"}, traceId: 213e042f17563202066706585e2622'}
[14:43:27.417] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[14:43:27.487] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[14:43:27.517] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:43:27.517] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:43:27.518] [AI_DEBUG] 生成的txt_content长度: 4326
[14:43:27.518] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:43:27.518]   - use_ai_classification=True
[14:43:27.518]   - ai_classifier=True
[14:43:27.518]   - txt_content_len=4326
[14:43:27.519]   - task_model=qwen2.5-72b-instruct
[14:43:27.519] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:43:28.536] 2025-08-27 14:43:28,517 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:28.543] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ae317ed4-5edd-9cc4-bb65-5af1ac6b65b6"}, traceId: 213e066c17563202077403085e7990'}
[14:43:28.573] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:43:29.686] 2025-08-27 14:43:29,657 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:29.742] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"654e54d3-ca98-94f6-924f-4958b9b16031"}, traceId: 213e042f17563202087746593e2622'}
[14:43:29.751] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:43:31.368] 2025-08-27 14:43:31,341 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:31.556]   [SEARCH] Query: data validation parser
[14:43:31.560] 
[14:43:31.560] [TURN 2/10]
[14:43:31.572] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:32.372] 2025-08-27 14:43:32,327 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:32.452] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"266e44d4-3097-9082-907e-3752e1394867"}, traceId: 213e042f17563202117986600e2622'}
[14:43:32.467] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[14:43:32.592] 2025-08-27 14:43:32,591 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:32.605] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3a4a0c3a-e130-9453-9772-af5dd17c58f8"}, traceId: 213e066c17563202118783091e7990'}
[14:43:32.606] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:43:35.045] 2025-08-27 14:43:34,988 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:35.200]   [INFO] Tool info request: data_processing_validator
[14:43:35.205] 
[14:43:35.206] [TURN 3/10]
[14:43:35.222] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:35.927] 2025-08-27 14:43:35,821 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:43:36.379] 2025-08-27 14:43:36,375 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:36.382] 2025-08-27 14:43:36,363 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:36.455] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ce514740-8103-922b-82c4-c2c56c5d8c06"}, traceId: 213e066c17563202155603106e7990'}
[14:43:36.457] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:43:36.497] [AI_DEBUG] AI分类结果: category=sequence_order_errors, confidence=0.72
[14:43:36.602]   [EARLY_EXIT] No actions taken, continuing...
[14:43:36.651] 
[14:43:36.653] [TURN 4/10]
[14:43:36.975] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:38.428] 2025-08-27 14:43:38,426 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:38.442] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"73a8f396-9afb-95e8-8432-4d7a29533f78"}, traceId: 213e042f17563202177346628e2622'}
[14:43:38.445] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:43:38.611] 2025-08-27 14:43:38,604 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:38.634] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3a17e1c1-1f4c-9dc5-b96e-f11a5ba2c8c2"}, traceId: 213e066c17563202184123112e7990'}
[14:43:38.634] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:43:40.697] 2025-08-27 14:43:40,668 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:41.334]   [EARLY_EXIT] No actions taken, continuing...
[14:43:41.335] 
[14:43:41.335] [TURN 5/10]
[14:43:41.390] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct2025-08-27 14:43:41,383 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:41.396] 
[14:43:41.492]   [INFO] Tool info request: data_processing_parser
[14:43:41.674] 
[14:43:41.677] [TURN 4/10]
[14:43:41.710] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:42.285] 2025-08-27 14:43:42,247 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:42.322] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f429e94f-d6c5-9a3c-8415-52525bf533d4"}, traceId: 213e066c17563202217763122e7990'}
[14:43:42.324] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:43:42.493] 2025-08-27 14:43:42,481 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:42.511] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5801afb7-c6a1-9b85-923b-a4c4acd9fddc"}, traceId: 213e042f17563202217686647e2622'}
[14:43:42.514] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:43:44.825] 2025-08-27 14:43:44,791 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:44.878] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6e616874-65f1-9c38-8dd9-9edfd7ee831c"}, traceId: 213e042f17563202243876650e2622'}
[14:43:44.888] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[14:43:45.383] 2025-08-27 14:43:45,364 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:45.488]   [EARLY_EXIT] No actions taken, continuing...
[14:43:45.493] 
[14:43:45.496] [TURN 5/10]
[14:43:45.497] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:46.286] 2025-08-27 14:43:46,225 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:46.372] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3b65cc4a-0545-907c-86f1-ebb5fd41cac5"}, traceId: 213e066c17563202258153131e7990'}
[14:43:46.376] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:43:48.431] 2025-08-27 14:43:48,377 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:48.479] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bb6cd9b8-f8ef-9624-a86c-c782eb54569e"}, traceId: 213e042f17563202274056662e2622'}
[14:43:48.789] [RETRY] 400 error detected, waiting 3.0s before retry (not counting as turn)...
[14:43:49.497] 2025-08-27 14:43:49,477 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:50.152]   [EARLY_EXIT] No actions taken, continuing...
[14:43:50.172] 
[14:43:50.172] [TURN 6/10]
[14:43:50.198] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:51.580] 2025-08-27 14:43:51,539 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:51.685]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:43:51.687] 
[14:43:51.690] [TURN 7/10]
[14:43:51.692] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:53.100] 2025-08-27 14:43:53,056 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:53.138] 2025-08-27 14:43:53,035 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:43:53.268] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6b52ebc4-a1aa-941b-9e41-8c31f88d2bc2"}, traceId: 213e042f17563202318986675e2622'}
[14:43:53.269] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[14:43:53.269]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:43:53.269] 
[14:43:53.269] [TURN 8/10]
[14:43:53.269] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:43:54.407] 2025-08-27 14:43:54,359 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:54.453] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2ad63005-594e-97f1-9944-0dcefa68bed0"}, traceId: 213e066c17563202334923150e7990'}
[14:43:54.458] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[14:43:56.559] 2025-08-27 14:43:56,527 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:56.567] 2025-08-27 14:43:56,532 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:43:56.567] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8d803aaf-2b04-96d2-8651-68760a995b37"}, traceId: 213e066c17563202356153152e7990'}[LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7ca10219-0de1-9e17-b7d6-5ffff5e64417"}, traceId: 213e042f17563202356186683e2622'}
[14:43:56.575] [ERROR] Max retries reached after 5 attempts
[14:43:56.576] [API_FAILURE] All retries exhausted
[14:43:56.576]   [API_FAILURE] API failed (timeout or max retries)
[14:43:56.576] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:43:56.576] 
[14:43:57.638] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:43:57.646] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:43:57.649] [AI_DEBUG] 生成的txt_content长度: 14465
[14:43:57.649] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:43:57.649]   - use_ai_classification=True
[14:43:57.675]   - ai_classifier=True
[14:43:57.677]   - txt_content_len=14465
[14:43:57.677]   - task_model=qwen2.5-72b-instruct
[14:43:57.682] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:43:57.709] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:43:58.306] 2025-08-27 14:43:58,282 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:43:58.316] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:43:58.316] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:43:58.317] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:43:58.320] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:43:58.320] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:43:58.344] 2025-08-27 14:43:58,344 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:43:59.668] 2025-08-27 14:43:59,553 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:02.923]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[14:44:03.544] 
[14:44:03.685] [TURN 9/10]
[14:44:03.685] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:03.858] 2025-08-27 14:44:03,823 - mcp_embedding_manager - INFO - FAISS index loaded
[14:44:04.093] 2025-08-27 14:44:03,866 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:44:04.093] 2025-08-27 14:44:03,866 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:44:05.550] [INFO] Tool embedding index loaded successfully
[14:44:05.934] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:44:06.081] [INFO] Operation semantic index initialized
[14:44:06.286] 2025-08-27 14:44:06,285 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:06.333] 
[14:44:06.333] [TURN 1/10]
[14:44:06.662] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"41f36a9d-9b54-9b1d-8793-bf859833c717"}, traceId: 213e066c17563202434463171e7990'}
[14:44:06.682] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:44:07.273] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:07.452] 2025-08-27 14:44:07,451 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:44:07.530] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.72
[14:44:08.451] 2025-08-27 14:44:08,450 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:08.525] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"51bf967e-c6f5-9aa9-a914-6f5fcb87c110"}, traceId: 213e066c17563202482743187e7990'}
[14:44:08.762] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:44:08.966] 2025-08-27 14:44:08,966 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:08.972]   [SEARCH] Query: file reader
[14:44:09.238] 
[14:44:09.316] [TURN 2/10]
[14:44:09.316] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:10.225] 2025-08-27 14:44:10,223 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:10.545] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e159f36d-42f5-957b-8b19-4a90d44ff0c1"}, traceId: 213e006817563202495178096ee49a'}
[14:44:10.912] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:44:10.912] 2025-08-27 14:44:10,375 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:10.912]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[14:44:10.912] 
[14:44:10.912] [TURN 10/10]
[14:44:10.912] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:11.406] 2025-08-27 14:44:11,405 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:11.681] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"21f7b24e-8ee5-9c9d-a431-62c2a62dbdf2"}, traceId: 213e066c17563202506763197e7990'}
[14:44:11.690] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:44:12.292] 2025-08-27 14:44:12,292 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:12.340] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"269a1f60-0f1d-992f-bce1-fe1fa06e8fcd"}, traceId: 213e006817563202515168102ee49a'}
[14:44:12.340] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[14:44:15.194] 2025-08-27 14:44:15,165 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:15.235] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bb6d6e9a-391b-907b-8dcc-0ebad81af21a"}, traceId: 213e066c17563202536053209e7990'}
[14:44:15.248] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[14:44:16.324] 2025-08-27 14:44:16,320 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:16.362] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"02eff6b1-0be6-9281-8e79-728a09815a9d"}, traceId: 213e006817563202554798113ee49a'}
[14:44:16.372] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[14:44:18.536] 2025-08-27 14:44:18,534 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:18.563] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"73f0fd8b-20e3-9f92-a585-ef7e5b2f8ec7"}, traceId: 213e066c17563202578473218e7990'}
[14:44:18.571] [RETRY] 400 error detected, waiting 2.7s before retry (not counting as turn)...
[14:44:19.425] 2025-08-27 14:44:19,395 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:19.461] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8028876b-02af-95fe-b8dc-a1dcd5c108ad"}, traceId: 213e006817563202586558120ee49a'}
[14:44:19.461] [RETRY] 400 error detected, waiting 3.1s before retry (not counting as turn)...
[14:44:22.640] 2025-08-27 14:44:22,579 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:22.718] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"718e57eb-aa67-9104-8cf0-1efef4dedb6a"}, traceId: 213e066c17563202622003226e7990'}
[14:44:22.729] [RETRY] 400 error detected, waiting 3.7s before retry (not counting as turn)...
[14:44:23.642] 2025-08-27 14:44:23,637 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:23.733] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"832cfca0-dfda-9c08-876b-b9e06a2d5a19"}, traceId: 213e006817563202629258137ee49a'}
[14:44:23.736] [ERROR] Max retries reached after 5 attempts
[14:44:23.737] [API_FAILURE] All retries exhausted
[14:44:23.737]   [API_FAILURE] API failed (timeout or max retries)
[14:44:24.499] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:44:24.501] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:44:24.501] [AI_DEBUG] 生成的txt_content长度: 12348
[14:44:24.501] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:44:24.501]   - use_ai_classification=True
[14:44:24.501]   - ai_classifier=True
[14:44:24.501]   - txt_content_len=12348
[14:44:24.501]   - task_model=qwen2.5-72b-instruct
[14:44:24.501] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:44:24.644] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:44:25.242] 2025-08-27 14:44:25,240 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:44:25.245] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:44:25.245] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:44:25.245] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:44:25.250] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:44:25.250] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:44:25.263] 2025-08-27 14:44:25,262 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:44:26.245] 2025-08-27 14:44:26,235 - mcp_embedding_manager - INFO - FAISS index loaded
[14:44:26.254] 2025-08-27 14:44:26,245 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:44:26.256] 2025-08-27 14:44:26,247 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:44:26.338] [INFO] Tool embedding index loaded successfully
[14:44:26.372] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:44:26.398] [INFO] Operation semantic index initialized
[14:44:26.680] 
[14:44:26.681] [TURN 1/10]
[14:44:26.728] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:28.247] 2025-08-27 14:44:28,182 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:28.369]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[14:44:28.381] [ASSISTED] Task received 5 format helps, final result: failure
[14:44:28.741] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:44:29.131] 2025-08-27 14:44:29,120 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:29.238]   [SEARCH] Query: file reader
[14:44:29.261] 2025-08-27 14:44:29,257 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:44:29.280] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:44:29.281] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:44:29.296] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:44:29.298] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:44:29.298] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:44:29.308] 
[14:44:29.308] [TURN 2/10]
[14:44:29.309] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:29.317] 2025-08-27 14:44:29,316 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:44:32.420] 2025-08-27 14:44:32,357 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:32.505] 2025-08-27 14:44:32,500 - mcp_embedding_manager - INFO - FAISS index loaded
[14:44:32.510] 2025-08-27 14:44:32,505 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:44:32.528] 2025-08-27 14:44:32,525 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:44:33.337] [INFO] Tool embedding index loaded successfully
[14:44:33.425] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:44:33.462] [INFO] Operation semantic index initialized
[14:44:33.624] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c1f2c0d0-9291-95ac-820d-c26b824d06c3"}, traceId: 213e065c17563202696842003e81e2'}
[14:44:33.658] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:44:33.703] 
[14:44:33.705] [TURN 1/10]
[14:44:34.311] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:35.369] 2025-08-27 14:44:35,340 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:44:35.498] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.72
[14:44:35.625] Progress: 10/50 (Success: 0)
[14:44:35.634] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:44:35.634] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:44:35.649] [AI_DEBUG] 生成的txt_content长度: 27200
[14:44:35.652] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:44:35.653]   - use_ai_classification=True
[14:44:35.655]   - ai_classifier=True
[14:44:35.655]   - txt_content_len=27200
[14:44:35.655]   - task_model=qwen2.5-72b-instruct
[14:44:35.655] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:44:37.144] 2025-08-27 14:44:37,125 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:37.272]   [EARLY_EXIT] No actions taken, continuing...
[14:44:37.278] 
[14:44:37.278] [TURN 3/10]
[14:44:37.283] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:38.605] 2025-08-27 14:44:38,595 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:38.608] 2025-08-27 14:44:38,593 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:38.683] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1bb43ba9-2961-97fe-80ec-490e6e2b3684"}, traceId: 213e065c17563202776402022e81e2'}
[14:44:38.700] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:44:38.721]   [SEARCH] Query: file reader
[14:44:38.738] 
[14:44:38.739] [TURN 2/10]
[14:44:38.752] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:40.126] 2025-08-27 14:44:40,065 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:40.279]   [EARLY_EXIT] No actions taken, continuing...
[14:44:40.282] 
[14:44:40.283] [TURN 3/10]
[14:44:40.283] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:41.380] 2025-08-27 14:44:41,330 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:41.535] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6e6bb6d2-79d7-959a-9849-ef131dc0fd7d"}, traceId: 213e065c17563202802262027e81e2'}
[14:44:41.544] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:44:41.608] 2025-08-27 14:44:41,597 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:41.624] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"dd12d22b-8c00-97fa-8c69-383383d4ca79"}, traceId: 213e065417563202807653605e8002'}
[14:44:41.625] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:44:43.020] 2025-08-27 14:44:42,987 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:44:43.217] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[14:44:44.798] 2025-08-27 14:44:44,742 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:44.816] 2025-08-27 14:44:44,719 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:45.075]   [EARLY_EXIT] No actions taken, continuing...  [EARLY_EXIT] No actions taken, continuing...
[14:44:45.088] 
[14:44:45.088] [TURN 4/10]
[14:44:45.089] 
[14:44:45.089] 
[14:44:45.091] [TURN 4/10]
[14:44:45.106] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:45.113] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:46.124] 2025-08-27 14:44:46,038 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:46.234] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f75f5b01-b3af-97d2-965e-4f4788b6f463"}, traceId: 213e065417563202855643616e8002'}
[14:44:46.247] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:44:46.302] 2025-08-27 14:44:46,297 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:46.315] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4ff6f436-dc4c-9681-845f-be55a22561ab"}, traceId: 213e065c17563202855292034e81e2'}
[14:44:46.316] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:44:48.460] 2025-08-27 14:44:48,448 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:48.498] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3d43c387-5058-9c58-a509-e420b224af90"}, traceId: 213e065c17563202880832038e81e2'}
[14:44:48.505] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:44:48.526] 2025-08-27 14:44:48,526 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:48.549]   [EARLY_EXIT] No actions taken, continuing...
[14:44:48.549] 
[14:44:48.549] [TURN 5/10]
[14:44:48.564] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:49.548] 2025-08-27 14:44:49,545 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:49.557] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3fd636a6-c0be-96d4-9ccf-9f25522c2d53"}, traceId: 213e065417563202888523624e8002'}
[14:44:49.557] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:44:50.492] 2025-08-27 14:44:50,474 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:50.580] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"51e45641-052c-9af5-9a41-9a2ca9cf873e"}, traceId: 213e065c17563202897602039e81e2'}
[14:44:50.581] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:44:51.973] 2025-08-27 14:44:51,867 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:52.627] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3e05c862-6c2b-9f9e-9b8f-291912e442eb"}, traceId: 213e065417563202908343633e8002'}
[14:44:52.643] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:44:53.609] 2025-08-27 14:44:53,608 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:53.613] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fd8cddf6-3c71-9b03-805c-621acc6b3e09"}, traceId: 213e065c17563202929322043e81e2'}
[14:44:53.716] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[14:44:54.792] 2025-08-27 14:44:54,792 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:54.812]   [EARLY_EXIT] No actions taken, continuing...
[14:44:54.812] 
[14:44:54.812] [TURN 6/10]
[14:44:54.834] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:55.835] 2025-08-27 14:44:55,835 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:55.873] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a2b08276-f2c0-9a48-89d7-d0619ec9f3b3"}, traceId: 213e065417563202950913646e8002'}
[14:44:55.895] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:44:56.925] 2025-08-27 14:44:56,925 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:44:56.955]   [EARLY_EXIT] No actions taken, continuing...
[14:44:56.959] 
[14:44:56.959] [TURN 5/10]
[14:44:56.962] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:44:57.447] 2025-08-27 14:44:57,446 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:57.447] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d70f6631-19b4-93c2-9e3a-02ca6a81f729"}, traceId: 213e065c17563202972222049e81e2'}
[14:44:57.447] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:44:57.779] 2025-08-27 14:44:57,778 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:57.787] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4c809bdb-8cee-9291-9b37-d2c805c66563"}, traceId: 213e065417563202975733651e8002'}
[14:44:57.787] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[14:44:59.347] 2025-08-27 14:44:59,341 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:59.370] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"86457e13-9fed-9ba1-9c35-602bd1493411"}, traceId: 213e065c17563202985532058e81e2'}
[14:44:59.370] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:44:59.888] 2025-08-27 14:44:59,887 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:44:59.896] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e7e25caf-b0ab-9200-a433-7d6fa3dccdb2"}, traceId: 213e065417563202997233657e8002'}
[14:44:59.896] [RETRY] 400 error detected, waiting 2.5s before retry (not counting as turn)...
[14:45:01.675] 2025-08-27 14:45:01,674 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:01.682] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ae485bbd-a6f8-928b-af0f-c9b7f84c1388"}, traceId: 213e065c17563203009422062e81e2'}
[14:45:01.682] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[14:45:02.992] 2025-08-27 14:45:02,985 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:03.086] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4f7e7e97-0d9c-9ff6-8325-7f03a17e01a2"}, traceId: 213e065417563203028003666e8002'}
[14:45:03.126] [RETRY] 400 error detected, waiting 4.6s before retry (not counting as turn)...
[14:45:04.037] 2025-08-27 14:45:04,033 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:04.256] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"335e9aef-b3fa-95c7-8df2-93f1bf23eb0f"}, traceId: 213e065c17563203038472070e81e2'}
[14:45:04.277] [RETRY] 400 error detected, waiting 4.9s before retry (not counting as turn)...
[14:45:09.276] 2025-08-27 14:45:09,272 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:09.465]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:45:09.465] 
[14:45:09.465] [TURN 7/10]
[14:45:09.485] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:10.414] 2025-08-27 14:45:10,361 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:10.513] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"51cbb40b-d650-9556-a2fd-5ff946229a14"}, traceId: 213e065417563203097483685e8002'}
[14:45:10.523] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[14:45:12.185] 2025-08-27 14:45:12,059 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:12.195] 2025-08-27 14:45:12,182 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:12.295] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"30991832-e2d1-9a91-a58d-4a931902d3b7"}, traceId: 213e065417563203118703691e8002'}
[14:45:12.308] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:45:12.330]   [EARLY_EXIT] No actions taken, continuing...
[14:45:12.335] 
[14:45:12.335] [TURN 6/10]
[14:45:12.340] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:13.327] 2025-08-27 14:45:13,288 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:13.420] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1be9aedd-aedc-943c-b89a-93b75bf99072"}, traceId: 213e066417563203126606366e8041'}
[14:45:13.429] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:45:15.189] 2025-08-27 14:45:15,172 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:15.212] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"87bcb490-9524-979a-8787-6ebf8106f2ca"}, traceId: 213e065417563203147603696e8002'}
[14:45:15.232] [RETRY] 400 error detected, waiting 2.5s before retry (not counting as turn)...
[14:45:16.146] 2025-08-27 14:45:16,097 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:16.251] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9bcfb91c-094d-921f-86a2-fc9168827f00"}, traceId: 213e066417563203154496379e8041'}
[14:45:16.255] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:45:18.927] 2025-08-27 14:45:18,918 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:18.930] 2025-08-27 14:45:18,913 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:18.962]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:45:18.963] 
[14:45:18.963] [TURN 8/10]
[14:45:18.967]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:45:18.968] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:18.977] 
[14:45:18.984] [TURN 7/10]
[14:45:18.994] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:19.725] 2025-08-27 14:45:19,686 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:19.799] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f9c35b9d-1dc1-9e50-8fb6-331ea421de05"}, traceId: 213e065417563203193353711e8002'}
[14:45:19.802] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:45:20.194] 2025-08-27 14:45:20,157 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:20.326] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"614cb25a-4f72-937b-90d2-80ffff3d96a5"}, traceId: 213e066417563203193316388e8041'}
[14:45:20.341] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:45:22.269] 2025-08-27 14:45:22,243 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:22.598] 2025-08-27 14:45:22,593 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:22.605] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5b1386ad-f1cf-95a2-aa3b-edcf05d9793d"}, traceId: 213e066417563203221716394e8041'}
[14:45:22.605] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:45:22.613] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9031567c-da7a-9c11-98ba-26980ed09b44"}, traceId: 213e065417563203213163715e8002'}
[14:45:22.613] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:45:24.897] 2025-08-27 14:45:24,862 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:24.918] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"29eb7fd6-13ac-9ba5-93bf-d0db8fef83eb"}, traceId: 213e065417563203244613722e8002'}
[14:45:24.920] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:45:25.036] 2025-08-27 14:45:25,036 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:25.130]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:45:25.136] 
[14:45:25.136] [TURN 8/10]
[14:45:25.136] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:25.961] 2025-08-27 14:45:25,915 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:26.072] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a4c6df4e-5c04-994a-87c4-46e1d3862c3b"}, traceId: 213e066417563203254816402e8041'}
[14:45:26.076] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:45:27.033] 2025-08-27 14:45:26,990 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:27.219] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"158814c6-c4d1-99b5-9904-22dfc2492e2e"}, traceId: 213e065417563203265293724e8002'}
[14:45:27.235] [RETRY] 400 error detected, waiting 2.3s before retry (not counting as turn)...
[14:45:27.894] 2025-08-27 14:45:27,867 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:27.998] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"15ef5928-c93d-9fc4-8cf7-d9995df632bc"}, traceId: 213e066417563203275046410e8041'}
[14:45:28.002] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:45:30.498] 2025-08-27 14:45:30,480 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:30.541] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"61f200f8-95e3-947a-b6cd-8ad1d4b0e9a4"}, traceId: 213e066417563203297336414e8041'}
[14:45:30.542] [RETRY] 400 error detected, waiting 2.8s before retry (not counting as turn)...
[14:45:30.543] 2025-08-27 14:45:30,519 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:30.544] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2e5c4a29-0620-90be-b0bb-3cceaae482ff"}, traceId: 213e065417563203298243736e8002'}
[14:45:30.544] [ERROR] Max retries reached after 5 attempts
[14:45:30.545] [API_FAILURE] All retries exhausted
[14:45:30.545]   [API_FAILURE] API failed (timeout or max retries)
[14:45:30.545] [ASSISTED] Task received 2 format helps, final result: failure
[14:45:31.252] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:45:31.257] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:45:31.259] [AI_DEBUG] 生成的txt_content长度: 17290
[14:45:31.262] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:45:31.278]   - use_ai_classification=True
[14:45:31.281]   - ai_classifier=True
[14:45:31.287]   - txt_content_len=17290
[14:45:31.287]   - task_model=qwen2.5-72b-instruct
[14:45:31.287] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:45:31.313] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:45:32.126] 2025-08-27 14:45:31,894 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:45:32.155] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:45:32.155] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:45:32.222] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:45:32.224] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:45:32.224] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:45:32.243] 2025-08-27 14:45:32,238 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:45:34.330] 2025-08-27 14:45:34,314 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:34.373] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4b3372e1-aa6f-9cfb-b4ad-874ae441788e"}, traceId: 213e066417563203336106427e8041'}
[14:45:34.374] [RETRY] 400 error detected, waiting 3.0s before retry (not counting as turn)...
[14:45:34.494] 2025-08-27 14:45:34,491 - mcp_embedding_manager - INFO - FAISS index loaded
[14:45:34.495] 2025-08-27 14:45:34,495 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:45:34.495] 2025-08-27 14:45:34,495 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:45:34.746] [INFO] Tool embedding index loaded successfully
[14:45:35.070] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:45:35.112] [INFO] Operation semantic index initialized
[14:45:35.181] 
[14:45:35.182] [TURN 1/10]
[14:45:35.203] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:37.845] 2025-08-27 14:45:37,831 - openai._base_client - INFO - Retrying request to /chat/completions in 0.393897 seconds
[14:45:38.442] 2025-08-27 14:45:38,430 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:38.496] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5f85fe90-b4c8-91fb-ba51-c4e8ccf04daf"}, traceId: 213e066417563203376916438e8041'}
[14:45:38.499] [ERROR] Max retries reached after 5 attempts
[14:45:38.499] [API_FAILURE] All retries exhausted
[14:45:38.507]   [API_FAILURE] API failed (timeout or max retries)
[14:45:38.549] [ASSISTED] Task received 2 format helps, final result: failure
[14:45:38.943] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:45:41.175] 2025-08-27 14:45:41,167 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:45:41.185] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:45:41.186] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:45:41.188] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:45:41.189] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:45:41.192] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:45:41.192] 2025-08-27 14:45:41,190 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:45:41.883] 2025-08-27 14:45:41,876 - mcp_embedding_manager - INFO - FAISS index loaded
[14:45:41.883] 2025-08-27 14:45:41,883 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:45:41.883] 2025-08-27 14:45:41,883 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:45:41.908] [INFO] Tool embedding index loaded successfully
[14:45:41.932] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:45:41.939] [INFO] Operation semantic index initialized
[14:45:41.978] 
[14:45:41.979] [TURN 1/10]
[14:45:41.983] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:45.259] 2025-08-27 14:45:45,199 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:45.271] 2025-08-27 14:45:45,191 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:45.356] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"62b5b679-24b3-96b9-a329-919d60aa5c5b"}, traceId: 213e06a017563203442371540e7992'}
[14:45:45.359] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:45:45.409]   [SEARCH] Query: file reader
[14:45:45.457] 
[14:45:45.458] [TURN 2/10]
[14:45:45.474] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:47.037] 2025-08-27 14:45:46,941 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:47.274] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1935a790-4fa8-9624-a726-54823b349bef"}, traceId: 213e064717563203457896057e88f7'}
[14:45:47.290] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:45:48.113] 2025-08-27 14:45:48,110 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:48.119] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9e530d41-0fcc-98b8-a2d9-4607ca9eba2e"}, traceId: 213e06a017563203474221548e7992'}
[14:45:48.133] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:45:49.499] 2025-08-27 14:45:49,480 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:49.553] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"87a5b7b0-2435-91a0-9965-2e029195d735"}, traceId: 213e064717563203487946064e88f7'}
[14:45:49.553] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:45:50.550] 2025-08-27 14:45:50,550 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:45:50.737] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[14:45:50.797] 2025-08-27 14:45:50,797 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:50.862] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"83068f29-389b-9cce-b097-0f44a43aed04"}, traceId: 213e064717563203505756074e88f7'}
[14:45:50.863] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[14:45:50.863] 2025-08-27 14:45:50,863 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:50.879]   [SEARCH] Query: file reader
[14:45:50.890] 
[14:45:50.890] [TURN 2/10]
[14:45:50.894] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:50.935] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:45:50.935] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:45:50.935] [AI_DEBUG] 生成的txt_content长度: 17259
[14:45:50.935] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:45:50.935]   - use_ai_classification=True
[14:45:50.935]   - ai_classifier=True
[14:45:50.935]   - txt_content_len=17259
[14:45:50.935]   - task_model=qwen2.5-72b-instruct
[14:45:50.935] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:45:51.913] 2025-08-27 14:45:51,913 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:51.945]   [EARLY_EXIT] No actions taken, continuing...
[14:45:51.945] 
[14:45:51.951] [TURN 3/10]
[14:45:51.951] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:52.753] 2025-08-27 14:45:52,753 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:52.757]   [EARLY_EXIT] No actions taken, continuing...
[14:45:52.757] 
[14:45:52.757] [TURN 4/10]
[14:45:52.760] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:53.040] 2025-08-27 14:45:53,039 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:53.052] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8d0ac938-d787-9fdf-b671-7505276c6edf"}, traceId: 213e064717563203528816079e88f7'}
[14:45:53.070] [RETRY] 400 error detected, waiting 4.4s before retry (not counting as turn)...
[14:45:53.804] 2025-08-27 14:45:53,804 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:53.811]   [EARLY_EXIT] No actions taken, continuing...
[14:45:53.811] 
[14:45:53.811] [TURN 5/10]
[14:45:53.812] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:55.210] 2025-08-27 14:45:55,209 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:55.238]   [EARLY_EXIT] No actions taken, continuing...
[14:45:55.425] 
[14:45:55.428] [TURN 6/10]
[14:45:55.433] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:56.416] 2025-08-27 14:45:56,412 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:56.424] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a8a334e4-6535-9aa7-afe2-106b776c4580"}, traceId: 213e06a017563203555011569e7992'}
[14:45:56.424] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[14:45:58.380] 2025-08-27 14:45:58,278 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:45:58.468] 2025-08-27 14:45:58,325 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:45:58.487] 2025-08-27 14:45:58,366 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:45:58.571] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"96aa2aa0-5452-9cd4-82f1-958e9914edb3"}, traceId: 213e064717563203577996101e88f7'}
[14:45:58.844] [ERROR] Max retries reached after 5 attempts
[14:45:58.848] [API_FAILURE] All retries exhausted
[14:45:58.848]   [API_FAILURE] API failed (timeout or max retries)
[14:45:58.854]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:45:58.854] 
[14:45:58.854] [TURN 7/10]
[14:45:58.854] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.82
[14:45:58.859] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:45:59.585] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:45:59.598] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:45:59.641] [AI_DEBUG] 生成的txt_content长度: 12348
[14:45:59.642] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:45:59.642]   - use_ai_classification=True
[14:45:59.642]   - ai_classifier=True
[14:45:59.642]   - txt_content_len=12348
[14:45:59.642]   - task_model=qwen2.5-72b-instruct
[14:45:59.642] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:46:00.062] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:46:00.987] 2025-08-27 14:46:00,905 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:01.225] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7395123f-5363-92dc-8252-58b837e21ce9"}, traceId: 213e06a017563203594091574e7992'}
[14:46:01.232] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:46:01.439] 2025-08-27 14:46:01,437 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:46:01.618] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:46:01.728] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:46:01.728] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:46:01.728] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:46:01.728] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:46:01.728] 2025-08-27 14:46:01,462 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:46:04.214] 2025-08-27 14:46:04,176 - mcp_embedding_manager - INFO - FAISS index loaded
[14:46:04.237] 2025-08-27 14:46:04,189 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:46:04.240] 2025-08-27 14:46:04,189 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:46:04.333] [INFO] Tool embedding index loaded successfully
[14:46:04.391] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:46:04.430] [INFO] Operation semantic index initialized
[14:46:04.497] 2025-08-27 14:46:04,492 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:04.522] 
[14:46:04.538] [TURN 1/10]
[14:46:04.542] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:46:04.690] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6c99625f-757e-9f6a-b0c8-9f5e8785edf8"}, traceId: 213e06a017563203636741583e7992'}
[14:46:04.690] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[14:46:07.379] 2025-08-27 14:46:07,348 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:07.428] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8745f226-8c89-9385-8746-600fa3340e98"}, traceId: 213e066c17563203665796858e7ada'}
[14:46:07.432] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:46:08.736] 2025-08-27 14:46:08,681 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:46:09.149] 2025-08-27 14:46:08,676 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:09.325] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ebf5b6d4-e735-9c0d-8f35-710b738c9067"}, traceId: 213e06a017563203675021588e7992'}
[14:46:09.669] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:46:10.040] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.7
[14:46:11.174] 2025-08-27 14:46:11,164 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:11.246] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c6589a3b-a913-9e0e-9536-d0a5cd195739"}, traceId: 213e066c17563203696036862e7ada'}
[14:46:11.371] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[14:46:12.191] 2025-08-27 14:46:12,168 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:46:12.325]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:46:12.335] 
[14:46:12.335] [TURN 8/10]
[14:46:12.337] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:46:13.583] 2025-08-27 14:46:13,566 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:13.982] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bb9e4791-2173-9e82-a138-d95ecac208c8"}, traceId: 213e06a017563203726701599e7992'}
[14:46:14.002] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:46:14.738] 2025-08-27 14:46:14,699 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:46:15.149]   [SEARCH] Query: file reader
[14:46:15.154] 
[14:46:15.155] [TURN 2/10]
[14:46:15.157] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:46:16.440] 2025-08-27 14:46:16,407 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:16.457] 2025-08-27 14:46:16,412 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:16.542] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3514f962-a7b4-9a02-9555-6c28d9898a0c"}, traceId: 213e066c17563203754236883e7ada'}[LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ee30ca41-7326-906c-b111-6407502a75b2"}, traceId: 213e06a017563203752601609e7992'}
[14:46:16.549] 
[14:46:16.549] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:46:16.551] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:46:18.894] 2025-08-27 14:46:18,837 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:18.921] 2025-08-27 14:46:18,824 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:19.051] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a129e750-a6b7-9669-90ff-a55f2e05d59c"}, traceId: 213e066c17563203779226892e7ada'}[LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a3ddadfa-3c41-9db7-9e26-a58953ed1ecb"}, traceId: 213e06a017563203778921618e7992'}
[14:46:19.110] 
[14:46:19.111] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[14:46:19.111] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[14:46:23.653] 2025-08-27 14:46:23,522 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:23.688] 2025-08-27 14:46:23,529 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:23.816] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f7d1764c-5ab0-962a-b12e-60e4ec615030"}, traceId: 213e066c17563203822956899e7ada'}[LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6940ff7f-a5f9-9214-b869-4e4771d5e505"}, traceId: 213e06a017563203823081628e7992'}
[14:46:23.831] 
[14:46:23.835] [RETRY] 400 error detected, waiting 2.8s before retry (not counting as turn)...
[14:46:23.839] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[14:46:26.944] 2025-08-27 14:46:26,942 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:26.963] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7229794f-5d15-97dd-a6f6-10550beeb518"}, traceId: 213e066c17563203862526913e7ada'}
[14:46:26.968] [RETRY] 400 error detected, waiting 3.9s before retry (not counting as turn)...
[14:46:27.685] 2025-08-27 14:46:27,677 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:46:27.862]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[14:46:27.863] 
[14:46:27.863] [TURN 9/10]
[14:46:27.939] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:46:29.115] 2025-08-27 14:46:29,109 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:46:29.138]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[14:46:29.140] 
[14:46:29.140] [TURN 10/10]
[14:46:29.147] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:46:30.342] 2025-08-27 14:46:30,324 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:30.660] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"72fdc6d9-e2f6-906b-8736-a0e6e25b9659"}, traceId: 213e06a017563203894481643e7992'}
[14:46:30.676] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:46:32.016] 2025-08-27 14:46:32,010 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:32.050] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1e15397b-95cc-95a2-bdc6-4943753ef9b2"}, traceId: 213e066c17563203912846923e7ada'}
[14:46:32.050] [ERROR] Max retries reached after 5 attempts
[14:46:32.050] [API_FAILURE] All retries exhausted
[14:46:32.050]   [API_FAILURE] API failed (timeout or max retries)
[14:46:32.348] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:46:32.351] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:46:32.353] [AI_DEBUG] 生成的txt_content长度: 12317
[14:46:32.354] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:46:32.354]   - use_ai_classification=True
[14:46:32.354]   - ai_classifier=True
[14:46:32.354]   - txt_content_len=12317
[14:46:32.354]   - task_model=qwen2.5-72b-instruct
[14:46:32.354] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:46:32.427] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:46:32.728] 2025-08-27 14:46:32,725 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:46:32.760]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[14:46:32.764] [ASSISTED] Task received 5 format helps, final result: failure
[14:46:32.832] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:46:39.720] 2025-08-27 14:46:39,697 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:46:39.722] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:46:39.724] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:46:39.724] 2025-08-27 14:46:39,704 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:46:39.725] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:46:39.725] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:46:39.736] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:46:39.745] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:46:39.751] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:46:39.751] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:46:39.751] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:46:39.760] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:46:39.760] 2025-08-27 14:46:39,760 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:46:39.761] 2025-08-27 14:46:39,760 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:46:45.655] 2025-08-27 14:46:45,598 - mcp_embedding_manager - INFO - FAISS index loaded
[14:46:45.663] 2025-08-27 14:46:45,619 - mcp_embedding_manager - INFO - FAISS index loaded
[14:46:45.663] 2025-08-27 14:46:45,648 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:46:45.663] 2025-08-27 14:46:45,652 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:46:45.663] 2025-08-27 14:46:45,655 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:46:46.868] [INFO] Tool embedding index loaded successfully
[14:46:46.970] 2025-08-27 14:46:45,656 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:46:48.331] [INFO] Tool embedding index loaded successfully
[14:46:48.566] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json[INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:46:48.572] 
[14:46:48.597] [INFO] Operation semantic index initialized[INFO] Operation semantic index initialized
[14:46:48.615] 
[14:46:48.697] 
[14:46:48.697] [TURN 1/10]
[14:46:48.699] 
[14:46:48.699] [TURN 1/10]
[14:46:48.707] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:46:48.731] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:46:53.574] 2025-08-27 14:46:53,525 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:46:54.406] 2025-08-27 14:46:54,367 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:54.417] 2025-08-27 14:46:54,360 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:55.167] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8554ec23-b593-9fee-8b87-ece2d933c524"}, traceId: 2150459f17563204136097002e7f97'}
[14:46:55.190] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5bd21386-05a7-9f41-be02-9b45ee1b1ec7"}, traceId: 2150456317563204136047136e7f04'}
[14:46:55.195] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[14:46:55.196] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:46:55.271] [AI_DEBUG] AI分类结果: category=other_errors, confidence=0.75
[14:46:55.399] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:46:55.408] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:46:55.414] [AI_DEBUG] 生成的txt_content长度: 23577
[14:46:55.414] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:46:55.414]   - use_ai_classification=True
[14:46:55.414]   - ai_classifier=True
[14:46:55.414]   - txt_content_len=23577
[14:46:55.414]   - task_model=qwen2.5-72b-instruct
[14:46:55.414] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:46:57.708] 2025-08-27 14:46:57,671 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:57.714] 2025-08-27 14:46:57,663 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:46:57.775] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"eb0931d0-2b1c-981b-9d7d-6817dd4ffed5"}, traceId: 2150459f17563204168067005e7f97'}[LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"26f408f3-cbaf-955b-bcdc-1a35a3b12a7b"}, traceId: 2150456317563204167937141e7f04'}
[14:46:57.779] 
[14:46:57.785] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:46:57.786] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[14:46:59.814] 2025-08-27 14:46:59,786 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:00.259] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a694ef69-424c-9e13-993e-658e753178ad"}, traceId: 2150456317563204194347148e7f04'}
[14:47:00.261] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:47:01.272] 2025-08-27 14:47:01,209 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:01.331] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e7b0e864-6efe-945c-b373-f223b2eca2e6"}, traceId: 2150459f17563204202807013e7f97'}
[14:47:01.335] [RETRY] 400 error detected, waiting 3.3s before retry (not counting as turn)...
[14:47:02.476] 2025-08-27 14:47:02,436 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:02.553] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"74ba085e-9abb-9475-a6ea-5d7a0254be38"}, traceId: 2150456317563204215967154e7f04'}
[14:47:02.555] [RETRY] 400 error detected, waiting 4.4s before retry (not counting as turn)...
[14:47:03.213] 2025-08-27 14:47:03,209 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:47:03.245] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[14:47:06.170] 2025-08-27 14:47:06,151 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:06.225] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6295ac8a-3c74-9366-a6e3-ce8498b36334"}, traceId: 2150459f17563204252247018e7f97'}
[14:47:06.227] [RETRY] 400 error detected, waiting 2.7s before retry (not counting as turn)...
[14:47:08.451] 2025-08-27 14:47:08,427 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:08.480] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"76f159e1-e40f-9958-95a1-f74221196c84"}, traceId: 2150456317563204275617169e7f04'}
[14:47:08.482] [ERROR] Max retries reached after 5 attempts
[14:47:08.483] [API_FAILURE] All retries exhausted
[14:47:08.486]   [API_FAILURE] API failed (timeout or max retries)
[14:47:09.438] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:47:09.446] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:47:09.460] [AI_DEBUG] 生成的txt_content长度: 4409
[14:47:09.461] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:47:09.461]   - use_ai_classification=True
[14:47:09.461]   - ai_classifier=True
[14:47:09.461]   - txt_content_len=4409
[14:47:09.461]   - task_model=qwen2.5-72b-instruct
[14:47:09.461] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:47:09.656] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:47:10.640] 2025-08-27 14:47:10,627 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:10.754] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0113e680-4ba6-9388-ada7-b3e9b7508824"}, traceId: 2150459f17563204298537030e7f97'}
[14:47:10.754] [ERROR] Max retries reached after 5 attempts
[14:47:10.754] [API_FAILURE] All retries exhausted
[14:47:10.766]   [API_FAILURE] API failed (timeout or max retries)
[14:47:10.827] 2025-08-27 14:47:10,813 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:47:10.831] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:47:10.831] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:47:10.864] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:47:10.865] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:47:10.865] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:47:10.877] 2025-08-27 14:47:10,877 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:47:11.153] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:47:12.427] 2025-08-27 14:47:12,369 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:47:12.434] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:47:12.434] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:47:12.556] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:47:12.558] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:47:12.558] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:47:12.577] 2025-08-27 14:47:12,577 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:47:17.357] 2025-08-27 14:47:17,341 - mcp_embedding_manager - INFO - FAISS index loaded
[14:47:17.361] 2025-08-27 14:47:17,357 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:47:17.361] 2025-08-27 14:47:17,357 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:47:17.382] [INFO] Tool embedding index loaded successfully
[14:47:17.428] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:47:17.456] 2025-08-27 14:47:17,456 - mcp_embedding_manager - INFO - FAISS index loaded
[14:47:17.456] 2025-08-27 14:47:17,456 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:47:17.456] 2025-08-27 14:47:17,456 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:47:17.490] [INFO] Tool embedding index loaded successfully
[14:47:17.491] [INFO] Operation semantic index initialized
[14:47:17.538] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:47:17.538] 
[14:47:17.538] [TURN 1/10]
[14:47:17.538] [INFO] Operation semantic index initialized
[14:47:17.543] 
[14:47:17.543] [TURN 1/10]
[14:47:17.551] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:47:17.589] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:47:20.668] 2025-08-27 14:47:20,667 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:20.727] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4a6ab211-5fc9-90eb-a379-93d375b80582"}, traceId: 2150417517563204404502774ee0c0'}
[14:47:20.728] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[14:47:21.116] 2025-08-27 14:47:21,116 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:21.116] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b5c6446c-94df-9a3c-ac50-291a3564a32f"}, traceId: 2150417517563204404432673edffa'}
[14:47:21.116] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[14:47:22.270] 2025-08-27 14:47:22,270 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:22.271] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a84b2165-8e7c-937a-96e2-7e5e05d1b179"}, traceId: 2150417517563204415852776ee0c0'}
[14:47:22.271] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[14:47:22.599] 2025-08-27 14:47:22,599 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:22.601] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9eca329b-49fe-9cdc-b33c-2e55cb1b6fd7"}, traceId: 2150417517563204419182678edffa'}
[14:47:22.601] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:47:24.033] 2025-08-27 14:47:24,022 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:24.060] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"28f14f21-afe6-9a52-9aa5-ae8ff398dc90"}, traceId: 2150417517563204437992682edffa'}
[14:47:24.062] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[14:47:25.293] 2025-08-27 14:47:25,292 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:47:25.562]   [SEARCH] Query: file reader
[14:47:25.699] 
[14:47:25.699] [TURN 2/10]
[14:47:25.777] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:47:26.829] 2025-08-27 14:47:26,810 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:26.836] 2025-08-27 14:47:26,831 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:47:26.939] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0453f9b0-6d80-996f-832a-f8b7296aa07c"}, traceId: 2150417517563204464152685edffa'}
[14:47:26.942] [RETRY] 400 error detected, waiting 2.9s before retry (not counting as turn)...
[14:47:27.069]   [EARLY_EXIT] No actions taken, continuing...
[14:47:27.069] 
[14:47:27.069] [TURN 3/10]
[14:47:27.106] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:47:27.178] 2025-08-27 14:47:27,165 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:47:27.234] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.72
[14:47:27.284] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:47:27.285] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:47:27.287] [AI_DEBUG] 生成的txt_content长度: 4407
[14:47:27.287] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:47:27.312]   - use_ai_classification=True
[14:47:27.313]   - ai_classifier=True
[14:47:27.313]   - txt_content_len=4407
[14:47:27.313]   - task_model=qwen2.5-72b-instruct
[14:47:27.313] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:47:28.139] 2025-08-27 14:47:28,090 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:28.273] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"dfa96534-4350-9bcf-a658-a3f39ac9512a"}, traceId: 2150417517563204474702786ee0c0'}
[14:47:28.279] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[14:47:30.274] 2025-08-27 14:47:30,261 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:30.334] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2fbd886a-6a19-96e9-b68e-d0a8a0ee0013"}, traceId: 2150417517563204494762791ee0c0'}
[14:47:30.342] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[14:47:30.945] 2025-08-27 14:47:30,888 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:31.190] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f0c31e35-10d6-946c-802c-9633134cb1f9"}, traceId: 2150417517563204504802691edffa'}
[14:47:31.195] [ERROR] Max retries reached after 5 attempts
[14:47:31.196] [API_FAILURE] All retries exhausted
[14:47:31.200]   [API_FAILURE] API failed (timeout or max retries)
[14:47:32.154] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:47:34.722] 2025-08-27 14:47:34,635 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:47:34.755] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:47:34.756] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:47:35.021] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:47:35.128] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:47:35.128] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:47:35.128] 2025-08-27 14:47:35,049 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:47:35.128] 2025-08-27 14:47:35,056 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:47:35.483] [AI_DEBUG] AI分类结果: category=other_errors, confidence=0.72
[14:47:35.544] 2025-08-27 14:47:35,542 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:35.601] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"17e40a09-05cb-9e3c-83d9-9f0482a3d028"}, traceId: 2150417517563204552192805ee0c0'}
[14:47:35.601] [RETRY] 400 error detected, waiting 3.2s before retry (not counting as turn)...
[14:47:35.602] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:47:35.602] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:47:35.602] [AI_DEBUG] 生成的txt_content长度: 4437
[14:47:35.602] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:47:35.602]   - use_ai_classification=True
[14:47:35.608]   - ai_classifier=True
[14:47:35.608]   - txt_content_len=4437
[14:47:35.608]   - task_model=qwen2.5-72b-instruct
[14:47:35.608] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:47:36.751] 2025-08-27 14:47:36,725 - mcp_embedding_manager - INFO - FAISS index loaded
[14:47:36.769] 2025-08-27 14:47:36,729 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:47:36.772] 2025-08-27 14:47:36,729 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:47:36.783] [INFO] Tool embedding index loaded successfully
[14:47:36.806] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:47:36.812] [INFO] Operation semantic index initialized
[14:47:36.827] 
[14:47:36.827] [TURN 1/10]
[14:47:36.831] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:47:39.288] 2025-08-27 14:47:39,253 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:47:40.135]   [SEARCH] Query: file reader json
[14:47:41.305] 
[14:47:41.351] [TURN 2/10]
[14:47:42.154] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:47:42.306] 2025-08-27 14:47:42,250 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:42.476] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"004f0be5-39a8-9d39-a097-74b46b31aeba"}, traceId: 2150417517563204596832819ee0c0'}
[14:47:42.486] [RETRY] 400 error detected, waiting 3.2s before retry (not counting as turn)...
[14:47:43.179] 2025-08-27 14:47:43,158 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:43.212] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"642b4e73-f47f-91a3-9387-38cf07904a40"}, traceId: 2150415c17563204627176384eebad'}
[14:47:43.213] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[14:47:43.715] 2025-08-27 14:47:43,668 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:47:44.272] [AI_DEBUG] AI分类结果: category=tool_selection_errors, confidence=0.72
[14:47:46.530] 2025-08-27 14:47:46,517 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:46.575] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6afce585-1098-9217-8326-60f4f291e83d"}, traceId: 2150415c17563204657056393eebad'}
[14:47:46.586] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:47:47.460] 2025-08-27 14:47:47,419 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:47:47.549]   [EARLY_EXIT] No actions taken, continuing...
[14:47:47.555] 
[14:47:47.557] [TURN 4/10]
[14:47:47.557] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:47:48.253] 2025-08-27 14:47:48,200 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:48.308] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9d161a0a-8d44-9212-9705-98f587bc8969"}, traceId: 2150417517563204678302839ee0c0'}
[14:47:48.310] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:47:48.550] 2025-08-27 14:47:48,550 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:48.560] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f066e401-b789-9eac-8f8a-d9e9b67bbfaf"}, traceId: 2150415c17563204678536400eebad'}
[14:47:48.561] [RETRY] 400 error detected, waiting 3.2s before retry (not counting as turn)...
[14:47:50.021] 2025-08-27 14:47:50,013 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:50.036] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"87abe8db-4496-9d41-b518-f7a51792d55d"}, traceId: 2150417517563204698132845ee0c0'}
[14:47:50.039] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:47:52.609] 2025-08-27 14:47:52,559 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:52.629] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"94824cd6-484e-99a2-bcd4-54a56ab988b4"}, traceId: 2150417517563204718472854ee0c0'}
[14:47:52.632] [RETRY] 400 error detected, waiting 2.3s before retry (not counting as turn)...
[14:47:52.901] 2025-08-27 14:47:52,895 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:47:53.144]   [EARLY_EXIT] No actions taken, continuing...
[14:47:53.162] 
[14:47:53.163] [TURN 3/10]
[14:47:53.163] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:47:54.367] 2025-08-27 14:47:54,254 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:55.416] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c2d862fd-54cb-9e79-80df-ce02a06f45d9"}, traceId: 2150415c17563204733146409eebad'}
[14:47:55.535] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:47:57.311] 2025-08-27 14:47:57,270 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:57.337] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1a2dd284-019b-9f91-bfab-e7fc9ba810ff"}, traceId: 2150417517563204765122864ee0c0'}
[14:47:57.338] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[14:47:58.647] 2025-08-27 14:47:58,641 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:47:58.671] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2d4192e4-f56d-9ade-8081-070c2e550f4a"}, traceId: 2150415c17563204775196423eebad'}
[14:47:58.673] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:48:00.577] 2025-08-27 14:48:00,555 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:00.599] 2025-08-27 14:48:00,553 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:00.636] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bc155e47-fb4f-920e-9bdf-5c77222dd522"}, traceId: 2150417517563204797852871ee0c0'}
[14:48:00.638] [ERROR] Max retries reached after 5 attempts
[14:48:00.641] [API_FAILURE] All retries exhausted
[14:48:00.641] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d948f575-89fe-9cd0-a47a-5427de64d8c2"}, traceId: 2150415c17563204798426426eebad'}
[14:48:00.660] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[14:48:00.660]   [API_FAILURE] API failed (timeout or max retries)
[14:48:00.830] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:48:00.839] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:48:00.848] [AI_DEBUG] 生成的txt_content长度: 12674
[14:48:00.848] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:48:00.849]   - use_ai_classification=True
[14:48:00.849]   - ai_classifier=True
[14:48:00.849]   - txt_content_len=12674
[14:48:00.849]   - task_model=qwen2.5-72b-instruct
[14:48:00.849] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:48:00.968] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:48:03.919] 2025-08-27 14:48:03,869 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:48:04.034]   [EARLY_EXIT] No actions taken, continuing...
[14:48:04.034] 
[14:48:04.034] [TURN 4/10]
[14:48:04.043] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:48:04.471] 2025-08-27 14:48:04,470 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:04.480] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"86c740af-afab-9773-9f92-737e51cb9af0"}, traceId: 2150415c17563204842976441eebad'}
[14:48:04.480] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:48:05.061] 2025-08-27 14:48:05,061 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:48:05.061] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:48:05.061] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:48:05.061] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:48:05.061] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:48:05.061] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:48:05.082] 2025-08-27 14:48:05,082 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:48:06.965] 2025-08-27 14:48:06,965 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:07.125] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2664b2c7-7829-97d4-be47-fc9dab1a547d"}, traceId: 2150415c17563204861726447eebad'}
[14:48:07.134] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:48:08.148] 2025-08-27 14:48:08,148 - mcp_embedding_manager - INFO - FAISS index loaded
[14:48:08.160] 2025-08-27 14:48:08,152 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:48:08.160] 2025-08-27 14:48:08,152 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:48:08.172] [INFO] Tool embedding index loaded successfully
[14:48:08.205] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:48:08.248] [INFO] Operation semantic index initialized
[14:48:08.404] 
[14:48:08.404] [TURN 1/10]
[14:48:08.404] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:48:09.106] 2025-08-27 14:48:09,106 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:09.112] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bc703716-3904-9b9e-bc0c-398c96111b38"}, traceId: 2150415c17563204884246456eebad'}
[14:48:09.112] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:48:11.872] 2025-08-27 14:48:11,871 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:48:12.407]   [EARLY_EXIT] No actions taken, continuing...
[14:48:12.407] 
[14:48:12.407] [TURN 5/10]
[14:48:12.492] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:48:13.555] 2025-08-27 14:48:13,552 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:13.564] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c914e3f8-07bd-9f1b-8c18-009d126a9b93"}, traceId: 2150415c17563204928896474eebad'}
[14:48:13.564] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[14:48:13.564] 2025-08-27 14:48:13,556 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:13.564] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"06f6ed10-8dfb-9bc1-8540-bfc75abb0613"}, traceId: 2150454117563204934008511e7aac'}
[14:48:13.564] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:48:14.565] 2025-08-27 14:48:14,565 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:14.567] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"316e7c39-51bd-9715-8d2b-5742b04a6d1f"}, traceId: 2150415c17563204943966479eebad'}
[14:48:14.569] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[14:48:14.830] 2025-08-27 14:48:14,830 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:14.833] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d4d0b927-84a2-9f62-b67d-93652960ced5"}, traceId: 2150454117563204946578515e7aac'}
[14:48:14.834] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[14:48:18.099] 2025-08-27 14:48:18,038 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:18.145] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e3a2487e-0f84-9418-9c00-44e3c3bb2471"}, traceId: 2150454117563204978168519e7aac'}
[14:48:18.171] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[14:48:18.652] 2025-08-27 14:48:18,649 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:18.750] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5eca69bf-4e3b-9698-8096-e7a3d334df92"}, traceId: 2150415c17563204978116483eebad'}
[14:48:18.767] [RETRY] 400 error detected, waiting 2.4s before retry (not counting as turn)...
[14:48:19.819] 2025-08-27 14:48:19,801 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:48:20.326] [AI_DEBUG] AI分类结果: category=other_errors, confidence=0.72
[14:48:20.453] 💾 智能Checkpoint: 保存20个结果...
[14:48:20.453]    触发原因: 数量=20, 时间=0.0s, 强制=False
[14:48:20.653] 2025-08-27 14:48:20,647 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320500547119.json
[14:48:20.710] 2025-08-27 14:48:20,709 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320500666486.json
[14:48:20.749] 2025-08-27 14:48:20,749 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320500725148.json
[14:48:20.805] 2025-08-27 14:48:20,805 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320500749721.json
[14:48:20.822] 2025-08-27 14:48:20,821 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320500808379.json
[14:48:21.414] 2025-08-27 14:48:21,398 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320500824836.json
[14:48:21.416] 2025-08-27 14:48:21,416 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501413808.json
[14:48:21.436] 2025-08-27 14:48:21,434 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501420773.json
[14:48:21.470] 2025-08-27 14:48:21,470 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501436935.json
[14:48:21.481] 2025-08-27 14:48:21,478 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501470610.json
[14:48:21.533] 2025-08-27 14:48:21,529 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501491425.json
[14:48:21.541] 2025-08-27 14:48:21,541 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501533676.json
[14:48:21.553] 2025-08-27 14:48:21,550 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501543744.json
[14:48:21.560] 2025-08-27 14:48:21,560 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501557175.json
[14:48:21.563] 2025-08-27 14:48:21,562 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501560583.json
[14:48:21.578] 2025-08-27 14:48:21,575 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501568842.json
[14:48:21.587] 2025-08-27 14:48:21,586 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501577690.json
[14:48:21.943] 2025-08-27 14:48:21,930 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:48:22.294]   [SEARCH] Query: file reader
[14:48:22.326] 2025-08-27 14:48:22,308 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320501594868.json
[14:48:22.327] 
[14:48:22.328] [TURN 2/10]
[14:48:22.850] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:48:23.312] 2025-08-27 14:48:23,310 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320502678906.json
[14:48:23.791] 2025-08-27 14:48:23,770 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320503312296.json
[14:48:23.805] ✅ Checkpoint完成: 成功保存 20/20 个结果
[14:48:23.872] 2025-08-27 14:48:23,872 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:23.883] Progress: 20/50 (Success: 0)
[14:48:24.173] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f38201ca-aacb-9de0-8a22-d07fb07162c9"}, traceId: 2150415c17563205016476489eebad'}
[14:48:24.208] [RETRY] 400 error detected, waiting 4.5s before retry (not counting as turn)...
[14:48:24.950] 2025-08-27 14:48:24,938 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:24.963] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b465ce3e-a944-9cbb-8350-ef89bf12d710"}, traceId: 2150454117563205044738532e7aac'}
[14:48:24.964] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:48:27.560] 2025-08-27 14:48:27,528 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:27.611] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"02291469-c977-91eb-ba91-07bdfd76f561"}, traceId: 2150454117563205067278533e7aac'}
[14:48:27.619] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[14:48:30.495] 2025-08-27 14:48:30,453 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:48:30.692]   [EARLY_EXIT] No actions taken, continuing...
[14:48:30.692] 
[14:48:30.692] [TURN 6/10]
[14:48:30.693] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:48:31.623] 2025-08-27 14:48:31,599 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:31.808] 2025-08-27 14:48:31,604 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:31.808] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"dddf6277-3b3c-9d69-8bc5-4d4afff845c0"}, traceId: 2150415c17563205108996508eebad'}
[14:48:31.808] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"033b39bf-fbc4-9291-8bad-44d8fc273a36"}, traceId: 2150454117563205107858542e7aac'}
[14:48:31.808] [RETRY] 400 error detected, waiting 3.0s before retry (not counting as turn)...[RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:48:31.808] 
[14:48:34.301] 2025-08-27 14:48:34,289 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:48:35.205]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:48:35.211] 
[14:48:35.211] [TURN 7/10]
[14:48:35.285] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:48:36.393] 2025-08-27 14:48:36,392 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:36.398] 2025-08-27 14:48:36,398 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:48:36.442] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a9f64fea-d0d0-94e7-b824-ba69efecf602"}, traceId: 2150415c17563205156206530eebad'}
[14:48:36.443] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:48:36.447]   [EARLY_EXIT] No actions taken, continuing...
[14:48:36.447] 
[14:48:36.447] [TURN 3/10]
[14:48:36.449] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:48:37.415] 2025-08-27 14:48:37,406 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:48:37.476]   [EARLY_EXIT] No actions taken, continuing...
[14:48:37.476] 
[14:48:37.478] [TURN 4/10]
[14:48:37.485] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:48:38.272] 2025-08-27 14:48:38,241 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:38.331] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cfe10470-c6c5-9741-89b0-26e5050a535f"}, traceId: 2150415c17563205178706536eebad'}
[14:48:38.334] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[14:48:38.496] 2025-08-27 14:48:38,486 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:38.529] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d1ff4be0-6260-984c-a775-e79267989b46"}, traceId: 2150454117563205177928553e7aac'}
[14:48:38.537] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:48:41.694] 2025-08-27 14:48:41,680 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:41.710] 2025-08-27 14:48:41,685 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:41.827] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"927be011-c081-9b83-b56c-9a77984727dc"}, traceId: 2150454117563205206158558e7aac'}
[14:48:41.835] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f8cfd6f5-43b6-98aa-88da-97096333cb87"}, traceId: 2150415c17563205206106546eebad'}
[14:48:41.837] [RETRY] 400 error detected, waiting 3.0s before retry (not counting as turn)...
[14:48:41.838] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[14:48:45.244] 2025-08-27 14:48:45,222 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:45.261] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"75386201-dc3b-9d25-b229-f5b96b6c9993"}, traceId: 2150454117563205244368566e7aac'}
[14:48:45.265] [RETRY] 400 error detected, waiting 2.3s before retry (not counting as turn)...
[14:48:46.216] 2025-08-27 14:48:46,179 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:48:46.296]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:48:46.298] 
[14:48:46.298] [TURN 8/10]
[14:48:46.315] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:48:47.243] 2025-08-27 14:48:47,222 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:47.255] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3cd9ec67-aa8f-9011-a013-6163a72c5d3c"}, traceId: 2150415c17563205268056570eebad'}
[14:48:47.256] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:48:49.002] 2025-08-27 14:48:48,989 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:48:49.049]   [EARLY_EXIT] No actions taken, continuing...
[14:48:49.054] 
[14:48:49.054] [TURN 5/10]
[14:48:49.065] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:48:50.357] 2025-08-27 14:48:50,318 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:50.483] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c022e23f-b324-9707-beff-df3948690e98"}, traceId: 2150415c17563205294276578eebad'}
[14:48:50.491] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:48:50.506] 2025-08-27 14:48:50,506 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:50.521] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b63c31a5-ef92-9d3b-8fac-9405b27bd1b7"}, traceId: 2150454117563205296528576e7aac'}
[14:48:50.523] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:48:52.466] 2025-08-27 14:48:52,444 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:52.471] 2025-08-27 14:48:52,451 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:52.474] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5eeb8c50-7c77-9236-a8ab-71c205688981"}, traceId: 2150454117563205322498583e7aac'}
[14:48:52.479] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:48:52.482] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bc8e6163-785e-92b3-8147-ee75b6417abc"}, traceId: 2150415c17563205322446585eebad'}
[14:48:52.482] [RETRY] 400 error detected, waiting 2.7s before retry (not counting as turn)...
[14:48:55.971] 2025-08-27 14:48:55,965 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:56.037] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"da2458a3-4239-9b4a-89f7-9c544ad96e4c"}, traceId: 2150454117563205357228590e7aac'}
[14:48:56.050] [RETRY] 400 error detected, waiting 3.2s before retry (not counting as turn)...
[14:48:56.401] 2025-08-27 14:48:56,401 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:48:56.418] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a2d86c44-a36a-9988-8de8-84a0242d1bf8"}, traceId: 2150415c17563205357176602eebad'}
[14:48:56.418] [RETRY] 400 error detected, waiting 3.6s before retry (not counting as turn)...
[14:49:01.640] 2025-08-27 14:49:01,603 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:01.656] 2025-08-27 14:49:01,578 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:01.710] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"852580f4-b67f-93ee-a736-11618eef5204"}, traceId: 2150415c17563205408556616eebad'}[LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8575a6a7-013c-9903-bcf4-f68a76496cf1"}, traceId: 2150454117563205408608613e7aac'}
[14:49:01.717] 
[14:49:01.721] [RETRY] 400 error detected, waiting 3.5s before retry (not counting as turn)...
[14:49:01.721] [ERROR] Max retries reached after 5 attempts
[14:49:01.721] [API_FAILURE] All retries exhausted
[14:49:01.744]   [API_FAILURE] API failed (timeout or max retries)
[14:49:01.850] [ASSISTED] Task received 2 format helps, final result: failure
[14:49:03.295] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:49:03.319] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:49:03.338] [AI_DEBUG] 生成的txt_content长度: 17676
[14:49:03.338] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:49:03.339]   - use_ai_classification=True
[14:49:03.339]   - ai_classifier=True
[14:49:03.339]   - txt_content_len=17676
[14:49:03.339]   - task_model=qwen2.5-72b-instruct
[14:49:03.381] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:49:03.969] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:49:05.641] 2025-08-27 14:49:05,637 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:49:05.718] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:49:05.732] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:49:05.732] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:49:05.733] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:49:05.733] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:49:05.735] 2025-08-27 14:49:05,694 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:49:06.683] 2025-08-27 14:49:06,640 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:06.893] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"86bf4091-1710-9da1-84bf-b6ef15d45992"}, traceId: 2150454117563205457508636e7aac'}
[14:49:06.901] [ERROR] Max retries reached after 5 attempts
[14:49:06.902] [API_FAILURE] All retries exhausted
[14:49:06.902]   [API_FAILURE] API failed (timeout or max retries)
[14:49:08.200] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:49:09.201] 2025-08-27 14:49:09,164 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:49:09.230] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:49:09.230] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:49:09.295] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:49:09.295] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:49:09.295] [MCPEmbeddingManager] Current cache size: 29 embeddings
[14:49:09.317] 2025-08-27 14:49:09,317 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:49:09.641] 2025-08-27 14:49:09,621 - mcp_embedding_manager - INFO - FAISS index loaded
[14:49:09.646] 2025-08-27 14:49:09,646 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:49:09.646] 2025-08-27 14:49:09,646 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:49:10.622] [INFO] Tool embedding index loaded successfully
[14:49:10.841] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:49:10.886] [INFO] Operation semantic index initialized
[14:49:11.220] 
[14:49:11.379] [TURN 1/10]
[14:49:11.383] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:49:14.850] 2025-08-27 14:49:14,587 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:49:15.746] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[14:49:15.955] 2025-08-27 14:49:15,910 - mcp_embedding_manager - INFO - FAISS index loaded
[14:49:15.965] 2025-08-27 14:49:15,961 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:49:15.965] 2025-08-27 14:49:15,965 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:49:16.460] [INFO] Tool embedding index loaded successfully
[14:49:16.469] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:49:16.469] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:49:16.471] [AI_DEBUG] 生成的txt_content长度: 13100
[14:49:16.471] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:49:16.471]   - use_ai_classification=True
[14:49:16.471]   - ai_classifier=True
[14:49:16.471]   - txt_content_len=13100
[14:49:16.471]   - task_model=qwen2.5-72b-instruct
[14:49:16.474] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:49:16.510] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:49:16.546] [INFO] Operation semantic index initialized
[14:49:16.568] 
[14:49:16.569] [TURN 1/10]
[14:49:16.603] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:49:21.459] 2025-08-27 14:49:21,450 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:21.468] 2025-08-27 14:49:21,445 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:21.558] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cda254df-d7af-956b-ac3b-0d0a63b55fd2"}, traceId: 2150449017563205603358444e7ffa'}
[14:49:21.560] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:49:21.565] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"da540131-02e8-974a-996c-b6c38793621c"}, traceId: 2150458717563205603396784e80da'}
[14:49:21.568] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:49:24.818] 2025-08-27 14:49:24,701 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:24.843] 2025-08-27 14:49:24,706 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:24.882] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d038bb44-6337-944e-93ac-845279ba1f5b"}, traceId: 2150449017563205638018449e7ffa'}
[14:49:24.899] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9e06084b-e650-95e5-b17e-193ad3258ed2"}, traceId: 2150458717563205638046794e80da'}
[14:49:24.900] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[14:49:24.901] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:49:27.147] 2025-08-27 14:49:27,142 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:27.154] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f4026624-ac46-9b02-8514-8af731bb7b0a"}, traceId: 2150449017563205664058457e7ffa'}
[14:49:27.163] [RETRY] 400 error detected, waiting 2.4s before retry (not counting as turn)...
[14:49:28.533] 2025-08-27 14:49:28,487 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:28.544] 2025-08-27 14:49:28,493 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:49:28.618] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5965582c-9801-9b14-8df4-b547307d3440"}, traceId: 2150458717563205673986798e80da'}
[14:49:28.620] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[14:49:28.785] [AI_DEBUG] AI分类结果: category=sequence_order_errors, confidence=0.72
[14:49:31.055] 2025-08-27 14:49:30,994 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:49:31.072]   [SEARCH] Query: file reader
[14:49:31.171] 
[14:49:31.171] [TURN 2/10]
[14:49:31.192] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:49:32.553] 2025-08-27 14:49:32,530 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:32.564] 2025-08-27 14:49:32,532 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:49:32.676] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"01f69399-082e-9850-bd44-5688a9ef6336"}, traceId: 2150449017563205714418469e7ffa'}
[14:49:32.681] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:49:32.720]   [SEARCH] Query: file reader
[14:49:32.759] 
[14:49:32.760] [TURN 2/10]
[14:49:32.773] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:49:33.346] 2025-08-27 14:49:33,325 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:33.431] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"16ae256d-b7e6-9476-a5e6-191b711e2830"}, traceId: 2150458717563205730536809e80da'}
[14:49:33.433] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:49:41.772] 2025-08-27 14:49:41,392 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:42.097] 2025-08-27 14:49:41,386 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:42.620] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c1c52df1-7c11-948f-aaec-2e8383d94bec"}, traceId: 2150458717563205754016818e80da'}[LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"81a16c7b-cb04-9908-92ef-0f24164b9244"}, traceId: 2150449017563205749028473e7ffa'}
[14:49:42.634] 
[14:49:42.642] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...[RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:49:42.643] 
[14:49:45.619] 2025-08-27 14:49:45,599 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:45.624] 2025-08-27 14:49:45,606 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:45.676] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a3fe27a7-4033-92ac-a798-9d55a7d764e6"}, traceId: 2150458717563205847056832e80da'}
[14:49:45.690] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"609b3baa-646a-9204-9357-85e5c91b979d"}, traceId: 2150449017563205844138491e7ffa'}
[14:49:45.701] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:49:45.705] [RETRY] 400 error detected, waiting 2.3s before retry (not counting as turn)...
[14:49:48.204] 2025-08-27 14:49:48,079 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:48.432] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2b0a1b00-3ee0-9a02-a9a9-b3a60a7a7b43"}, traceId: 2150458717563205875346836e80da'}
[14:49:48.459] [RETRY] 400 error detected, waiting 2.7s before retry (not counting as turn)...
[14:49:50.141] 2025-08-27 14:49:50,121 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:49:50.264]   [EARLY_EXIT] No actions taken, continuing...
[14:49:50.266] 
[14:49:50.267] [TURN 3/10]
[14:49:50.311] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:49:51.438] 2025-08-27 14:49:51,431 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:51.471] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7919746f-9aca-913d-ac70-a6c1a712859d"}, traceId: 2150449017563205906498506e7ffa'}
[14:49:51.473] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:49:52.598] 2025-08-27 14:49:52,548 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:53.448] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b0fbf777-34f6-90f0-8579-626739ff4748"}, traceId: 2150458717563205916786844e80da'}
[14:49:53.849] [ERROR] Max retries reached after 5 attempts
[14:49:53.850] [API_FAILURE] All retries exhausted
[14:49:53.850]   [API_FAILURE] API failed (timeout or max retries)
[14:49:54.755] 2025-08-27 14:49:54,755 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:54.824] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:49:54.832] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:49:54.833] [AI_DEBUG] 生成的txt_content长度: 12742
[14:49:54.833] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:49:54.833]   - use_ai_classification=True
[14:49:54.833]   - ai_classifier=True
[14:49:54.875]   - txt_content_len=12742
[14:49:54.879] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"42637f70-ee93-959a-a157-85bc67187d6a"}, traceId: 2150449017563205937008519e7ffa'}
[14:49:54.881] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:49:54.881]   - task_model=qwen2.5-72b-instruct
[14:49:54.881] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:49:54.915] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:49:57.150] 2025-08-27 14:49:57,108 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:49:57.162] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:49:57.163] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:49:57.165] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:49:57.165] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:49:57.165] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:49:57.165] 2025-08-27 14:49:57,142 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:49:57.739] 2025-08-27 14:49:57,739 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:49:57.775] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6274ce6c-1814-931a-992a-c0bd94810161"}, traceId: 2150449017563205968798525e7ffa'}
[14:49:57.777] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[14:49:59.238] 2025-08-27 14:49:59,187 - mcp_embedding_manager - INFO - FAISS index loaded
[14:49:59.241] 2025-08-27 14:49:59,239 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:49:59.241] 2025-08-27 14:49:59,239 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:49:59.303] [INFO] Tool embedding index loaded successfully
[14:49:59.357] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:49:59.373] [INFO] Operation semantic index initialized
[14:49:59.464] 
[14:49:59.464] [TURN 1/10]
[14:49:59.473] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:01.336] 2025-08-27 14:50:01,256 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:01.670]   [EARLY_EXIT] No actions taken, continuing...
[14:50:01.681] 
[14:50:01.686] [TURN 4/10]
[14:50:01.697] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:03.303] 2025-08-27 14:50:02,976 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:03.384] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0ff46b36-43d9-9e5a-b6e4-d01ff66f994d"}, traceId: 2150449017563206020688536e7ffa'}
[14:50:03.408] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:50:04.732] 2025-08-27 14:50:04,705 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:04.856] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bd294d2d-7517-9060-8e6d-bcbb3e613fb9"}, traceId: 213e03d917563206032253879e2012'}
[14:50:04.856] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:50:06.858] 2025-08-27 14:50:06,850 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:06.895]   [EARLY_EXIT] No actions taken, continuing...
[14:50:06.901] 
[14:50:06.901] [TURN 5/10]
[14:50:06.901] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:07.780] 2025-08-27 14:50:07,779 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:07.785]   [SEARCH] Query: file reader
[14:50:07.849] 
[14:50:07.864] [TURN 2/10]
[14:50:07.871] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:07.906] 2025-08-27 14:50:07,906 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:07.907]   [EARLY_EXIT] No actions taken, continuing...
[14:50:07.907] 
[14:50:07.907] [TURN 6/10]
[14:50:07.908] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:08.783] 2025-08-27 14:50:08,783 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:08.787] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0818d3b8-b0a2-9a02-b895-05b248538b2d"}, traceId: 213e03d917563206081003893e2012'}
[14:50:08.787] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:50:08.834] 2025-08-27 14:50:08,834 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:08.846] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0704df3e-10ac-9bc7-8ad7-44af18782e34"}, traceId: 2150449017563206081558550e7ffa'}
[14:50:08.846] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:50:10.648] 2025-08-27 14:50:10,648 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:10.814] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d0f9f146-fafa-9c02-9502-62764ae174e7"}, traceId: 213e03d917563206104733897e2012'}
[14:50:10.817] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:50:11.137] 2025-08-27 14:50:11,137 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:11.198] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9ead830c-5f74-90f7-826c-aade0eb745e9"}, traceId: 2150449017563206104708555e7ffa'}
[14:50:11.198] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:50:11.740] 2025-08-27 14:50:11,740 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:50:11.930] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.72
[14:50:12.420] 2025-08-27 14:50:12,419 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:12.424] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ce680ea6-3eef-9719-8988-cc1daf82cd67"}, traceId: 213e03d917563206117443898e2012'}
[14:50:12.429] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:50:13.763] 2025-08-27 14:50:13,753 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:13.849]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:50:13.857] 
[14:50:13.858] [TURN 7/10]
[14:50:13.886] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:14.837] 2025-08-27 14:50:14,832 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:14.848] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"dfc40505-257f-9a63-ac1a-31478a6290e8"}, traceId: 2150449017563206141498566e7ffa'}2025-08-27 14:50:14,848 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:14.849] 
[14:50:14.849] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:50:14.873] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b4fc0de4-7ca4-907e-9685-ad989f454c13"}, traceId: 213e03d917563206141523908e2012'}
[14:50:14.874] [RETRY] 400 error detected, waiting 2.8s before retry (not counting as turn)...
[14:50:17.627] 2025-08-27 14:50:17,579 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:17.759] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0cc6a8bd-a8b2-987a-b7d3-768d44e6ecad"}, traceId: 2150449017563206166398572e7ffa'}
[14:50:17.785] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:50:18.799] 2025-08-27 14:50:18,796 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:18.882]   [EARLY_EXIT] No actions taken, continuing...
[14:50:18.882] 
[14:50:18.891] [TURN 3/10]
[14:50:18.921] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:19.917] 2025-08-27 14:50:19,914 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:19.939]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:50:19.939] 
[14:50:19.939] [TURN 8/10]
[14:50:19.942] 2025-08-27 14:50:19,941 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:19.943] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:19.956]   [EARLY_EXIT] No actions taken, continuing...
[14:50:19.956] 
[14:50:19.956] [TURN 4/10]
[14:50:19.966] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:20.410] 2025-08-27 14:50:20,407 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:20.432] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2ba5c1bd-7534-9fa3-b57a-2a8fbf6b99a1"}, traceId: 213e03d917563206202213927e2012'}
[14:50:20.476] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:50:21.032] 2025-08-27 14:50:21,030 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:21.051]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[14:50:21.052] 
[14:50:21.052] [TURN 9/10]
[14:50:21.055] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:21.531] 2025-08-27 14:50:21,528 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:21.547] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fc4b3392-9ac7-979a-ae2b-fdfb8c6e3960"}, traceId: 2150449017563206213258586e7ffa'}
[14:50:21.548] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:50:22.622] 2025-08-27 14:50:22,619 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:22.624] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a8e9dca6-d19f-98b1-8213-90afd7c70e1a"}, traceId: 213e03d917563206219023931e2012'}
[14:50:22.625] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[14:50:22.998] 2025-08-27 14:50:22,994 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:23.002] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8d07f22c-3024-91e5-ab27-627bee31fb4c"}, traceId: 2150449017563206228198588e7ffa'}
[14:50:23.003] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:50:24.481] 2025-08-27 14:50:24,478 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:24.687] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"edc2634e-ee4f-9466-a08a-0510a422d498"}, traceId: 213e03d917563206237653933e2012'}
[14:50:25.029] [RETRY] 400 error detected, waiting 2.3s before retry (not counting as turn)...
[14:50:26.200] 2025-08-27 14:50:26,163 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:26.481]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[14:50:26.490] 
[14:50:26.491] [TURN 10/10]
[14:50:26.520] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:27.162] 2025-08-27 14:50:27,152 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:27.201] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5d419d73-d9c7-98af-883f-574864415d03"}, traceId: 2150449017563206269108594e7ffa'}
[14:50:27.203] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:50:27.398] 2025-08-27 14:50:27,379 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:27.425] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"333c6bff-0343-9772-b873-efdaa165ca31"}, traceId: 213e03d917563206271393942e2012'}
[14:50:27.427] [RETRY] 400 error detected, waiting 2.4s before retry (not counting as turn)...
[14:50:30.987] 2025-08-27 14:50:30,723 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:31.271] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d9ce8e0a-dc8f-9eb4-b773-ab5a08195ea1"}, traceId: 2150449017563206297448598e7ffa'}
[14:50:31.277] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[14:50:32.762] 2025-08-27 14:50:32,746 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:32.774] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6d9f859c-f028-9254-a6fb-0d5236898f87"}, traceId: 213e03d917563206314583948e2012'}
[14:50:32.776] [ERROR] Max retries reached after 5 attempts
[14:50:32.776] [API_FAILURE] All retries exhausted
[14:50:32.776]   [API_FAILURE] API failed (timeout or max retries)
[14:50:32.946] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:50:32.958] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:50:33.001] [AI_DEBUG] 生成的txt_content长度: 12880
[14:50:33.033] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:50:33.051]   - use_ai_classification=True
[14:50:33.052]   - ai_classifier=True
[14:50:33.076]   - txt_content_len=12880
[14:50:33.077]   - task_model=qwen2.5-72b-instruct
[14:50:33.079] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:50:33.123] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:50:33.473] 2025-08-27 14:50:33,469 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:50:33.474] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:50:33.474] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:50:33.475] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:50:33.475] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:50:33.475] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:50:33.481] 2025-08-27 14:50:33,481 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:50:34.448] 2025-08-27 14:50:34,438 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:34.579] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"067ffc5d-45d0-9e91-ab77-cabf3e35f8b2"}, traceId: 2150449017563206335718603e7ffa'}
[14:50:34.580] [RETRY] 400 error detected, waiting 2.6s before retry (not counting as turn)...
[14:50:35.433] 2025-08-27 14:50:35,422 - mcp_embedding_manager - INFO - FAISS index loaded
[14:50:35.438] 2025-08-27 14:50:35,434 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:50:35.440] 2025-08-27 14:50:35,437 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:50:35.773] [INFO] Tool embedding index loaded successfully
[14:50:36.222] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:50:36.238] [INFO] Operation semantic index initialized
[14:50:36.290] 
[14:50:36.290] [TURN 1/10]
[14:50:36.302] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:38.446] 2025-08-27 14:50:38,438 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:38.455] 2025-08-27 14:50:38,434 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:38.472] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fcd687be-2deb-9669-ad64-14ccb3eb4f96"}, traceId: 2150449017563206376108611e7ffa'}
[14:50:38.482] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2e8cdae0-4040-9111-b267-7d1cda61ea2f"}, traceId: 213e006e17563206376187686e13de'}
[14:50:38.483] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[14:50:38.483] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:50:41.382] 2025-08-27 14:50:41,377 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:41.387] 2025-08-27 14:50:41,361 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:41.431] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4391f6c1-1fc9-93f8-b9d7-ae1cb5b4da6a"}, traceId: 2150449017563206406048616e7ffa'}
[14:50:41.431] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5d66bfb1-00fa-93dc-bdb5-fd296b57a36f"}, traceId: 213e006e17563206404797693e13de'}
[14:50:41.440] [ERROR] Max retries reached after 5 attempts
[14:50:41.440] [API_FAILURE] All retries exhausted
[14:50:41.440]   [API_FAILURE] API failed (timeout or max retries)
[14:50:41.443] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...[ASSISTED] Task received 4 format helps, final result: failure
[14:50:41.443] 
[14:50:41.618] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:50:44.573] 2025-08-27 14:50:44,521 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:44.613]   [SEARCH] Query: file reader json
[14:50:44.623] 
[14:50:44.623] [TURN 2/10]
[14:50:44.627] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:45.590] 2025-08-27 14:50:45,589 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:50:45.624] [AI_DEBUG] AI分类结果: category=sequence_order_errors, confidence=0.76
[14:50:45.625] 2025-08-27 14:50:45,624 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:45.629] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3bbf2820-60c0-91a8-a821-c2bc3383ba1b"}, traceId: 213e006e17563206449117699e13de'}
[14:50:45.629] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:50:45.636] 💾 智能Checkpoint: 保存4个结果...
[14:50:45.636]    触发原因: 数量=4, 时间=145.2s, 强制=False
[14:50:45.645] 2025-08-27 14:50:45,644 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320645643026.json
[14:50:45.646] 2025-08-27 14:50:45,646 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320645645864.json
[14:50:45.650] 2025-08-27 14:50:45,649 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320645647373.json
[14:50:45.652] 2025-08-27 14:50:45,652 - result_collector - INFO - 📤 已提交 qwen2.5-72b-instruct 的 1 个结果到收集器: qwen2.5-72b-instruct_38358_1756320645650236.json
[14:50:45.653] ✅ Checkpoint完成: 成功保存 4/4 个结果
[14:50:45.655] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:50:45.655] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:50:45.657] [AI_DEBUG] 生成的txt_content长度: 22078
[14:50:45.657] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:50:45.657]   - use_ai_classification=True
[14:50:45.657]   - ai_classifier=True
[14:50:45.657]   - txt_content_len=22078
[14:50:45.658]   - task_model=qwen2.5-72b-instruct
[14:50:45.658] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:50:47.456] 2025-08-27 14:50:47,455 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:50:47.462] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:50:47.463] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:50:47.465] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:50:47.467] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:50:47.467] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:50:47.474] 2025-08-27 14:50:47,474 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:50:48.411] 2025-08-27 14:50:48,411 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:48.506] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"43852ac6-5a8c-93fb-bdf5-edd1a631e8ed"}, traceId: 213e006e17563206475877704e13de'}
[14:50:48.507] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:50:49.243] 2025-08-27 14:50:49,231 - mcp_embedding_manager - INFO - FAISS index loaded
[14:50:49.244] 2025-08-27 14:50:49,244 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:50:49.245] 2025-08-27 14:50:49,244 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:50:49.308] [INFO] Tool embedding index loaded successfully
[14:50:49.339] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:50:49.345] [INFO] Operation semantic index initialized
[14:50:49.366] 
[14:50:49.366] [TURN 1/10]
[14:50:49.373] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:50.255] 2025-08-27 14:50:50,236 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:50.376] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b0c59dbc-6efe-9f87-9ed8-3d17dc7d7008"}, traceId: 213e006e17563206497317709e13de'}
[14:50:50.379] [RETRY] 400 error detected, waiting 2.9s before retry (not counting as turn)...
[14:50:52.416] 2025-08-27 14:50:52,403 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:50:52.420] 2025-08-27 14:50:52,398 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:52.471] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4e307fa6-9048-9788-bee2-d94e891d95d3"}, traceId: 213e062917563206515123370e7f3f'}
[14:50:52.495] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:50:52.521] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.72
[14:50:54.410] 2025-08-27 14:50:54,394 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:54.474] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d4547a74-ffbc-9336-b666-cc4cf6dd77e6"}, traceId: 213e006e17563206536557720e13de'}
[14:50:54.479] [RETRY] 400 error detected, waiting 4.9s before retry (not counting as turn)...
[14:50:55.542] 2025-08-27 14:50:55,533 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:50:55.663]   [SEARCH] Query: file reader json
[14:50:55.700] 
[14:50:55.700] [TURN 2/10]
[14:50:56.139] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:50:57.558] 2025-08-27 14:50:57,537 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:50:57.605] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"60a6c954-54b3-93b3-acde-3efb2b3ea730"}, traceId: 213e062917563206565773381e7f3f'}
[14:50:57.616] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:51:00.100] 2025-08-27 14:51:00,099 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:00.105] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"11c5911c-1045-91b2-a302-f901689ee8d2"}, traceId: 213e062917563206594163383e7f3f'}
[14:51:00.107] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:51:00.354] 2025-08-27 14:51:00,354 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:00.359] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b487af02-2169-9d01-b181-13f4fac715fe"}, traceId: 213e006e17563206596807732e13de'}
[14:51:00.359] [ERROR] Max retries reached after 5 attempts
[14:51:00.359] [API_FAILURE] All retries exhausted
[14:51:00.359]   [API_FAILURE] API failed (timeout or max retries)
[14:51:00.702] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:51:00.702] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:51:00.703] [AI_DEBUG] 生成的txt_content长度: 12576
[14:51:00.712] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:51:00.714]   - use_ai_classification=True
[14:51:00.714]   - ai_classifier=True
[14:51:00.714]   - txt_content_len=12576
[14:51:00.714]   - task_model=qwen2.5-72b-instruct
[14:51:00.715] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:51:00.764] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:51:01.201] 2025-08-27 14:51:01,198 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:51:01.201] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:51:01.201] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:51:01.203] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:51:01.208] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:51:01.208] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:51:01.222] 2025-08-27 14:51:01,222 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:51:02.671] 2025-08-27 14:51:02,670 - mcp_embedding_manager - INFO - FAISS index loaded
[14:51:02.672] 2025-08-27 14:51:02,671 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:51:02.672] 2025-08-27 14:51:02,671 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:51:02.703] [INFO] Tool embedding index loaded successfully
[14:51:02.729] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:51:02.736] [INFO] Operation semantic index initialized
[14:51:02.764] 
[14:51:02.764] [TURN 1/10]
[14:51:02.765] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:02.839] 2025-08-27 14:51:02,839 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:02.845] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5c9723e4-2038-95fb-9373-b83e53410151"}, traceId: 213e062917563206621713387e7f3f'}
[14:51:02.878] [RETRY] 400 error detected, waiting 2.6s before retry (not counting as turn)...
[14:51:06.412] 2025-08-27 14:51:06,411 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:06.419] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a3008e5a-118b-9557-9ef2-a9fb66394ca4"}, traceId: 213e062917563206657433395e7f3f'}
[14:51:06.426] [RETRY] 400 error detected, waiting 4.9s before retry (not counting as turn)...
[14:51:11.175] 2025-08-27 14:51:11,158 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:51:11.849]   [SEARCH] Query: file reader json
[14:51:12.082] 
[14:51:12.083] [TURN 2/10]
[14:51:12.083] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:12.945] 2025-08-27 14:51:12,945 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:12.946] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6b63c218-5243-9805-a349-2aa7e6358562"}, traceId: 213e041717563206722782072e96cf'}
[14:51:12.946] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[14:51:13.430] 2025-08-27 14:51:13,429 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:13.547] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3159ab36-29cd-9b89-ac8d-d3e005c6fd5e"}, traceId: 213e007a17563206727504995ee37d'}
[14:51:13.547] [ERROR] Max retries reached after 5 attempts
[14:51:13.547] [API_FAILURE] All retries exhausted
[14:51:13.547]   [API_FAILURE] API failed (timeout or max retries)
[14:51:14.058] 2025-08-27 14:51:14,058 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:14.194] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"691e7199-b472-9333-87fe-1b71ab93d62e"}, traceId: 213e041717563206738892075e96cf'}
[14:51:14.762] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:51:15.238] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:51:15.514] 2025-08-27 14:51:15,512 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:51:15.516] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:51:15.517] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:51:15.518] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:51:15.524] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:51:15.524] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:51:15.527] 2025-08-27 14:51:15,527 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:51:16.087] 2025-08-27 14:51:16,087 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:16.153] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"568e411d-9e23-9c86-97ab-56042d0db816"}, traceId: 213e041717563206753842083e96cf'}
[14:51:16.170] [RETRY] 400 error detected, waiting 2.3s before retry (not counting as turn)...
[14:51:16.743] 2025-08-27 14:51:16,739 - mcp_embedding_manager - INFO - FAISS index loaded
[14:51:16.869] 2025-08-27 14:51:16,742 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:51:16.869] 2025-08-27 14:51:16,742 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:51:16.869] [INFO] Tool embedding index loaded successfully
[14:51:16.869] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:51:16.869] [INFO] Operation semantic index initialized
[14:51:16.879] 
[14:51:16.879] [TURN 1/10]
[14:51:16.879] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:18.986] 2025-08-27 14:51:18,958 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:19.001] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e01c99e5-d673-9adf-ace8-7c7e52f13585"}, traceId: 213e06c017563206782091751e8392'}
[14:51:19.013] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:51:20.675] 2025-08-27 14:51:20,585 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:51:20.771]   [EARLY_EXIT] No actions taken, continuing...
[14:51:20.773] 
[14:51:20.773] [TURN 3/10]
[14:51:20.787] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:21.940] 2025-08-27 14:51:21,884 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:51:21.952] 2025-08-27 14:51:21,882 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:51:21.957] 2025-08-27 14:51:21,937 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:51:22.189]   [SEARCH] Query: file reader
[14:51:22.224]   [EARLY_EXIT] No actions taken, continuing...
[14:51:22.224] 
[14:51:22.224] [TURN 4/10]
[14:51:22.270] [AI_DEBUG] AI分类结果: category=sequence_order_errors, confidence=0.65
[14:51:22.288] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:22.338] 
[14:51:22.345] [TURN 2/10]
[14:51:22.361] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:22.437] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:51:22.440] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:51:22.441] [AI_DEBUG] 生成的txt_content长度: 12808
[14:51:22.441] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:51:22.441]   - use_ai_classification=True
[14:51:22.441]   - ai_classifier=True
[14:51:22.441]   - txt_content_len=12808
[14:51:22.441]   - task_model=qwen2.5-72b-instruct
[14:51:22.454] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:51:23.744] 2025-08-27 14:51:23,731 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:23.750] 2025-08-27 14:51:23,721 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:23.848] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cf8e7fb0-b660-91ee-833b-4f85d9fee1b7"}, traceId: 213e041717563206826602096e96cf'}[LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"626d4ce7-50a0-998f-b2d6-2e7000455ff5"}, traceId: 213e06c017563206826631763e8392'}
[14:51:23.854] 
[14:51:23.855] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:51:23.855] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:51:26.476] 2025-08-27 14:51:26,471 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:26.485] 2025-08-27 14:51:26,485 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:26.511] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1018b291-5f7b-9c7e-9569-d385ad380d7c"}, traceId: 213e06c017563206855131775e8392'}
[14:51:26.523] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e7fcb5a8-d8fc-92fd-adcd-18a86fdc0d92"}, traceId: 213e041717563206855112103e96cf'}
[14:51:26.523] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[14:51:26.523] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[14:51:29.461] 2025-08-27 14:51:29,455 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:29.550] 2025-08-27 14:51:29,550 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:29.581] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"338d5c84-fc4c-9cb7-a1c2-d612fb14a97b"}, traceId: 213e06c017563206887741779e8392'}[LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"05f0bb7c-181d-96b6-80a6-0fcf3fbb3590"}, traceId: 213e041717563206887712118e96cf'}
[14:51:29.582] [RETRY] 400 error detected, waiting 2.5s before retry (not counting as turn)...
[14:51:29.582] 
[14:51:29.582] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[14:51:29.637] 2025-08-27 14:51:29,637 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:51:29.646] [AI_DEBUG] AI分类结果: category=other_errors, confidence=0.79
[14:51:33.632] 2025-08-27 14:51:33,589 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:51:33.672] 2025-08-27 14:51:33,582 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:51:33.743]   [EARLY_EXIT] No actions taken, continuing...
[14:51:33.746] 
[14:51:33.748] [TURN 3/10]
[14:51:33.753]   [EARLY_EXIT] No actions taken, continuing...
[14:51:33.756] 
[14:51:33.756] [TURN 5/10]
[14:51:33.790] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:33.798] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:35.206] 2025-08-27 14:51:35,179 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:51:35.241] 2025-08-27 14:51:35,175 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:51:35.306]   [EARLY_EXIT] No actions taken, continuing...  [EARLY_EXIT] No actions taken, continuing...
[14:51:35.311] 
[14:51:35.311] [TURN 6/10]
[14:51:35.311] 
[14:51:35.312] 
[14:51:35.312] [TURN 4/10]
[14:51:35.312] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:35.324] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:36.711] 2025-08-27 14:51:36,621 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:36.719] 2025-08-27 14:51:36,643 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:36.862] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"723db2f2-bba6-9c08-8509-b2656447a490"}, traceId: 213e041717563206956282140e96cf'}
[14:51:36.884] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:51:36.900] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a7b5fe1e-5464-9911-bf45-ad253e23bf0c"}, traceId: 213e06c017563206956311791e8392'}
[14:51:36.901] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[14:51:39.422] 2025-08-27 14:51:39,397 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:39.428] 2025-08-27 14:51:39,403 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:39.492] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ec3b0ba4-013c-97c1-9c71-9eaa42a845d7"}, traceId: 213e06c017563206982501795e8392'}[LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"10836fa7-ad77-9407-b0c5-f0e1e0d83bee"}, traceId: 213e041717563206984152148e96cf'}
[14:51:39.493] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[14:51:39.494] 
[14:51:39.496] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[14:51:41.671] 2025-08-27 14:51:41,650 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:41.720] 2025-08-27 14:51:41,645 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:41.756] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cc09f29e-f91e-9c8d-b2ef-fcf467bddc91"}, traceId: 213e041717563207014012155e96cf'}
[14:51:41.762] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3bab411e-c51e-923a-ac0c-fcc6eecd4cfc"}, traceId: 213e06c017563207014011806e8392'}[RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:51:41.764] 
[14:51:41.764] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[14:51:44.450] 2025-08-27 14:51:44,446 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:44.464] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"be275def-dca7-97ab-9faa-71c64bc8ff0e"}, traceId: 213e041717563207035992162e96cf'}
[14:51:44.464] [RETRY] 400 error detected, waiting 3.8s before retry (not counting as turn)...
[14:51:45.760] 2025-08-27 14:51:45,749 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:45.802] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6f3cba3c-5eeb-9619-bba8-9d18c0b5a9a0"}, traceId: 213e06c017563207047141809e8392'}
[14:51:45.806] [RETRY] 400 error detected, waiting 1.9s before retry (not counting as turn)...
[14:51:48.848] 2025-08-27 14:51:48,834 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:48.897] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e249febc-1439-9f6a-bb66-db411cfbbd36"}, traceId: 213e06c017563207083111816e8392'}
[14:51:48.897] [ERROR] Max retries reached after 5 attempts
[14:51:48.897] [API_FAILURE] All retries exhausted
[14:51:48.900]   [API_FAILURE] API failed (timeout or max retries)
[14:51:49.765] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:51:49.779] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:51:49.794] [AI_DEBUG] 生成的txt_content长度: 12922
[14:51:49.794] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:51:49.794]   - use_ai_classification=True
[14:51:49.794]   - ai_classifier=True
[14:51:49.794]   - txt_content_len=12922
[14:51:49.794]   - task_model=qwen2.5-72b-instruct
[14:51:49.794] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:51:50.027] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:51:50.065] 2025-08-27 14:51:50,041 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:51:50.513]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[14:51:50.521] 
[14:51:50.521] [TURN 7/10]
[14:51:50.548] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:50.738] 2025-08-27 14:51:50,733 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:51:50.741] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:51:50.741] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:51:50.742] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:51:50.755] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:51:50.757] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:51:50.765] 2025-08-27 14:51:50,765 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:51:52.940] 2025-08-27 14:51:52,878 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:51:53.075]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[14:51:53.078] 
[14:51:53.078] [TURN 8/10]
[14:51:53.165] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:54.520] 2025-08-27 14:51:54,458 - mcp_embedding_manager - INFO - FAISS index loaded
[14:51:54.529] 2025-08-27 14:51:54,521 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:51:54.530] 2025-08-27 14:51:54,530 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:51:55.308] [INFO] Tool embedding index loaded successfully
[14:51:55.816] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:51:55.853] 2025-08-27 14:51:55,463 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:55.865] [INFO] Operation semantic index initialized
[14:51:56.449] 
[14:51:56.475] [TURN 1/10]
[14:51:56.599] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:51:56.681] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"dbecdd46-ea7e-9416-a39b-34a328b4b428"}, traceId: 213e041717563207135892184e96cf'}
[14:51:56.727] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:51:59.136] 2025-08-27 14:51:59,102 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:59.147] 2025-08-27 14:51:59,106 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:51:59.211] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b9fbe873-9473-9977-954e-f6910d98d9f3"}, traceId: 213e041717563207185762193e96cf'}
[14:51:59.214] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3e420ea3-fa83-93b8-92c7-b6ee52538693"}, traceId: 213e006c17563207185593082e1134'}
[14:51:59.214] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:51:59.215] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:52:01.394] 2025-08-27 14:52:01,386 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:01.471] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"45a23f73-c0b2-99a4-ac05-7545c98d4014"}, traceId: 213e041717563207206522199e96cf'}
[14:52:01.485] [RETRY] 400 error detected, waiting 3.0s before retry (not counting as turn)...
[14:52:02.148] 2025-08-27 14:52:02,069 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:52:02.284] 2025-08-27 14:52:02,267 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:02.344] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4088e54b-da84-92b2-9a03-e85f66c18428"}, traceId: 213e006c17563207214683087e1134'}
[14:52:02.354] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:52:02.387] [AI_DEBUG] AI分类结果: category=sequence_order_errors, confidence=0.65
[14:52:05.264] 2025-08-27 14:52:05,223 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:52:05.392]   [SEARCH] Query: file reader
[14:52:05.425] 
[14:52:05.426] [TURN 2/10]
[14:52:05.490] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:52:06.221] 2025-08-27 14:52:06,186 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:06.297] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"f385fcd1-5fa5-9552-a669-5d2ceb71ba02"}, traceId: 213e041717563207248442207e96cf'}
[14:52:06.303] [RETRY] 400 error detected, waiting 3.0s before retry (not counting as turn)...
[14:52:07.388] 2025-08-27 14:52:07,377 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:07.424] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"048559d9-f670-94d4-b7a7-9a793b697424"}, traceId: 213e006c17563207264683097e1134'}
[14:52:07.427] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:52:10.575] 2025-08-27 14:52:10,545 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:10.581] 2025-08-27 14:52:10,555 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:10.590] [LLM_ERROR] Attempt 5/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9a03bd4e-47f9-9199-94f7-9caa5e30de5d"}, traceId: 213e041717563207295372217e96cf'}
[14:52:10.595] [ERROR] Max retries reached after 5 attempts
[14:52:10.595] [API_FAILURE] All retries exhausted
[14:52:10.597]   [API_FAILURE] API failed (timeout or max retries)
[14:52:10.609] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1aca6ab0-204e-974b-95c1-84468b3c6b0b"}, traceId: 213e006c17563207294063107e1134'}
[14:52:10.609] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:52:10.615] [ASSISTED] Task received 2 format helps, final result: failure
[14:52:10.994] [DEBUG] Got result for task: has_result=True, save_logs=True
[14:52:11.010] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[14:52:11.011] [AI_DEBUG] 生成的txt_content长度: 17666
[14:52:11.013] [AI_DEBUG] _ai_classify_with_txt_content called:
[14:52:11.013]   - use_ai_classification=True
[14:52:11.013]   - ai_classifier=True
[14:52:11.015]   - txt_content_len=17666
[14:52:11.015]   - task_model=qwen2.5-72b-instruct
[14:52:11.015] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[14:52:11.041] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[14:52:11.744] 2025-08-27 14:52:11,739 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[14:52:11.745] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[14:52:11.745] [InteractiveExecutor] Using prompt type: optimal for API key selection
[14:52:11.761] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[14:52:11.762] [MCPEmbeddingManager] Reusing existing singleton instance (id: 140679151270528)
[14:52:11.764] [MCPEmbeddingManager] Current cache size: 30 embeddings
[14:52:11.770] 2025-08-27 14:52:11,768 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[14:52:14.379] 2025-08-27 14:52:14,350 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:52:14.496] 2025-08-27 14:52:14,493 - mcp_embedding_manager - INFO - FAISS index loaded
[14:52:14.498] 2025-08-27 14:52:14,498 - mcp_embedding_manager - INFO - Updated dimension to 3072
[14:52:14.500] 2025-08-27 14:52:14,498 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[14:52:14.643] [INFO] Tool embedding index loaded successfully
[14:52:14.671]   [EARLY_EXIT] No actions taken, continuing...
[14:52:14.671] 
[14:52:14.671] [TURN 3/10]
[14:52:14.672] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:52:14.689] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[14:52:14.712] [INFO] Operation semantic index initialized
[14:52:14.757] 
[14:52:14.757] [TURN 1/10]
[14:52:14.774] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:52:16.087] 2025-08-27 14:52:16,046 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:52:16.353]   [EARLY_EXIT] No actions taken, continuing...
[14:52:16.353] 
[14:52:16.353] [TURN 4/10]
[14:52:16.374] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:52:17.731] 2025-08-27 14:52:17,671 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:18.360] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"23e39ff5-231f-9837-8e51-f90d10be2f9e"}, traceId: 213e006c17563207368583118e1134'}
[14:52:18.385] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:52:18.401] 2025-08-27 14:52:18,364 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:18.521] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e39bcbef-4f71-95bf-98e6-8f7062dad110"}, traceId: 213e06b717563207373308874e7775'}
[14:52:18.545] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[14:52:20.619] 2025-08-27 14:52:20,612 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:20.663] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"efabd4de-c567-9ef2-8115-89d7bbf9b8f9"}, traceId: 213e06b717563207399128880e7775'}
[14:52:20.673] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:52:20.770] 2025-08-27 14:52:20,770 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:52:20.824]   [EARLY_EXIT] No actions taken, continuing...
[14:52:20.824] 
[14:52:20.824] [TURN 5/10]
[14:52:20.831] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:52:21.886] 2025-08-27 14:52:21,882 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:21.903] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ff4fd4ad-ad43-965a-9d8e-d8f4839b55e7"}, traceId: 213e006c17563207411143129e1134'}
[14:52:21.904] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[14:52:23.506] 2025-08-27 14:52:23,443 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:23.620] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9c1c5685-b144-9520-94db-b4ec825e2f45"}, traceId: 213e06b717563207426588886e7775'}
[14:52:23.623] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[14:52:24.607] 2025-08-27 14:52:24,505 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[14:52:24.758] 2025-08-27 14:52:24,755 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:24.912] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"3702b7a0-2905-9f89-b66f-d785d2c4a063"}, traceId: 213e006c17563207439023136e1134'}
[14:52:24.945] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[14:52:25.151] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[14:52:27.264] 2025-08-27 14:52:27,255 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:27.274] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bcc26631-063d-9dcb-8d1c-f32c8a73ea24"}, traceId: 213e06b717563207464598893e7775'}
[14:52:27.274] [RETRY] 400 error detected, waiting 4.8s before retry (not counting as turn)...
[14:52:27.572] 2025-08-27 14:52:27,572 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:27.582] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7715cd62-26d6-98fa-a8e2-627602e4ba63"}, traceId: 213e006c17563207468813141e1134'}
[14:52:27.582] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[14:52:29.890] 2025-08-27 14:52:29,887 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[14:52:29.939]   [EARLY_EXIT] No actions taken, continuing...
[14:52:29.940] 
[14:52:29.940] [TURN 6/10]
[14:52:29.953] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[14:52:31.281] 2025-08-27 14:52:31,281 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:31.282] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"317eca89-c37c-9395-9b54-4c2534b1acd6"}, traceId: 213e006c17563207505793146e1134'}
[14:52:31.282] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[14:52:33.457] 2025-08-27 14:52:33,446 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[14:52:33.513] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"889d5831-3704-9957-a72c-2eab428cdde8"}, traceId: 213e006c17563207527123153e1134'}
[14:52:33.517] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
