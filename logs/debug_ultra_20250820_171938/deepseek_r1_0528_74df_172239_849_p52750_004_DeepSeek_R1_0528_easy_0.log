===== 分片 DeepSeek-R1-0528_easy_0 =====
时间: 2025-08-20T17:22:39.854190
模型: deepseek-r1-0528
实例: DeepSeek-R1-0528
命令: python -u smart_batch_runner.py --model deepseek-r1-0528 --deployment DeepSeek-R1-0528 --prompt-types optimal --difficulty easy --task-types all --num-instances 1 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[17:22:41.884] 2025-08-20 17:22:41,884 - faiss.loader - INFO - Loading faiss.
[17:22:41.897] 2025-08-20 17:22:41,896 - faiss.loader - INFO - Successfully loaded faiss.
[17:22:42.902] [INFO] 使用Parquet存储格式
[17:22:43.322] [INFO] 使用Parquet存储格式
[17:22:43.327] [INFO] 使用PARQUET存储格式
[17:22:43.327] 
[17:22:43.327] ============================================================
[17:22:43.327] 智能批测试: deepseek-r1-0528 (idealab)
[17:22:43.327] Prompt types: ['optimal']
[17:22:43.327] 难度: easy
[17:22:43.327] 目标: 每种配置 1 个实例
[17:22:43.327] ============================================================
[17:22:43.383] ○ simple_task         :   0/  1 已完成 (需要补充 1 个)
[17:22:43.390] ○ basic_task          :   0/  1 已完成 (需要补充 1 个)
[17:22:43.396] ○ data_pipeline       :   0/  1 已完成 (需要补充 1 个)
[17:22:43.401] ○ api_integration     :   0/  1 已完成 (需要补充 1 个)
[17:22:43.407] ○ multi_stage_pipeline:   0/  1 已完成 (需要补充 1 个)
[17:22:43.407] 
[17:22:43.407] ⏳ 需要运行 5 个新测试
[17:22:43.407] 
[17:22:43.407] ▶ 准备 simple_task (1 个实例)...
[17:22:43.407] 
[17:22:43.407] ▶ 准备 basic_task (1 个实例)...
[17:22:43.407] 
[17:22:43.407] ▶ 准备 data_pipeline (1 个实例)...
[17:22:43.407] 
[17:22:43.407] ▶ 准备 api_integration (1 个实例)...
[17:22:43.407] 
[17:22:43.407] ▶ 准备 multi_stage_pipeline (1 个实例)...
[17:22:43.407] 
[17:22:43.407] ▶ 开始执行 5 个测试...
[17:22:43.407] 📦 批量提交模式：每20个测试保存一次
[17:22:43.407] 🚀 检测到Azure API，使用超高并发: workers=100, qps=200.0
[17:22:43.409] 2025-08-20 17:22:43,409 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[17:22:43.469] 2025-08-20 17:22:43,469 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[17:22:43.469] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x16e6d9430>
[17:22:43.469] 2025-08-20 17:22:43,469 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[17:22:43.469] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[17:22:43.469] 2025-08-20 17:22:43,469 - batch_test_runner - INFO - ============================================================
[17:22:43.470] 2025-08-20 17:22:43,470 - batch_test_runner - INFO - Batch test runner initialized
[17:22:43.470] 2025-08-20 17:22:43,470 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[17:22:43.470] 2025-08-20 17:22:43,470 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_172243.log
[17:22:43.470] 2025-08-20 17:22:43,470 - batch_test_runner - INFO - ============================================================
[17:22:43.470] 2025-08-20 17:22:43,470 - batch_test_runner - INFO - Running 5 tests with 100 workers, QPS limit: 200.0
[17:22:43.470] 2025-08-20 17:22:43,470 - batch_test_runner - INFO - Initializing test components...
[17:22:43.784] 2025-08-20 17:22:43,784 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[17:22:43.784] 2025-08-20 17:22:43,784 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[17:22:43.784] 2025-08-20 17:22:43,784 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[17:22:43.784] [DEBUG] Creating new ToolCapabilityManager instance
[17:22:43.784] [OperationEmbeddingIndex] Initializing with unified API client manager
[17:22:43.784] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[17:22:43.794] 2025-08-20 17:22:43,794 - api_client_manager - INFO - Loaded configuration from config/config.json
[17:22:43.811] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[17:22:43.811] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[17:22:43.811] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[17:22:44.778] 2025-08-20 17:22:44,778 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:22:44.780] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[17:22:44.823] [INFO] Loaded 4150 embeddings from persistent cache
[17:22:44.823] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[17:22:44.825] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[17:22:44.825] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[17:22:44.825] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[17:22:44.830] [INFO] Successfully loaded FAISS index with dimension 3072
[17:22:44.830] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[17:22:44.830] [INFO] Loaded 15 operations with dimension 3072
[17:22:44.830] [INFO] Successfully loaded cached index
[17:22:44.830] [INFO] Operation semantic index initialized
[17:22:44.830] [INFO] Using device: cpu
[17:22:44.831] [INFO] Initialized tool success tracking attributes
[17:22:44.831] [INFO] Initializing embedding manager for enhanced tool selection
[17:22:44.831] [MCPEmbeddingManager] Creating new singleton instance
[17:22:44.831] [MCPEmbeddingManager] Initializing with unified API client manager
[17:22:44.838] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[17:22:44.838] [MCPEmbeddingManager] Client initialized successfully
[17:22:44.838] 2025-08-20 17:22:44,838 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[17:22:44.932] 2025-08-20 17:22:44,932 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[17:22:45.162] 2025-08-20 17:22:45,162 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[17:22:45.162] 2025-08-20 17:22:45,162 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[17:22:45.184] 2025-08-20 17:22:45,184 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[17:22:45.257] 2025-08-20 17:22:45,256 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[17:22:45.595] 2025-08-20 17:22:45,595 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[17:22:45.595] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[17:22:45.595] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[17:22:45.595] 2025-08-20 17:22:45,595 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:22:45.949] 2025-08-20 17:22:45,949 - mcp_embedding_manager - INFO - FAISS index loaded
[17:22:45.949] 2025-08-20 17:22:45,949 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:22:45.949] 2025-08-20 17:22:45,949 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:22:45.951] [SUCCESS] Loaded 30 tool embeddings
[17:22:45.951] 2025-08-20 17:22:45,951 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[17:22:45.951] [SUCCESS] Embedding manager initialized with 30 tools
[17:22:45.951] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[17:22:45.951] [INFO] Loading full MCP protocol registry...
[17:22:45.954] 2025-08-20 17:22:45,954 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:22:45.954] [INFO] Loaded full tool registry with 30 tools
[17:22:45.954] 2025-08-20 17:22:45,954 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[17:22:45.954] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[17:22:45.966] [INFO] Embedding manager ready with 30 tools
[17:22:45.966] [WARNING] Embedding manager exists but has no embeddings
[17:22:45.966] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[17:22:45.967] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[17:22:45.967] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[17:22:45.967] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:22:45.967] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[17:22:45.967] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[17:22:45.967] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:22:45.967] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:22:45.967] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:22:45.967] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:22:45.967] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[17:22:45.967] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:22:45.967] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:22:45.967] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[17:22:45.967] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[17:22:45.967] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[17:22:45.967] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:22:45.967] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:22:45.967] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:22:45.967] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[17:22:45.967] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[17:22:45.967] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[17:22:45.967] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[17:22:45.967] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[17:22:45.967] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[17:22:45.967] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[17:22:45.967] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[17:22:45.967] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[17:22:45.967] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[17:22:45.967] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[17:22:45.967] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[17:22:45.967] 2025-08-20 17:22:45,967 - mdp_workflow_generator - INFO - Loaded 30 tools
[17:22:45.967] [INFO] Setting default state_dim based on loaded tools
[17:22:45.967] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[17:22:45.967] 2025-08-20 17:22:45,967 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[17:22:45.967] [INFO] Setting default action_dim based on loaded tools
[17:22:45.967] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[17:22:45.967] 2025-08-20 17:22:45,967 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[17:22:45.967] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[17:22:45.967] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[17:22:45.967] [INFO] ⚡ Will use pre-generated workflows or random policy
[17:22:45.967] 2025-08-20 17:22:45,967 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[17:22:45.967] [INFO] Initializing TaskManager...
[17:22:47.203] 2025-08-20 17:22:47,203 - unified_training_manager - INFO - Using device: cpu
[17:22:47.309] 2025-08-20 17:22:47,309 - unified_training_manager - INFO - Task filtering results:
[17:22:47.309] 2025-08-20 17:22:47,309 - unified_training_manager - INFO -   Total: 5040 -> 5040
[17:22:47.309] 2025-08-20 17:22:47,309 - unified_training_manager - INFO -   simple_task: 320 -> 320
[17:22:47.309] 2025-08-20 17:22:47,309 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[17:22:47.309] 2025-08-20 17:22:47,309 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[17:22:47.309] 2025-08-20 17:22:47,309 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[17:22:47.309] 2025-08-20 17:22:47,309 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[17:22:47.309] 2025-08-20 17:22:47,309 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[17:22:47.312] 2025-08-20 17:22:47,312 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[17:22:47.312] [TaskManager] Difficulty level 'easy': 1096 tasks
[17:22:47.312] [TaskManager] Difficulty level 'very_easy': 856 tasks
[17:22:47.312] [TaskManager] Difficulty level 'medium': 1136 tasks
[17:22:47.312] [TaskManager] Difficulty level 'hard': 1096 tasks
[17:22:47.312] [TaskManager] Difficulty level 'very_hard': 856 tasks
[17:22:47.314] [INFO] TaskManager initialized with 5040 tasks
[17:22:47.314] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[17:22:47.314] [INFO] Initializing ToolCallVerifier...
[17:22:47.315] [INFO] ToolCallVerifier initialized with 30 tools
[17:22:47.315] [INFO] Output tools identified: 1
[17:22:47.315] [INFO] Component initialization status:
[17:22:47.315]   - embedding_manager: initialized
[17:22:47.315]   - task_manager: initialized
[17:22:47.315]   - output_verifier: initialized
[17:22:47.315]   - tool_capability_manager: initialized
[17:22:47.315]   - tool_success_rates: initialized with 0 entries
[17:22:47.315] [INFO] MDPWorkflowGenerator initialization complete
[17:22:47.315] 2025-08-20 17:22:47,315 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[17:22:47.315] 2025-08-20 17:22:47,315 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[17:22:47.315] 2025-08-20 17:22:47,315 - batch_test_runner - INFO -   - task_manager: ✓
[17:22:47.315] 2025-08-20 17:22:47,315 - batch_test_runner - INFO -   - output_verifier: ✓
[17:22:47.315] 2025-08-20 17:22:47,315 - batch_test_runner - INFO -   - embedding_manager: ✓
[17:22:47.315] 2025-08-20 17:22:47,315 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[17:22:47.315] 2025-08-20 17:22:47,315 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[17:22:47.315] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13129663600)
[17:22:47.315] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:22:47.315] [FlawedWorkflowGenerator] Initialized with 30 tools
[17:22:47.315] [FlawedWorkflowGenerator] RAG support: disabled
[17:22:47.316] DEBUG: Checking generator attributes
[17:22:47.316]   - has tool_capabilities: True
[17:22:47.316]   - has tool_capability_manager: True
[17:22:47.316]   - has task_manager: True
[17:22:47.316] [INFO] Loaded 30 tools from generator
[17:22:47.316] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[17:22:47.316] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13129663600)
[17:22:47.316] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:22:47.316] [INFO] Initializing LLM client using APIClientManager
[17:22:47.323] [INFO] Using Azure OpenAI client
[17:22:47.323] [DEBUG] Checking if generator has tool_capability_manager attribute
[17:22:47.323] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[17:22:47.323] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13129663600)
[17:22:47.323] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:22:47.323] [FlawedWorkflowGenerator] Initialized with 30 tools
[17:22:47.323] [FlawedWorkflowGenerator] RAG support: enabled
[17:22:47.323] [INFO] FlawedWorkflowGenerator initialized successfully
[17:22:47.323] [INFO] Initializing StableScorer for Phase 2 scoring
[17:22:47.323] <tool_capability_manager.ToolCapabilityManager object at 0x30e1cf020>
[17:22:47.323] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13129663600)
[17:22:47.323] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:22:47.323] [INFO] Loaded tool success history for 0 tools
[17:22:47.323] [INFO] StableScorer initialized with semantic capability
[17:22:47.323] [INFO] StableScorer initialized successfully
[17:22:47.323] [INFO] Loading task instances...
[17:22:47.323] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[17:22:47.329] [INFO] Loaded 630 task instances
[17:22:47.329] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[17:22:47.329] 2025-08-20 17:22:47,329 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[17:22:47.329] 2025-08-20 17:22:47,329 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[17:22:47.647] 2025-08-20 17:22:47,647 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[17:22:47.647] 2025-08-20 17:22:47,647 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[17:22:47.663] 2025-08-20 17:22:47,663 - batch_test_runner - INFO - Initialization complete
[17:22:47.689] 2025-08-20 17:22:47,688 - batch_test_runner - INFO - Detected Azure API, disabling QPS sleep for better performance
[17:22:47.689] 2025-08-20 17:22:47,689 - batch_test_runner - INFO - Starting batch test with 5 tasks, 100 workers
[17:22:47.689] 2025-08-20 17:22:47,689 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[17:22:47.689] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:22:47.690] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:22:47.690] 2025-08-20 17:22:47,690 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for DeepSeek-R1-0528
[17:22:47.691] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:22:47.940] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528
[17:22:47.941] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:22:47.941] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528
[17:22:47.941] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:22:47.941] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:22:47.941] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:22:47.941] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[17:22:47.941] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13129663600)
[17:22:47.941] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:22:47.941] 2025-08-20 17:22:47,941 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:22:47.941] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[17:22:47.941] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13129663600)
[17:22:47.941] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:22:47.941] 2025-08-20 17:22:47,941 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:22:47.949] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528
[17:22:47.949] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:22:47.953] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[17:22:47.953] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13129663600)
[17:22:47.953] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:22:47.954] 2025-08-20 17:22:47,954 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:22:47.956] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528
[17:22:47.956] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:22:47.974] [InteractiveExecutor] Initialized client with model: DeepSeek-R1-0528
[17:22:47.974] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:22:47.989] 2025-08-20 17:22:47,989 - mcp_embedding_manager - INFO - FAISS index loaded
[17:22:47.989] 2025-08-20 17:22:47,989 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:22:47.989] 2025-08-20 17:22:47,989 - mcp_embedding_manager - INFO - Index loaded successfully: 20 tools
[17:22:47.992] [INFO] Tool embedding index loaded successfully
[17:22:47.995] 2025-08-20 17:22:47,995 - mcp_embedding_manager - INFO - FAISS index loaded
[17:22:47.995] 2025-08-20 17:22:47,995 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:22:47.995] 2025-08-20 17:22:47,995 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:22:47.997] [INFO] Tool embedding index loaded successfully
[17:22:47.997] 2025-08-20 17:22:47,995 - mcp_embedding_manager - INFO - FAISS index loaded
[17:22:47.997] 2025-08-20 17:22:47,997 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:22:47.997] 2025-08-20 17:22:47,997 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:22:48.000] [INFO] Tool embedding index loaded successfully
[17:22:48.000] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[17:22:48.000] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13129663600)
[17:22:48.000] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:22:48.000] 2025-08-20 17:22:48,000 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:22:48.000] [InteractiveExecutor] API model name: DeepSeek-R1-0528
[17:22:48.000] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13129663600)
[17:22:48.000] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:22:48.000] 2025-08-20 17:22:48,000 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:22:48.000] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:22:48.000] [INFO] Operation semantic index initialized
[17:22:48.001] 
[17:22:48.001] [TURN 1/10]
[17:22:48.001] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:22:48.001] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:22:48.002] [INFO] Operation semantic index initialized
[17:22:48.002] 
[17:22:48.002] [TURN 1/10]
[17:22:48.002] [INFO] Operation semantic index initialized
[17:22:48.002] 
[17:22:48.002] [TURN 1/10]
[17:22:48.009] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528[LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:22:48.009] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:22:48.011] 
[17:22:48.023] 2025-08-20 17:22:48,023 - mcp_embedding_manager - INFO - FAISS index loaded
[17:22:48.023] 2025-08-20 17:22:48,023 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:22:48.023] 2025-08-20 17:22:48,023 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:22:48.025] [INFO] Tool embedding index loaded successfully
[17:22:48.036] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:22:48.038] 2025-08-20 17:22:48,038 - mcp_embedding_manager - INFO - FAISS index loaded
[17:22:48.038] 2025-08-20 17:22:48,038 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:22:48.038] 2025-08-20 17:22:48,038 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:22:48.041] [INFO] Tool embedding index loaded successfully
[17:22:48.041] [INFO] Operation semantic index initialized
[17:22:48.041] 
[17:22:48.041] [TURN 1/10]
[17:22:48.041] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:22:48.041] [INFO] Operation semantic index initialized
[17:22:48.042] 
[17:22:48.042] [TURN 1/10]
[17:22:48.042] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:22:48.042] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:22:58.933] 2025-08-20 17:22:58,932 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:22:58.942]   [SEARCH] Query: data parser
[17:22:58.943] 
[17:22:58.943] [TURN 2/10]
[17:22:58.944] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:23:09.592] 2025-08-20 17:23:09,591 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:23:09.595]   [SEARCH] Query: network api fetch
[17:23:09.597] 
[17:23:09.597] [TURN 2/10]
[17:23:09.597] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:23:34.065] 2025-08-20 17:23:34,064 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:23:34.068]   [PARSE] Fuzzy matched '{"name": "network_fetcher", "parameters": {"source": "https://api.example.com/data"}}' to 'network_fetcher'
[17:23:34.068]   [EXECUTING] network_fetcher
[17:23:34.069]     Result: SUCCESS
[17:23:34.069] 
[17:23:34.069] [TURN 3/10]
[17:23:34.070] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:23:34.278] 2025-08-20 17:23:34,278 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:23:34.279]   [INFO] Tool info request: data_processing_parser
[17:23:34.279] 
[17:23:34.279] [TURN 3/10]
[17:23:34.279] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:23:36.829] 2025-08-20 17:23:36,829 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:23:36.830]   [PARSE] Found tool call: data_processing_parser
[17:23:36.830]   [EXECUTING] data_processing_parser
[17:23:36.830]     Result: FAILED - INVALID_INPUT: Input validation failed (expected: XML format)
[17:23:36.830] 
[17:23:36.830] [TURN 4/10]
[17:23:36.831] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:23:41.735] 2025-08-20 17:23:41,734 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:23:41.738]   [SEARCH] Query: universal data parser
[17:23:42.220] 2025-08-20 17:23:42,219 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:23:42.224] 
[17:23:42.224] [TURN 5/10]
[17:23:42.225] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:23:46.421] 2025-08-20 17:23:46,421 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:23:46.423]   [SEARCH] Query: data validation
[17:23:46.431] 
[17:23:46.431] [TURN 4/10]
[17:23:46.432] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:23:54.495] 2025-08-20 17:23:54,495 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:23:54.496]   [SEARCH] Query: file reader
[17:23:54.496] 
[17:23:54.496] [TURN 2/10]
[17:23:54.498] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:24:02.501] 2025-08-20 17:24:02,499 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:24:02.503]   [PARSE] Found tool call: file_operations_reader
[17:24:02.503]   [EXECUTING] file_operations_reader
[17:24:02.505]     Result: SUCCESS
[17:24:02.505] 
[17:24:02.505] [TURN 3/10]
[17:24:02.506] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:24:03.675] 2025-08-20 17:24:03,674 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:24:03.679]   [PARSE] Fuzzy matched 'data_processing_parser
[17:24:03.680] {
[17:24:03.680]   "source": "data/input.json",
[17:24:03.680]   "options": {"format": "json"}
[17:24:03.680] }' to 'data_processing_parser'
[17:24:03.680]   [EXECUTING] data_processing_parser
[17:24:03.680]     Result: SUCCESS
[17:24:03.680] 
[17:24:03.680] [TURN 6/10]
[17:24:03.682] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:24:05.020] 2025-08-20 17:24:05,020 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:24:05.023]   [INFO] Tool info request: data_processing_validator
[17:24:05.023] 
[17:24:05.023] [TURN 5/10]
[17:24:05.029] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:24:09.512] 2025-08-20 17:24:09,510 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:24:09.514]   [INFO] Tool info request: data_processing_validator
[17:24:09.514] 
[17:24:09.514] [TURN 7/10]
[17:24:09.517] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:24:18.414] 2025-08-20 17:24:18,413 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:24:18.417]   [SEARCH] Query: data validator
[17:24:18.419] 
[17:24:18.419] [TURN 4/10]
[17:24:18.420] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:24:33.968] 2025-08-20 17:24:33,967 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:24:33.970]   [SEARCH] Query: file_operations_reader
[17:24:33.971] 
[17:24:33.971] [TURN 2/10]
[17:24:33.972] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:24:36.274] 2025-08-20 17:24:36,273 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:24:36.275]   [PARSE] Found tool call: file_operations_reader
[17:24:36.275]   [EXECUTING] file_operations_reader
[17:24:36.277]     Result: FAILED - TIMEOUT: Operation timed out (after 16 seconds)
[17:24:36.277] 
[17:24:36.277] [TURN 3/10]
[17:24:36.278] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:24:38.802] 2025-08-20 17:24:38,800 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:24:38.803]   [INFO] Tool info request: data_processing_parser
[17:24:38.803] 
[17:24:38.803] [TURN 6/10]
[17:24:38.818] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:24:48.417] 2025-08-20 17:24:48,416 - openai._base_client - INFO - Retrying request to /chat/completions in 0.376686 seconds
[17:24:49.700] 2025-08-20 17:24:49,699 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:24:49.702]   [SEARCH] Query: data parser
[17:24:49.702] 
[17:24:49.702] [TURN 5/10]
[17:24:49.703] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:24:50.975] 2025-08-20 17:24:50,975 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:24:50.977]   [PARSE] Found tool call: file_operations_reader
[17:24:50.977]   [EXECUTING] file_operations_reader
[17:24:50.977]     Result: SUCCESS
[17:24:50.977] 
[17:24:50.977] [TURN 4/10]
[17:24:50.978] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:25:00.252] 2025-08-20 17:25:00,251 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:25:00.254]   [INFO] Tool info request: data_processing_parser
[17:25:00.254] 
[17:25:00.254] [TURN 5/10]
[17:25:00.255] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:25:24.729] 2025-08-20 17:25:24,728 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:25:24.730]   [PARSE] Found tool call: data_processing_parser
[17:25:24.730]   [EXECUTING] data_processing_parser
[17:25:24.732]     Result: SUCCESS
[17:25:24.732] 
[17:25:24.732] [TURN 6/10]
[17:25:24.732] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:25:27.849] 2025-08-20 17:25:27,849 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:25:27.851]   [PARSE] Found tool call: data_processing_parser
[17:25:27.851]   [EXECUTING] data_processing_parser
[17:25:27.851]     Result: SUCCESS
[17:25:27.851] 
[17:25:27.851] [TURN 6/10]
[17:25:27.853] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:25:31.238] 2025-08-20 17:25:31,237 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:25:31.239]   [INFO] Tool info request: data_processing_filter
[17:25:31.239] 
[17:25:31.239] [TURN 7/10]
[17:25:31.250] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:25:56.143] 2025-08-20 17:25:56,142 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:25:56.145]   [PARSE] Found tool call: data_processing_filter
[17:25:56.145]   [EXECUTING] data_processing_filter
[17:25:56.146]     [PENALTY] Recent failures: 1, success rate reduced
[17:25:56.146]     Result: FAILED - INVALID_INPUT: Input validation failed (expected: CSV format)
[17:25:56.146]   [CONTINUE] Required tools failed: ['data_processing_filter'], may retry
[17:25:56.146] 
[17:25:56.146] [TURN 8/10]
[17:25:56.148] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:26:04.817] 2025-08-20 17:26:04,817 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:26:04.819]   [PARSE] Fuzzy matched 'data_processing_validator
[17:26:04.819] {
[17:26:04.819]   "schema": {
[17:26:04.819]     "type": "object",
[17:26:04.819]     "properties": {
[17:26:04.819]       "data": {
[17:26:04.819]         "type": "array",
[17:26:04.819]         "minItems": 1
[17:26:04.819]       }
[17:26:04.819]     },
[17:26:04.819]     "required": ["data"]
[17:26:04.819]   },
[17:26:04.819]   "data": {"data": "placeholder for parsed data"},
[17:26:04.819]   "options": {}
[17:26:04.819] }' to 'data_processing_validator'
[17:26:04.819]   [EXECUTING] data_processing_validator
[17:26:04.819]     Result: SUCCESS
[17:26:04.819] 
[17:26:04.819] [TURN 8/10]
[17:26:04.824] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:26:07.218] 2025-08-20 17:26:07,214 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:26:07.219]   [SEARCH] Query: data format converter
[17:26:07.221] 
[17:26:07.221] [TURN 9/10]
[17:26:07.223] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:26:07.279] 2025-08-20 17:26:07,278 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:26:07.296]   [INFO] Tool info request: data_processing_transformer
[17:26:07.296] 
[17:26:07.296] [TURN 9/10]
[17:26:07.304] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:26:11.646] 2025-08-20 17:26:11,646 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:26:11.647]   [PARSE] Found tool call: data_processing_validator
[17:26:11.647]   [EXECUTING] data_processing_validator
[17:26:11.648]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[17:26:11.648] 
[17:26:11.648] [TURN 7/10]
[17:26:11.654] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:26:23.510] 2025-08-20 17:26:23,509 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:26:23.515]   [SEARCH] Query: file writer
[17:26:23.518] 
[17:26:23.518] [TURN 7/10]
[17:26:23.529] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:26:23.960] 2025-08-20 17:26:23,960 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:26:23.962]   [PARSE] Fuzzy matched 'data_processing_transformer
[17:26:23.962] {
[17:26:23.962]   "input_format": "json",
[17:26:23.962]   "output_format": "csv",
[17:26:23.962]   "options": {}
[17:26:23.962] }' to 'data_processing_transformer'
[17:26:23.963]   [EXECUTING] data_processing_transformer
[17:26:23.964]     [PENALTY] Recent failures: 1, success rate reduced
[17:26:23.965]     Result: FAILED - TIMEOUT: Operation timed out (after 16 seconds)
[17:26:23.965] 
[17:26:23.965] [TURN 10/10]
[17:26:23.966] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:26:25.679] 2025-08-20 17:26:25,676 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:26:25.684]   [SEARCH] Query: file reader
[17:26:25.684] 
[17:26:25.684] [TURN 2/10]
[17:26:25.688] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:26:26.941] 2025-08-20 17:26:26,941 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:26:26.944]   [INFO] Tool info request: data_processing_validator
[17:26:26.944] 
[17:26:26.944] [TURN 8/10]
[17:26:26.945] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:26:27.689] 2025-08-20 17:26:27,689 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:26:27.691]   [PARSE] Found tool call: file_operations_reader
[17:26:27.691]   [EXECUTING] file_operations_reader
[17:26:27.691]     Result: SUCCESS
[17:26:27.691] 
[17:26:27.691] [TURN 3/10]
[17:26:27.692] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:26:32.362] 2025-08-20 17:26:32,362 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:26:32.362]   [INFO] Tool info request: data_processing_filter
[17:26:32.363] [DEBUG RAG] data_processing_filter semantically matched with data_processing_transformer (score: 0.716)
[17:26:32.363] [DEBUG RAG] data_processing_filter semantically matched with data_processing_parser (score: 0.684)
[17:26:32.363] [DEBUG RAG] data_processing_filter semantically matched with data_processing_validator (score: 0.628)
[17:26:32.364] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:26:32.364] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[17:26:32.364] [AI_DEBUG] 生成的txt_content长度: 22702
[17:26:32.364] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:26:32.364]   - use_ai_classification=True
[17:26:32.364]   - ai_classifier=True
[17:26:32.364]   - txt_content_len=22702
[17:26:32.364]   - task_model=deepseek-r1-0528
[17:26:32.364] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:26:39.102] 2025-08-20 17:26:39,102 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:26:39.114] [AI_DEBUG] AI分类结果: category=parameter_config_errors, confidence=0.85
[17:26:44.054] 2025-08-20 17:26:44,050 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:26:44.055]   [PARSE] Fuzzy matched 'data_processing_validator
[17:26:44.055] {
[17:26:44.055]   "schema": {
[17:26:44.055]     "type": "object",
[17:26:44.055]     "additionalProperties": true
[17:26:44.055]   },
[17:26:44.055]   "data": {}
[17:26:44.055] }' to 'data_processing_validator'
[17:26:44.055]   [EXECUTING] data_processing_validator
[17:26:44.056]     [PENALTY] Recent failures: 1, success rate reduced
[17:26:44.056]     Result: FAILED - OPERATION_FAILED: Operation could not be completed
[17:26:44.056] 
[17:26:44.057] [TURN 9/10]
[17:26:44.058] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:27:20.653] 2025-08-20 17:27:20,652 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:27:20.656]   [PARSE] Found tool call: data_processing_transformer
[17:27:20.656]   [EXECUTING] data_processing_transformer
[17:27:20.657]     [PENALTY] Recent failures: 1, success rate reduced
[17:27:20.658]     Result: SUCCESS
[17:27:20.658]   [CONTINUE] Required tools failed: ['data_processing_filter'], may retry
[17:27:20.658] 
[17:27:20.658] [TURN 10/10]
[17:27:20.659] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:27:24.562] 2025-08-20 17:27:24,561 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:27:24.563]   [PARSE] Found tool call: data_processing_filter
[17:27:24.563]   [EXECUTING] data_processing_filter
[17:27:24.564]     [PENALTY] Recent failures: 1, success rate reduced
[17:27:24.564]     Result: SUCCESS
[17:27:24.566] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:27:39.281] 2025-08-20 17:27:39,281 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:27:39.284]   [PARSE] Fuzzy matched 'file_operations_reader
[17:27:39.285] {
[17:27:39.285]   "source": "data/output.json"
[17:27:39.285] }' to 'file_operations_reader'
[17:27:39.285]   [EXECUTING] file_operations_reader
[17:27:39.285]     [PENALTY] Recent failures: 2, success rate reduced
[17:27:39.285]     Result: SUCCESS
[17:27:39.285] 
[17:27:39.285] [TURN 10/10]
[17:27:39.292] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:27:47.798] 2025-08-20 17:27:47,797 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:27:47.800]   [PARSE] Fuzzy matched '{"name": "file_operations_writer", "parameters": {"destination": "data/output.json"}}' to 'file_operations_writer'
[17:27:47.800]   [EXECUTING] file_operations_writer
[17:27:47.800]     [DEPENDENCY] Missing: data_processing_transformer, success rate reduced
[17:27:47.800]     [DEPENDENCY] Missing: network_validator, success rate reduced
[17:27:47.801]     Result: FAILED - TIMEOUT: Operation timed out (after 18 seconds)
[17:27:47.801] 
[17:27:47.801] [TURN 8/10]
[17:27:47.802] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:27:53.471] 2025-08-20 17:27:53,470 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:27:53.471]   [INFO] Tool info request: data_processing_validator
[17:27:53.473] [DEBUG RAG] data_processing_transformer semantically matched with data_processing_parser (score: 0.742)
[17:27:53.473] [DEBUG RAG] data_processing_transformer semantically matched with data_processing_validator (score: 0.617)
[17:27:53.474] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:27:53.474] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[17:27:53.474] [AI_DEBUG] 生成的txt_content长度: 26435
[17:27:53.474] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:27:53.474]   - use_ai_classification=True
[17:27:53.474]   - ai_classifier=True
[17:27:53.474]   - txt_content_len=26435
[17:27:53.474]   - task_model=deepseek-r1-0528
[17:27:53.474] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:28:01.563] 2025-08-20 17:28:01,563 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:28:01.564] [AI_DEBUG] AI分类结果: category=parameter_config_errors, confidence=0.85
[17:28:19.391] 2025-08-20 17:28:19,390 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:28:19.394]   [PARSE] Fuzzy matched '{"name": "data_processing_parser", "parameters": {"source": "https://api.example.com/data"}}' to 'data_processing_parser'
[17:28:19.394]   [EXECUTING] data_processing_parser
[17:28:19.395]     Result: FAILED - TIMEOUT: Operation timed out (after 31 seconds)
[17:28:19.395] 
[17:28:19.395] [TURN 9/10]
[17:28:19.396] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:28:27.700] 2025-08-20 17:28:27,699 - openai._base_client - INFO - Retrying request to /chat/completions in 0.476175 seconds
[17:28:52.558] 2025-08-20 17:28:52,554 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:28:52.561]   [PARSE] Fuzzy matched '{"name": "data_processing_validator", "parameters": {"schema": {"type": "object", "properties": {}}, "data": "https://api.example.com/data"}}' to 'data_processing_validator'
[17:28:52.561]   [EXECUTING] data_processing_validator
[17:28:52.562]     [DEPENDENCY] Failed: data_processing_parser, success rate reduced
[17:28:52.562]     [PENALTY] Recent failures: 2, success rate reduced
[17:28:52.562]     Result: SUCCESS
[17:28:52.562]   [CONTINUE] Required tools failed: ['data_processing_parser'], may retry
[17:28:52.562] 
[17:28:52.562] [TURN 10/10]
[17:28:52.562] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:28:57.061] 2025-08-20 17:28:57,061 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:28:57.063]   [SEARCH] Query: data parser
[17:28:57.064] 
[17:28:57.064] [TURN 4/10]
[17:28:57.065] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:29:08.893] 2025-08-20 17:29:08,892 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:29:08.895]   [PARSE] Found tool call: data_processing_parser
[17:29:08.895]   [EXECUTING] data_processing_parser
[17:29:08.895]     Result: FAILED - INVALID_INPUT: Input validation failed (expected: CSV format)
[17:29:08.895] 
[17:29:08.895] [TURN 5/10]
[17:29:08.902] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:29:20.011] 2025-08-20 17:29:20,009 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:29:20.012]   [SEARCH] Query: json to csv converter
[17:29:20.012] 
[17:29:20.012] [TURN 6/10]
[17:29:20.016] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:29:20.044] 2025-08-20 17:29:20,043 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:29:20.050]   [PARSE] Fuzzy matched '{"name": "data_processing_parser", "parameters": {"source": "https://api.example.com/data"}}' to 'data_processing_parser'
[17:29:20.050]   [EXECUTING] data_processing_parser
[17:29:20.050]     [PENALTY] Recent failures: 2, success rate reduced
[17:29:20.050]     Result: FAILED - TIMEOUT: Operation timed out (after 47 seconds)
[17:29:20.050]   [CONTINUE] Required tools failed: ['data_processing_parser'], may retry
[17:29:20.051] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:29:20.051] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[17:29:20.052] [AI_DEBUG] 生成的txt_content长度: 26595
[17:29:20.052] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:29:20.052]   - use_ai_classification=True
[17:29:20.052]   - ai_classifier=True
[17:29:20.052]   - txt_content_len=26595
[17:29:20.052]   - task_model=deepseek-r1-0528
[17:29:20.052] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:29:25.363] 2025-08-20 17:29:25,363 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:29:25.364] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.85
[17:29:34.416] 2025-08-20 17:29:34,416 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:29:34.417]   [INFO] Tool info request: file_operations_converter
[17:29:34.417] 
[17:29:34.417] [TURN 7/10]
[17:29:34.418] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:29:54.300] 2025-08-20 17:29:54,300 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:29:54.305]   [PARSE] Found tool call: file_operations_converter
[17:29:54.305]   [EXECUTING] file_operations_converter
[17:29:54.307]     Result: FAILED - INVALID_INPUT: Input validation failed (expected: XML format)
[17:29:54.307] 
[17:29:54.307] [TURN 8/10]
[17:29:54.308] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:30:02.007] 2025-08-20 17:30:02,005 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:30:02.008]   [SEARCH] Query: json parser
[17:30:02.012] 
[17:30:02.013] [TURN 9/10]
[17:30:02.013] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:30:08.476] 2025-08-20 17:30:08,475 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:30:08.478]   [INFO] Tool info request: data_processing_parser
[17:30:08.478] 
[17:30:08.478] [TURN 10/10]
[17:30:08.479] [LLM_CALL] Using model: DeepSeek-R1-0528, API name: DeepSeek-R1-0528
[17:30:45.939] 2025-08-20 17:30:45,937 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.services.ai.azure.com/openai/deployments/DeepSeek-R1-0528/chat/completions?api-version=2024-02-15-preview "HTTP/1.1 200 OK"
[17:30:45.940]   [PARSE] Found tool call: data_processing_parser
[17:30:45.940]   [EXECUTING] data_processing_parser
[17:30:45.941]     [PENALTY] Recent failures: 2, success rate reduced
[17:30:45.942]     Result: FAILED - TIMEOUT: Operation timed out (after 11 seconds)
[17:30:45.944] [DEBUG RAG] data_processing_transformer semantically matched with data_processing_parser (score: 0.742)
[17:30:45.944] [DEBUG RAG] data_processing_transformer semantically matched with file_operations_converter (score: 0.618)
[17:30:45.944] [DEBUG RAG] data_processing_filter semantically matched with data_processing_parser (score: 0.684)
[17:30:45.944] [DEBUG RAG] data_processing_validator semantically matched with data_processing_parser (score: 0.625)
[17:30:45.945] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:30:45.945] [AI_DEBUG] 测试非完全成功(partial_success)，准备调用AI分类
[17:30:45.945] [AI_DEBUG] 生成的txt_content长度: 28762
[17:30:45.945] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:30:45.945]   - use_ai_classification=True
[17:30:45.945]   - ai_classifier=True
[17:30:45.946]   - txt_content_len=28762
[17:30:45.946]   - task_model=deepseek-r1-0528
[17:30:45.946] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:30:51.716] 2025-08-20 17:30:51,716 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:30:51.719] [AI_DEBUG] AI分类结果: category=parameter_config_errors, confidence=0.85
[17:30:51.731] 
[17:30:51.732] [INFO] Batch writing 5 records to database (deepseek-r1-0528:5)
[17:30:51.732] 2025-08-20 17:30:51,731 - batch_test_runner - INFO - Batch writing 5 records to database (deepseek-r1-0528:5)
[17:30:51.733] [INFO] Successfully wrote 5/5 records (deepseek-r1-0528:5)
[17:30:51.733] 2025-08-20 17:30:51,733 - batch_test_runner - INFO - Successfully wrote 5/5 records (deepseek-r1-0528:5)
[17:30:51.735] [INFO] 数据已同步到Parquet存储
[17:30:51.735] 2025-08-20 17:30:51,735 - batch_test_runner - INFO - Database saved successfully
[17:30:51.735] 2025-08-20 17:30:51,735 - batch_test_runner - INFO - ============================================================
[17:30:51.735] 2025-08-20 17:30:51,735 - batch_test_runner - INFO - Batch test completed at 2025-08-20T17:30:51.735494
[17:30:51.735] 2025-08-20 17:30:51,735 - batch_test_runner - INFO - Summary:
[17:30:51.735] 2025-08-20 17:30:51,735 - batch_test_runner - INFO -   - Total tests: 5
[17:30:51.735] 2025-08-20 17:30:51,735 - batch_test_runner - INFO -   - Successful: 5
[17:30:51.735] 2025-08-20 17:30:51,735 - batch_test_runner - INFO -   - Failed: 0
[17:30:51.735] 2025-08-20 17:30:51,735 - batch_test_runner - INFO -   - Success rate: 100.0%
[17:30:51.735] 2025-08-20 17:30:51,735 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250820_172243.log
[17:30:51.736] 2025-08-20 17:30:51,735 - batch_test_runner - INFO - ============================================================
[17:30:51.736] 
[17:30:51.736] ✅ 批测试完成
[17:30:51.736]    成功: 5/5
[17:30:51.736]    失败: 0/5
[17:30:51.736] 
[17:30:51.736] 📤 最终保存5个测试结果...
[17:30:51.737] [DEBUG] 创建新的manager实例: key=True_
[17:30:51.737] ✅ 已保存 5 个测试结果到数据库
[17:30:51.874] [INFO] 已将 5 个汇总写入Parquet
[17:30:51.916] [INFO] 刷新manager缓存: key=True_

==================================================
分片 DeepSeek-R1-0528_easy_0 完成
退出码: 0
总行数: 711
运行时间: 493.6秒
时间: 2025-08-20T17:30:53.407266
