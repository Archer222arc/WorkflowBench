===== 分片 qwen2.5-72b-instruct_easy_key1 =====
时间: 2025-08-20T17:26:09.928364
模型: qwen2.5-72b-instruct
实例: qwen-key1
命令: python -u smart_batch_runner.py --model qwen2.5-72b-instruct --deployment qwen-key1 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
环境变量:
  STORAGE_FORMAT=parquet
  PYTHONFAULTHANDLER=1
  PYTHONUNBUFFERED=1
==================================================

[17:26:11.897] 2025-08-20 17:26:11,897 - faiss.loader - INFO - Loading faiss.
[17:26:11.911] 2025-08-20 17:26:11,911 - faiss.loader - INFO - Successfully loaded faiss.
[17:26:13.119] [INFO] 使用Parquet存储格式
[17:26:13.534] [INFO] 使用Parquet存储格式
[17:26:13.540] [INFO] 使用PARQUET存储格式
[17:26:13.540] 
[17:26:13.540] ============================================================
[17:26:13.540] 智能批测试: qwen2.5-72b-instruct (idealab)
[17:26:13.540] Prompt types: ['optimal']
[17:26:13.540] 难度: easy
[17:26:13.540] 目标: 每种配置 2 个实例
[17:26:13.540] ============================================================
[17:26:13.582] ○ simple_task         :   0/  2 已完成 (需要补充 2 个)
[17:26:13.586] ○ basic_task          :   0/  2 已完成 (需要补充 2 个)
[17:26:13.591] ○ data_pipeline       :   0/  2 已完成 (需要补充 2 个)
[17:26:13.595] ○ api_integration     :   0/  2 已完成 (需要补充 2 个)
[17:26:13.599] ○ multi_stage_pipeline:   0/  2 已完成 (需要补充 2 个)
[17:26:13.599] 
[17:26:13.599] ⏳ 需要运行 10 个新测试
[17:26:13.599] 
[17:26:13.599] ▶ 准备 simple_task (2 个实例)...
[17:26:13.599] 
[17:26:13.599] ▶ 准备 basic_task (2 个实例)...
[17:26:13.599] 
[17:26:13.599] ▶ 准备 data_pipeline (2 个实例)...
[17:26:13.599] 
[17:26:13.599] ▶ 准备 api_integration (2 个实例)...
[17:26:13.599] 
[17:26:13.599] ▶ 准备 multi_stage_pipeline (2 个实例)...
[17:26:13.599] 
[17:26:13.599] ▶ 开始执行 10 个测试...
[17:26:13.599] 📦 批量提交模式：每20个测试保存一次
[17:26:13.599] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[17:26:13.612] 2025-08-20 17:26:13,612 - smart_model_router - INFO - ✨ Using USER's Azure endpoint for gpt-5-nano
[17:26:13.687] 2025-08-20 17:26:13,687 - txt_based_ai_classifier - INFO - TXT-based AI classifier initialized with gpt-5-nano (parameter-filtered)
[17:26:13.687] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x168874ef0>
[17:26:13.687] 2025-08-20 17:26:13,687 - batch_test_runner - INFO - 基于TXT文件的AI错误分类系统已启用 (使用gpt-5-nano)
[17:26:13.687] [DEBUG] BatchTestRunner initialized with save_logs=True, enable_database_updates=True, use_ai_classification=True, checkpoint_interval=20
[17:26:13.687] 2025-08-20 17:26:13,687 - batch_test_runner - INFO - ============================================================
[17:26:13.687] 2025-08-20 17:26:13,687 - batch_test_runner - INFO - Batch test runner initialized
[17:26:13.687] 2025-08-20 17:26:13,687 - batch_test_runner - INFO - Configuration: debug=False, silent=False, adaptive=False
[17:26:13.687] 2025-08-20 17:26:13,687 - batch_test_runner - INFO - Log file: logs/batch_test_20250820_172613.log
[17:26:13.687] 2025-08-20 17:26:13,687 - batch_test_runner - INFO - ============================================================
[17:26:13.687] 2025-08-20 17:26:13,687 - batch_test_runner - INFO - Running 10 tests with 3 workers, QPS limit: 5.0
[17:26:13.687] 2025-08-20 17:26:13,687 - batch_test_runner - INFO - Initializing test components...
[17:26:13.989] 2025-08-20 17:26:13,989 - batch_test_runner - INFO - Found pre-generated workflows, will use them to save memory
[17:26:13.989] 2025-08-20 17:26:13,989 - batch_test_runner - INFO - ⚡ [OPTIMIZATION] Using MDPWorkflowGenerator with SKIP_MODEL_LOADING=true
[17:26:13.989] 2025-08-20 17:26:13,989 - batch_test_runner - INFO - ⚡ This saves ~350MB memory while keeping all functionality intact
[17:26:13.989] [DEBUG] Creating new ToolCapabilityManager instance
[17:26:13.989] [OperationEmbeddingIndex] Initializing with unified API client manager
[17:26:13.989] ['config/config.json', 'config/api_keys.json', 'config/api-keys.json']
[17:26:13.990] 2025-08-20 17:26:13,990 - api_client_manager - INFO - Loaded configuration from config/config.json
[17:26:13.996] [OperationEmbeddingIndex] OpenAI client initialized with model: gpt-4o-mini
[17:26:13.996] [OperationEmbeddingIndex] Using embedding model: text-embedding-3-large
[17:26:13.996] [OperationEmbeddingIndex] Detecting actual embedding dimension...
[17:26:14.862] 2025-08-20 17:26:14,861 - httpx - INFO - HTTP Request: POST https://archer222arc.openai.azure.com/openai/deployments/text-embedding-3-large/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:26:14.864] [OperationEmbeddingIndex] Detected embedding dimension: 3072
[17:26:14.944] [INFO] Loaded 4150 embeddings from persistent cache
[17:26:14.944] [OperationEmbeddingIndex] Initialized with 4150 cached embeddings
[17:26:14.945] [INFO] Loaded 15 LLM-enhanced operation definitions from cache
[17:26:14.945] [INFO] Found cached operation index at .mcp_operation_cache/operation_index.pkl
[17:26:14.945] [INFO] Loading operation index from .mcp_operation_cache/operation_index.pkl
[17:26:14.957] [INFO] Successfully loaded FAISS index with dimension 3072
[17:26:14.957] [INFO] Operation index loaded successfully from .mcp_operation_cache/operation_index.pkl
[17:26:14.957] [INFO] Loaded 15 operations with dimension 3072
[17:26:14.957] [INFO] Successfully loaded cached index
[17:26:14.957] [INFO] Operation semantic index initialized
[17:26:14.957] [INFO] Using device: cpu
[17:26:14.958] [INFO] Initialized tool success tracking attributes
[17:26:14.958] [INFO] Initializing embedding manager for enhanced tool selection
[17:26:14.958] [MCPEmbeddingManager] Creating new singleton instance
[17:26:14.958] [MCPEmbeddingManager] Initializing with unified API client manager
[17:26:14.975] [MCPEmbeddingManager] Using embedding model: text-embedding-3-large
[17:26:14.975] [MCPEmbeddingManager] Client initialized successfully
[17:26:14.975] 2025-08-20 17:26:14,975 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[17:26:15.090] 2025-08-20 17:26:15,090 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[17:26:15.328] 2025-08-20 17:26:15,328 - mcp_embedding_manager - INFO - Loaded search cache with 3 entries
[17:26:15.328] 2025-08-20 17:26:15,328 - mcp_embedding_manager - INFO - Initialized operation mappings with 149 terms
[17:26:15.350] 2025-08-20 17:26:15,350 - mcp_embedding_manager - INFO - Loading embedding cache from .mcp_embedding_cache/embedding_cache.pkl (size: 173790244 bytes)
[17:26:15.415] 2025-08-20 17:26:15,415 - mcp_embedding_manager - INFO - Loaded 7050 cached embeddings
[17:26:15.762] 2025-08-20 17:26:15,762 - mcp_embedding_manager - INFO - [Cache] Loaded 9650 entries from file
[17:26:15.762] [MCPEmbeddingManager] Singleton created with 0 cached embeddings
[17:26:15.762] [INFO] Loading embedding index from .mcp_embedding_cache/tool_index.pkl
[17:26:15.762] 2025-08-20 17:26:15,762 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:26:16.111] 2025-08-20 17:26:16,111 - mcp_embedding_manager - INFO - FAISS index loaded
[17:26:16.111] 2025-08-20 17:26:16,111 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:26:16.111] 2025-08-20 17:26:16,111 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:26:16.113] [SUCCESS] Loaded 30 tool embeddings
[17:26:16.113] 2025-08-20 17:26:16,113 - mdp_workflow_generator - INFO - Embedding index loaded successfully
[17:26:16.113] [SUCCESS] Embedding manager initialized with 30 tools
[17:26:16.113] [INFO] Initialized task types: ['simple_task', 'data_pipeline', 'api_integration', 'basic_task', 'multi_stage_pipeline']
[17:26:16.113] [INFO] Loading full MCP protocol registry...
[17:26:16.114] 2025-08-20 17:26:16,114 - mdp_workflow_generator - INFO - Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:26:16.114] [INFO] Loaded full tool registry with 30 tools
[17:26:16.114] 2025-08-20 17:26:16,114 - mdp_workflow_generator - INFO - Loading tools from mcp_generated_library/tool_registry_consolidated.json
[17:26:16.114] [INFO] Loading tools from mcp_generated_library/tool_registry_consolidated.json
[17:26:16.114] [INFO] Embedding manager ready with 30 tools
[17:26:16.114] [WARNING] Embedding manager exists but has no embeddings
[17:26:16.114] [INFO] Consider rebuilding index with: embedding_manager.build_index(tools_path)
[17:26:16.114] [INFO] Tool file_operations_reader: semantic operations = ['read', 'write', 'parse', 'transform']
[17:26:16.115] [INFO] Tool file_operations_scanner: semantic operations = ['read', 'write', 'parse', 'transform']
[17:26:16.115] [INFO] Tool network_fetcher: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:26:16.115] [INFO] Tool integration_authenticator: semantic operations = ['integrate', 'transform', 'validate']
[17:26:16.115] [INFO] Tool utility_logger: semantic operations = ['cache', 'process']
[17:26:16.115] [INFO] Tool data_processing_parser: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:26:16.115] [INFO] Tool data_processing_transformer: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:26:16.115] [INFO] Tool data_processing_validator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:26:16.115] [INFO] Tool network_validator: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:26:16.115] [INFO] Tool computation_calculator: semantic operations = ['compute', 'aggregate', 'transform']
[17:26:16.115] [INFO] Tool data_processing_filter: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:26:16.115] [INFO] Tool data_processing_aggregator: semantic operations = ['validate', 'transform', 'filter', 'aggregate']
[17:26:16.115] [INFO] Tool file_operations_converter: semantic operations = ['read', 'write', 'parse', 'transform']
[17:26:16.115] [INFO] Tool file_operations_compressor: semantic operations = ['read', 'write', 'parse', 'transform']
[17:26:16.115] [INFO] Tool file_operations_writer: semantic operations = ['read', 'write', 'parse', 'transform']
[17:26:16.115] [INFO] Tool network_poster: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:26:16.115] [INFO] Tool network_monitor: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:26:16.115] [INFO] Tool network_router: semantic operations = ['read', 'write', 'validate', 'integrate']
[17:26:16.115] [INFO] Tool computation_predictor: semantic operations = ['compute', 'aggregate', 'transform']
[17:26:16.115] [INFO] Tool computation_analyzer: semantic operations = ['compute', 'aggregate', 'transform']
[17:26:16.115] [INFO] Tool computation_simulator: semantic operations = ['compute', 'aggregate', 'transform']
[17:26:16.115] [INFO] Tool computation_optimizer: semantic operations = ['compute', 'aggregate', 'transform']
[17:26:16.115] [INFO] Tool integration_mapper: semantic operations = ['integrate', 'transform', 'validate']
[17:26:16.115] [INFO] Tool integration_queue: semantic operations = ['integrate', 'transform', 'validate']
[17:26:16.115] [INFO] Tool integration_scheduler: semantic operations = ['integrate', 'transform', 'validate']
[17:26:16.115] [INFO] Tool integration_connector: semantic operations = ['integrate', 'transform', 'validate']
[17:26:16.115] [INFO] Tool utility_cache: semantic operations = ['cache', 'process']
[17:26:16.115] [INFO] Tool utility_tracker: semantic operations = ['cache', 'process']
[17:26:16.115] [INFO] Tool utility_helper: semantic operations = ['cache', 'process']
[17:26:16.115] [INFO] Tool utility_notifier: semantic operations = ['cache', 'process']
[17:26:16.115] 2025-08-20 17:26:16,115 - mdp_workflow_generator - INFO - Loaded 30 tools
[17:26:16.115] [INFO] Setting default state_dim based on loaded tools
[17:26:16.115] [INFO] state_dim set to 345 (tools=30, base=340, task_types=5)
[17:26:16.115] 2025-08-20 17:26:16,115 - mdp_workflow_generator - INFO - Default state_dim calculated: 345
[17:26:16.115] [INFO] Setting default action_dim based on loaded tools
[17:26:16.115] [INFO] action_dim set to 31 (tools=30 + NO_OP)
[17:26:16.115] 2025-08-20 17:26:16,115 - mdp_workflow_generator - INFO - Default action_dim calculated: 31
[17:26:16.115] [INFO] ⚡ SKIP_MODEL_LOADING=true - Skipping neural network model loading
[17:26:16.115] [INFO] ⚡ Memory optimization: Saving ~350MB by not loading model
[17:26:16.115] [INFO] ⚡ Will use pre-generated workflows or random policy
[17:26:16.115] 2025-08-20 17:26:16,115 - mdp_workflow_generator - INFO - Model loading skipped for memory optimization (SKIP_MODEL_LOADING=true)
[17:26:16.115] [INFO] Initializing TaskManager...
[17:26:17.229] 2025-08-20 17:26:17,229 - unified_training_manager - INFO - Using device: cpu
[17:26:17.333] 2025-08-20 17:26:17,333 - unified_training_manager - INFO - Task filtering results:
[17:26:17.334] 2025-08-20 17:26:17,333 - unified_training_manager - INFO -   Total: 5040 -> 5040
[17:26:17.334] 2025-08-20 17:26:17,333 - unified_training_manager - INFO -   simple_task: 320 -> 320
[17:26:17.334] 2025-08-20 17:26:17,333 - unified_training_manager - INFO -   data_pipeline: 1520 -> 1520
[17:26:17.334] 2025-08-20 17:26:17,333 - unified_training_manager - INFO -   api_integration: 1360 -> 1360
[17:26:17.334] 2025-08-20 17:26:17,333 - unified_training_manager - INFO -   basic_task: 1200 -> 1200
[17:26:17.334] 2025-08-20 17:26:17,333 - unified_training_manager - INFO -   multi_stage_pipeline: 640 -> 640
[17:26:17.334] 2025-08-20 17:26:17,333 - unified_training_manager - INFO - Loaded 5040 tasks from mcp_generated_library/task_library_all_difficulties.json
[17:26:17.335] 2025-08-20 17:26:17,335 - unified_training_manager - INFO - Organized tasks: 5 types, 3 complexity levels, 5 difficulty levels
[17:26:17.336] [TaskManager] Difficulty level 'easy': 1096 tasks
[17:26:17.336] [TaskManager] Difficulty level 'very_easy': 856 tasks
[17:26:17.336] [TaskManager] Difficulty level 'medium': 1136 tasks
[17:26:17.336] [TaskManager] Difficulty level 'hard': 1096 tasks
[17:26:17.336] [TaskManager] Difficulty level 'very_hard': 856 tasks
[17:26:17.338] [INFO] TaskManager initialized with 5040 tasks
[17:26:17.338] [INFO] Task types available: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[17:26:17.338] [INFO] Initializing ToolCallVerifier...
[17:26:17.338] [INFO] ToolCallVerifier initialized with 30 tools
[17:26:17.338] [INFO] Output tools identified: 1
[17:26:17.338] [INFO] Component initialization status:
[17:26:17.338]   - embedding_manager: initialized
[17:26:17.338]   - task_manager: initialized
[17:26:17.338]   - output_verifier: initialized
[17:26:17.338]   - tool_capability_manager: initialized
[17:26:17.338]   - tool_success_rates: initialized with 0 entries
[17:26:17.338] [INFO] MDPWorkflowGenerator initialization complete
[17:26:17.338] 2025-08-20 17:26:17,338 - mdp_workflow_generator - INFO - MDPWorkflowGenerator initialized successfully
[17:26:17.338] 2025-08-20 17:26:17,338 - batch_test_runner - INFO - ✅ MDPWorkflowGenerator initialized successfully:
[17:26:17.338] 2025-08-20 17:26:17,338 - batch_test_runner - INFO -   - task_manager: ✓
[17:26:17.338] 2025-08-20 17:26:17,338 - batch_test_runner - INFO -   - output_verifier: ✓
[17:26:17.338] 2025-08-20 17:26:17,338 - batch_test_runner - INFO -   - embedding_manager: ✓
[17:26:17.338] 2025-08-20 17:26:17,338 - batch_test_runner - INFO -   - tool_capabilities: 30 tools
[17:26:17.338] 2025-08-20 17:26:17,338 - batch_test_runner - INFO -   - neural network: skipped (saving 350MB)
[17:26:17.338] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:26:17.338] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:26:17.338] [FlawedWorkflowGenerator] Initialized with 30 tools
[17:26:17.338] [FlawedWorkflowGenerator] RAG support: disabled
[17:26:17.341] DEBUG: Checking generator attributes
[17:26:17.341]   - has tool_capabilities: True
[17:26:17.341]   - has tool_capability_manager: True
[17:26:17.341]   - has task_manager: True
[17:26:17.341] [INFO] Loaded 30 tools from generator
[17:26:17.341] [INFO] Tool names sample: ['computation_analyzer', 'computation_calculator', 'computation_optimizer', 'computation_predictor', 'computation_simulator']...
[17:26:17.341] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:26:17.341] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:26:17.341] [INFO] Initializing LLM client using APIClientManager
[17:26:17.346] [INFO] Using Azure OpenAI client
[17:26:17.346] [DEBUG] Checking if generator has tool_capability_manager attribute
[17:26:17.346] [DEBUG] Creating FlawedWorkflowGenerator with correct parameters
[17:26:17.346] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:26:17.346] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:26:17.346] [FlawedWorkflowGenerator] Initialized with 30 tools
[17:26:17.346] [FlawedWorkflowGenerator] RAG support: enabled
[17:26:17.347] [INFO] FlawedWorkflowGenerator initialized successfully
[17:26:17.347] [INFO] Initializing StableScorer for Phase 2 scoring
[17:26:17.347] <tool_capability_manager.ToolCapabilityManager object at 0x30a8cb1d0>
[17:26:17.347] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:26:17.347] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:26:17.347] [INFO] Loaded tool success history for 0 tools
[17:26:17.347] [INFO] StableScorer initialized with semantic capability
[17:26:17.347] [INFO] StableScorer initialized successfully
[17:26:17.347] [INFO] Loading task instances...
[17:26:17.347] [INFO] Loading task instances from mcp_generated_library/difficulty_versions/task_library_enhanced_v3_easy.json
[17:26:17.355] [INFO] Loaded 630 task instances
[17:26:17.355] [INFO] Task instances loaded: ['basic_task', 'data_pipeline', 'multi_stage_pipeline', 'simple_task', 'api_integration']
[17:26:17.356] 2025-08-20 17:26:17,355 - batch_test_runner - INFO - Loading task library with pre-generated workflows: task_library_enhanced_v3_easy_with_workflows.json
[17:26:17.356] 2025-08-20 17:26:17,356 - batch_test_runner - INFO - Using partial loading: 20 tasks per type
[17:26:17.674] 2025-08-20 17:26:17,674 - batch_test_runner - INFO - Partially loaded 100 tasks (vs 630 total)
[17:26:17.674] 2025-08-20 17:26:17,674 - batch_test_runner - INFO - Estimated memory saving: 84.1%
[17:26:17.691] 2025-08-20 17:26:17,691 - batch_test_runner - INFO - Initialization complete
[17:26:17.716] 2025-08-20 17:26:17,716 - batch_test_runner - INFO - Starting batch test with 10 tasks, 3 workers
[17:26:17.716] 2025-08-20 17:26:17,716 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[17:26:17.717] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:26:17.717] 2025-08-20 17:26:17,717 - smart_model_router - INFO - Using idealab for qwen2.5-72b-instruct
[17:26:17.724] 2025-08-20 17:26:17,724 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:26:17.724] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:26:17.724] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:26:17.724] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:26:17.724] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:26:17.724] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:26:17.724] 2025-08-20 17:26:17,724 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:26:17.995] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager2025-08-20 17:26:17,995 - mcp_embedding_manager - INFO - FAISS index loaded
[17:26:17.995] 2025-08-20 17:26:17,995 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:26:17.995] 2025-08-20 17:26:17,995 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:26:17.997] [INFO] Tool embedding index loaded successfully
[17:26:17.997] 
[17:26:18.001] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:26:18.001] [INFO] Operation semantic index initialized
[17:26:18.001] 
[17:26:18.001] [TURN 1/10]
[17:26:18.001] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:18.006] 2025-08-20 17:26:18,006 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:26:18.006] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:26:18.006] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:26:18.008] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:26:18.008] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:26:18.008] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:26:18.008] 2025-08-20 17:26:18,008 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:26:18.025] 2025-08-20 17:26:18,025 - mcp_embedding_manager - INFO - FAISS index loaded
[17:26:18.025] 2025-08-20 17:26:18,025 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:26:18.025] 2025-08-20 17:26:18,025 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:26:18.027] [INFO] Tool embedding index loaded successfully
[17:26:18.028] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:26:18.028] [INFO] Operation semantic index initialized
[17:26:18.028] 
[17:26:18.028] [TURN 1/10]
[17:26:18.029] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:18.191] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:26:18.203] 2025-08-20 17:26:18,203 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:26:18.203] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:26:18.203] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:26:18.208] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:26:18.208] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:26:18.208] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:26:18.208] 2025-08-20 17:26:18,208 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:26:18.234] 2025-08-20 17:26:18,234 - mcp_embedding_manager - INFO - FAISS index loaded
[17:26:18.234] 2025-08-20 17:26:18,234 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:26:18.234] 2025-08-20 17:26:18,234 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:26:18.237] [INFO] Tool embedding index loaded successfully
[17:26:18.238] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:26:18.238] [INFO] Operation semantic index initialized
[17:26:18.238] 
[17:26:18.238] [TURN 1/10]
[17:26:18.241] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:18.743] 2025-08-20 17:26:18,742 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:18.745] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"47e5e684-ab71-9b7b-87e2-5491abb5d15b"}, traceId: 213e064717557359786247610e895a'}
[17:26:18.745] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:26:18.973] 2025-08-20 17:26:18,971 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:18.975] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"890a3329-fc26-9e61-a39b-722aee8e3eb0"}, traceId: 213e04ea17557359788502832e34c9'}
[17:26:18.975] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:26:19.341] 2025-08-20 17:26:19,340 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:19.346]   [SEARCH] Query: data validation schema compliance
[17:26:19.346] 
[17:26:19.346] [TURN 2/10]
[17:26:19.348] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:19.860] 2025-08-20 17:26:19,860 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:19.863] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1dd48ddb-0e0a-9007-8401-a7ae54d2581e"}, traceId: 213e04ea17557359797312844e34c9'}
[17:26:19.863] [RETRY] 400 error detected, waiting 1.6s before retry (not counting as turn)...
[17:26:20.403] 2025-08-20 17:26:20,403 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:20.410]   [INFO] Tool info request: data_processing_validator
[17:26:20.410] 
[17:26:20.410] [TURN 3/10]
[17:26:20.411] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:20.723] 2025-08-20 17:26:20,723 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:20.726] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"87470446-ee38-9702-9db4-72ec4b62d0c9"}, traceId: 213e06c117557359806027806e89e9'}
[17:26:20.726] [RETRY] 400 error detected, waiting 1.5s before retry (not counting as turn)...
[17:26:21.122] 2025-08-20 17:26:21,122 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:21.124]   [SEARCH] Query: data validation schema compliance
[17:26:21.125] 
[17:26:21.125] [TURN 2/10]
[17:26:21.125] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:21.850] 2025-08-20 17:26:21,849 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:21.854] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e0fb448c-26a8-9fe3-b536-5cc8bdd8de4e"}, traceId: 213e04ea17557359817122864e34c9'}
[17:26:21.854] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[17:26:22.215] 2025-08-20 17:26:22,215 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:22.219]   [INFO] Tool info request: data_processing_validator
[17:26:22.219] 
[17:26:22.219] [TURN 3/10]
[17:26:22.219] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:23.356] 2025-08-20 17:26:23,355 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:23.359]   [INFO] Tool info request: data_processing_parser
[17:26:23.359] 
[17:26:23.359] [TURN 4/10]
[17:26:23.360] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:23.556] 2025-08-20 17:26:23,556 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:23.560]   [INFO] Tool info request: data_processing_parser
[17:26:23.560] 
[17:26:23.560] [TURN 4/10]
[17:26:23.561] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:23.889] 2025-08-20 17:26:23,888 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:23.891] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"bb4c0986-dd3b-9803-b31c-59db4a77942b"}, traceId: 213e06c117557359837517814e89e9'}
[17:26:23.891] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:26:24.285] 2025-08-20 17:26:24,284 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:24.290]   [EARLY_EXIT] No actions taken, continuing...
[17:26:24.290] 
[17:26:24.290] [TURN 5/10]
[17:26:24.292] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:24.619] 2025-08-20 17:26:24,619 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:24.623] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e98173d4-0822-9471-828c-7eaeb1603938"}, traceId: 213e064717557359844837645e895a'}
[17:26:24.624] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:26:24.768] 2025-08-20 17:26:24,768 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:24.772] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e93ea5dc-7eb8-997b-898f-5b9306594155"}, traceId: 213e06c117557359846487816e89e9'}
[17:26:24.772] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[17:26:25.833] 2025-08-20 17:26:25,833 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:25.838]   [SEARCH] Query: file reader
[17:26:25.838] 
[17:26:25.838] [TURN 2/10]
[17:26:25.839] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:26.365] 2025-08-20 17:26:26,365 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:26.366] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2374e6fd-a689-9d90-90b0-97fec85a1e12"}, traceId: 213e064717557359862317649e895a'}
[17:26:26.366] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[17:26:26.788] 2025-08-20 17:26:26,788 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:26.790]   [EARLY_EXIT] No actions taken, continuing...
[17:26:26.790] 
[17:26:26.790] [TURN 3/10]
[17:26:26.790] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:26.855] 2025-08-20 17:26:26,855 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:26.862] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c69ef823-37a1-9e03-b28e-781ccf02d76c"}, traceId: 213e06c117557359867307824e89e9'}
[17:26:26.862] [RETRY] 400 error detected, waiting 1.8s before retry (not counting as turn)...
[17:26:28.079] 2025-08-20 17:26:28,079 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:28.083]   [EARLY_EXIT] No actions taken, continuing...
[17:26:28.083] 
[17:26:28.083] [TURN 4/10]
[17:26:28.084] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:28.789] 2025-08-20 17:26:28,789 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:28.792] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"83bd247b-f582-93d6-834b-f4bc5c8cabaf"}, traceId: 213e064717557359886617672e895a'}
[17:26:28.792] [RETRY] 400 error detected, waiting 3.0s before retry (not counting as turn)...
[17:26:28.951] 2025-08-20 17:26:28,951 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:28.954]   [EARLY_EXIT] No actions taken, continuing...
[17:26:28.954] 
[17:26:28.954] [TURN 5/10]
[17:26:28.961] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:29.025] 2025-08-20 17:26:29,024 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:29.026] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c96e913a-8f6d-9272-b7ce-9cdd68ce1332"}, traceId: 213e06c117557359888837832e89e9'}
[17:26:29.027] [RETRY] 400 error detected, waiting 2.1s before retry (not counting as turn)...
[17:26:29.792] 2025-08-20 17:26:29,791 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:29.795]   [EARLY_EXIT] No actions taken, continuing...
[17:26:29.795] 
[17:26:29.795] [TURN 6/10]
[17:26:29.801] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:30.638] 2025-08-20 17:26:30,637 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:30.642]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:26:30.642] 
[17:26:30.642] [TURN 7/10]
[17:26:30.642] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:31.474] 2025-08-20 17:26:31,474 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:31.476]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:26:31.476] 
[17:26:31.476] [TURN 8/10]
[17:26:31.476] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:32.035] 2025-08-20 17:26:32,035 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:32.037]   [EARLY_EXIT] No actions taken, continuing...
[17:26:32.037] 
[17:26:32.037] [TURN 5/10]
[17:26:32.037] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:32.341] 2025-08-20 17:26:32,340 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:32.344]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:26:32.344] 
[17:26:32.344] [TURN 9/10]
[17:26:32.344] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:32.349] 2025-08-20 17:26:32,349 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:32.353] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"2195dab2-64b4-90df-8582-5e2854ce642c"}, traceId: 213e06c117557359922287842e89e9'}
[17:26:32.353] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:26:32.657] 2025-08-20 17:26:32,657 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:32.661]   [EARLY_EXIT] No actions taken, continuing...
[17:26:32.661] 
[17:26:32.661] [TURN 6/10]
[17:26:32.661] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:32.663] 2025-08-20 17:26:32,663 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:32.667] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c2dd6655-04f2-9162-98ce-05ecc031bca1"}, traceId: 213e04ea17557359925392918e34c9'}
[17:26:32.667] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:26:32.972] 2025-08-20 17:26:32,972 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:32.975] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9f495cd9-8165-9970-aef6-01b2b58a9b68"}, traceId: 213e064717557359928497699e895a'}
[17:26:32.975] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:26:33.999] 2025-08-20 17:26:33,999 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:34.002] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"c38decf3-6cd0-952a-ac11-d5c064f5e792"}, traceId: 213e04ea17557359938812927e34c9'}
[17:26:34.002] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:26:34.187] 2025-08-20 17:26:34,186 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:34.190]   [EARLY_EXIT] No actions taken, continuing...
[17:26:34.190] 
[17:26:34.190] [TURN 6/10]
[17:26:34.193] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:34.756] 2025-08-20 17:26:34,756 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:34.759]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:26:34.759] 
[17:26:34.759] [TURN 7/10]
[17:26:34.759] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:35.121] 2025-08-20 17:26:35,120 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:35.124]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:26:35.124] 
[17:26:35.124] [TURN 7/10]
[17:26:35.126] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:35.725] 2025-08-20 17:26:35,725 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:35.728]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:26:35.728] 
[17:26:35.728] [TURN 8/10]
[17:26:35.728] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:35.932] 2025-08-20 17:26:35,932 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:35.935]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:26:35.935] 
[17:26:35.935] [TURN 10/10]
[17:26:35.936] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:36.032] 2025-08-20 17:26:36,032 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:36.036] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"1c38ab4f-cc6d-900a-874e-552428e381d3"}, traceId: 213e064717557359959187733e895a'}
[17:26:36.036] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:26:36.171] 2025-08-20 17:26:36,170 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:36.174]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:26:36.174] 
[17:26:36.174] [TURN 8/10]
[17:26:36.175] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:36.602] 2025-08-20 17:26:36,602 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:36.605]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:26:36.605] [ASSISTED] Task received 5 format helps, final result: failure
[17:26:36.606] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:26:36.606] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:26:36.606] [AI_DEBUG] 生成的txt_content长度: 14654
[17:26:36.606] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:26:36.606]   - use_ai_classification=True
[17:26:36.606]   - ai_classifier=True
[17:26:36.606]   - txt_content_len=14654
[17:26:36.606]   - task_model=qwen2.5-72b-instruct
[17:26:36.606] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:26:36.608] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:26:36.615] 2025-08-20 17:26:36,615 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:26:36.615] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:26:36.615] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:26:36.615] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:26:36.615] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:26:36.615] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:26:36.615] 2025-08-20 17:26:36,615 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:26:36.638] 2025-08-20 17:26:36,637 - mcp_embedding_manager - INFO - FAISS index loaded
[17:26:36.638] 2025-08-20 17:26:36,638 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:26:36.638] 2025-08-20 17:26:36,638 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:26:36.640] [INFO] Tool embedding index loaded successfully
[17:26:36.641] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:26:36.641] [INFO] Operation semantic index initialized
[17:26:36.641] 
[17:26:36.641] [TURN 1/10]
[17:26:36.641] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:37.154] 2025-08-20 17:26:37,153 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:37.168]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:26:37.168] 
[17:26:37.168] [TURN 9/10]
[17:26:37.182] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:37.576] 2025-08-20 17:26:37,576 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:37.579]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:26:37.579] 
[17:26:37.579] [TURN 9/10]
[17:26:37.580] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:37.829] 2025-08-20 17:26:37,829 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:37.830]   [SEARCH] Query: file reader
[17:26:37.830] 
[17:26:37.830] [TURN 2/10]
[17:26:37.830] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:37.894] 2025-08-20 17:26:37,894 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:37.899] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"dda27297-3fbd-9ea9-a32d-e72f93c11666"}, traceId: 213e064717557359977707745e895a'}
[17:26:37.899] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:26:38.279] 2025-08-20 17:26:38,279 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:38.283]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:26:38.283] 
[17:26:38.283] [TURN 10/10]
[17:26:38.283] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:38.677] 2025-08-20 17:26:38,677 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:38.678]   [EARLY_EXIT] No actions taken, continuing...
[17:26:38.678] 
[17:26:38.678] [TURN 3/10]
[17:26:38.678] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:38.977] 2025-08-20 17:26:38,977 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:38.980] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"021690d2-dbd9-9c13-b683-e772b1da76d3"}, traceId: 213e064717557359988607755e895a'}
[17:26:38.981] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[17:26:38.983] 2025-08-20 17:26:38,983 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:38.984] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5d442362-8c36-94b9-bd19-8aac487b3158"}, traceId: 213e069217557359988686192e82f8'}
[17:26:38.984] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:26:39.379] 2025-08-20 17:26:39,376 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:39.384]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:26:39.384] [ASSISTED] Task received 5 format helps, final result: failure
[17:26:39.387] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:26:39.398] 2025-08-20 17:26:39,398 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:26:39.399] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:26:39.399] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:26:39.399] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:26:39.399] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:26:39.399] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:26:39.399] 2025-08-20 17:26:39,399 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:26:39.430] 2025-08-20 17:26:39,430 - mcp_embedding_manager - INFO - FAISS index loaded
[17:26:39.430] 2025-08-20 17:26:39,430 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:26:39.430] 2025-08-20 17:26:39,430 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:26:39.433] [INFO] Tool embedding index loaded successfully
[17:26:39.434] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:26:39.434] [INFO] Operation semantic index initialized
[17:26:39.436] 
[17:26:39.436] [TURN 1/10]
[17:26:39.448] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:40.295] 2025-08-20 17:26:40,295 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:40.296] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"a3cfac3e-a2ff-9173-9634-9fa58a4ba241"}, traceId: 213e069217557360001936198e82f8'}
[17:26:40.296] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:26:40.911] 2025-08-20 17:26:40,911 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:40.914]   [SEARCH] Query: file reader
[17:26:40.914] 
[17:26:40.914] [TURN 2/10]
[17:26:40.915] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:41.529] 2025-08-20 17:26:41,528 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:41.530] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d0ab278e-703d-97d1-93b1-007767f4223d"}, traceId: 213e064717557360013997785e895a'}
[17:26:41.530] [RETRY] 400 error detected, waiting 3.0s before retry (not counting as turn)...
[17:26:41.645] 2025-08-20 17:26:41,643 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:41.648] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"7a771d96-8c1c-947a-b2c8-f58a973a9457"}, traceId: 213e069217557360015236208e82f8'}
[17:26:41.648] [RETRY] 400 error detected, waiting 3.1s before retry (not counting as turn)...
[17:26:41.761] 2025-08-20 17:26:41,761 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:41.762]   [EARLY_EXIT] No actions taken, continuing...
[17:26:41.762] 
[17:26:41.762] [TURN 3/10]
[17:26:41.763] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:42.091] 2025-08-20 17:26:42,091 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:42.094] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"19ad1795-1f1f-9b92-bbc5-42b07a8814a3"}, traceId: 213e06a017557360019564316e77e5'}
[17:26:42.094] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:26:43.410] 2025-08-20 17:26:43,409 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:26:43.414] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:26:43.418] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:26:43.418] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:26:43.418] [AI_DEBUG] 生成的txt_content长度: 16586
[17:26:43.418] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:26:43.418]   - use_ai_classification=True
[17:26:43.418]   - ai_classifier=True
[17:26:43.418]   - txt_content_len=16586
[17:26:43.418]   - task_model=qwen2.5-72b-instruct
[17:26:43.418] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:26:43.885] 2025-08-20 17:26:43,883 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:43.890]   [EARLY_EXIT] No actions taken, continuing...
[17:26:43.890] 
[17:26:43.890] [TURN 4/10]
[17:26:43.904] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:44.769] 2025-08-20 17:26:44,769 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:44.772]   [EARLY_EXIT] No actions taken, continuing...
[17:26:44.773] 
[17:26:44.773] [TURN 5/10]
[17:26:44.773] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:45.068] 2025-08-20 17:26:45,067 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:45.069] [LLM_ERROR] Attempt 4/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8c5f8794-ab75-937a-a053-0721f7b2082b"}, traceId: 213e069217557360049486296e82f8'}
[17:26:45.069] [RETRY] 400 error detected, waiting 4.1s before retry (not counting as turn)...
[17:26:45.457] 2025-08-20 17:26:45,455 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:45.459]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:26:45.459] 
[17:26:45.459] [TURN 10/10]
[17:26:45.465] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:45.647] 2025-08-20 17:26:45,647 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:45.651]   [EARLY_EXIT] No actions taken, continuing...
[17:26:45.651] 
[17:26:45.651] [TURN 6/10]
[17:26:45.652] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:45.766] 2025-08-20 17:26:45,766 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:45.771] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"9e54852e-6b90-9b3c-a4e0-2256c306b132"}, traceId: 213e064717557360056587839e895a'}
[17:26:45.772] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:26:45.953] 2025-08-20 17:26:45,953 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:45.956] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"6915a189-aa9b-983f-a3ec-e4686d6b8539"}, traceId: 213e06a017557360058404379e77e5'}
[17:26:45.956] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:26:47.075] 2025-08-20 17:26:47,075 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:47.077] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"148c29c9-298a-91ab-b6ef-34c4781a298c"}, traceId: 213e06a017557360069464400e77e5'}
[17:26:47.077] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:26:47.601] 2025-08-20 17:26:47,597 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:47.603]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:26:47.603] [ASSISTED] Task received 5 format helps, final result: failure
[17:26:47.605] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:26:47.621] 2025-08-20 17:26:47,620 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:26:47.621] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:26:47.621] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:26:47.624] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:26:47.624] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:26:47.624] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:26:47.624] 2025-08-20 17:26:47,624 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:26:47.651] 2025-08-20 17:26:47,651 - mcp_embedding_manager - INFO - FAISS index loaded
[17:26:47.652] 2025-08-20 17:26:47,651 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:26:47.652] 2025-08-20 17:26:47,651 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:26:47.654] [INFO] Tool embedding index loaded successfully
[17:26:47.655] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:26:47.656] [INFO] Operation semantic index initialized
[17:26:47.656] 
[17:26:47.656] [TURN 1/10]
[17:26:47.656] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:48.158] 2025-08-20 17:26:48,158 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:26:48.160] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:26:48.163] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:26:48.164] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:26:48.164] [AI_DEBUG] 生成的txt_content长度: 16559
[17:26:48.164] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:26:48.164]   - use_ai_classification=True
[17:26:48.164]   - ai_classifier=True
[17:26:48.164]   - txt_content_len=16559
[17:26:48.164]   - task_model=qwen2.5-72b-instruct
[17:26:48.164] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:26:48.894] 2025-08-20 17:26:48,892 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:48.895]   [SEARCH] Query: file reader
[17:26:48.895] 
[17:26:48.895] [TURN 2/10]
[17:26:48.896] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:48.980] 2025-08-20 17:26:48,980 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:48.982]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:26:48.982] 
[17:26:48.982] [TURN 7/10]
[17:26:48.986] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:49.828] 2025-08-20 17:26:49,828 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:49.831]   [EARLY_EXIT] No actions taken, continuing...
[17:26:49.831] 
[17:26:49.831] [TURN 3/10]
[17:26:49.831] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:49.883] 2025-08-20 17:26:49,883 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:49.888]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:26:49.888] 
[17:26:49.888] [TURN 8/10]
[17:26:49.890] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:50.068] 2025-08-20 17:26:50,067 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:50.070]   [EARLY_EXIT] No actions taken, continuing...
[17:26:50.070] 
[17:26:50.070] [TURN 4/10]
[17:26:50.074] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:50.391] 2025-08-20 17:26:50,391 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:50.392] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"18cee7ec-c7ee-9db5-8abe-14aa45b46566"}, traceId: 213e069217557360102656404e82f8'}
[17:26:50.392] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:26:50.688] 2025-08-20 17:26:50,687 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:50.689]   [EARLY_EXIT] No actions taken, continuing...
[17:26:50.689] 
[17:26:50.689] [TURN 4/10]
[17:26:50.691] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:50.780] 2025-08-20 17:26:50,780 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:50.781]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:26:50.781] 
[17:26:50.782] [TURN 9/10]
[17:26:50.782] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:51.007] 2025-08-20 17:26:51,007 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:51.008] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"12761a22-b7c0-9ebf-b529-774e2c30ecfa"}, traceId: 213e007a17557360108885845ee252'}
[17:26:51.008] [RETRY] 400 error detected, waiting 0.6s before retry (not counting as turn)...
[17:26:51.720] 2025-08-20 17:26:51,720 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:51.723]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:26:51.723] 
[17:26:51.723] [TURN 10/10]
[17:26:51.728] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:51.909] 2025-08-20 17:26:51,909 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:51.912] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"0c007389-b192-9b38-a576-ecf873029166"}, traceId: 213e007a17557360117965849ee252'}
[17:26:51.912] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[17:26:51.987] 2025-08-20 17:26:51,987 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:51.988] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"40e20158-2cd4-9b70-a824-1f40f9369a5d"}, traceId: 213e069217557360118776408e82f8'}
[17:26:51.988] [RETRY] 400 error detected, waiting 1.7s before retry (not counting as turn)...
[17:26:52.029] 2025-08-20 17:26:52,029 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:52.032] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"e720bfce-d7dd-905c-aea1-3a97b9437a2b"}, traceId: 213e06a017557360119214445e77e5'}
[17:26:52.033] [RETRY] 400 error detected, waiting 0.5s before retry (not counting as turn)...
[17:26:52.858] 2025-08-20 17:26:52,858 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:52.861] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"33c33a66-2d92-96f5-9c0b-d04f22cb6155"}, traceId: 213e06a017557360127534449e77e5'}
[17:26:52.861] [RETRY] 400 error detected, waiting 2.2s before retry (not counting as turn)...
[17:26:54.023] 2025-08-20 17:26:54,023 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:54.025] [LLM_ERROR] Attempt 3/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"13525b35-40e0-9a69-9592-8f877987eb9c"}, traceId: 213e069217557360138966416e82f8'}
[17:26:54.025] [RETRY] 400 error detected, waiting 2.9s before retry (not counting as turn)...
[17:26:54.052] 2025-08-20 17:26:54,051 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:26:54.054] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:26:54.578] 2025-08-20 17:26:54,576 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:54.579]   [EARLY_EXIT] No actions taken, continuing...
[17:26:54.580] 
[17:26:54.580] [TURN 5/10]
[17:26:54.582] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:55.423] 2025-08-20 17:26:55,422 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:55.431]   [EARLY_EXIT] No actions taken, continuing...
[17:26:55.431] 
[17:26:55.431] [TURN 6/10]
[17:26:55.441] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:55.663] 2025-08-20 17:26:55,663 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:55.670]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:26:55.670] [ASSISTED] Task received 5 format helps, final result: failure
[17:26:55.671] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:26:55.671] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:26:55.671] [AI_DEBUG] 生成的txt_content长度: 15303
[17:26:55.671] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:26:55.671]   - use_ai_classification=True
[17:26:55.671]   - ai_classifier=True
[17:26:55.671]   - txt_content_len=15303
[17:26:55.671]   - task_model=qwen2.5-72b-instruct
[17:26:55.671] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:26:55.672] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:26:55.688] 2025-08-20 17:26:55,688 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:26:55.688] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:26:55.688] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:26:55.689] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:26:55.689] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:26:55.689] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:26:55.689] 2025-08-20 17:26:55,689 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:26:55.718] 2025-08-20 17:26:55,718 - mcp_embedding_manager - INFO - FAISS index loaded
[17:26:55.718] 2025-08-20 17:26:55,718 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:26:55.718] 2025-08-20 17:26:55,718 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:26:55.721] [INFO] Tool embedding index loaded successfully
[17:26:55.722] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:26:55.722] [INFO] Operation semantic index initialized
[17:26:55.722] 
[17:26:55.722] [TURN 1/10]
[17:26:55.723] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:56.269] 2025-08-20 17:26:56,269 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:56.272]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:26:56.272] 
[17:26:56.272] [TURN 7/10]
[17:26:56.272] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:56.594] 2025-08-20 17:26:56,593 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:56.596] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"cbb65dde-ecac-9cbb-8884-3e5075edf48f"}, traceId: 213e007a17557360164675875ee252'}
[17:26:56.596] [RETRY] 400 error detected, waiting 1.4s before retry (not counting as turn)...
[17:26:57.078] 2025-08-20 17:26:57,075 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:57.080]   [SEARCH] Query: network api fetch
[17:26:57.081] 
[17:26:57.082] [TURN 2/10]
[17:26:57.082] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:57.701] 2025-08-20 17:26:57,700 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:57.702]   [EARLY_EXIT] No actions taken, continuing...
[17:26:57.702] 
[17:26:57.702] [TURN 5/10]
[17:26:57.703] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:57.949] 2025-08-20 17:26:57,948 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:57.953]   [EARLY_EXIT] No actions taken, continuing...
[17:26:57.953] 
[17:26:57.953] [TURN 3/10]
[17:26:57.955] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:58.013] 2025-08-20 17:26:58,012 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:58.015] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"75dc45b9-5443-91ae-ae03-af30af78b282"}, traceId: 213e069217557360178946420e82f8'}
[17:26:58.015] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:26:58.592] 2025-08-20 17:26:58,592 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:58.596]   [EARLY_EXIT] No actions taken, continuing...
[17:26:58.596] 
[17:26:58.596] [TURN 4/10]
[17:26:58.598] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:58.911] 2025-08-20 17:26:58,911 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:58.914]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:26:58.914] 
[17:26:58.914] [TURN 8/10]
[17:26:58.915] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:26:58.923] 2025-08-20 17:26:58,922 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:58.925] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"ba0928f8-e064-98ca-81da-87cdc7b9ae59"}, traceId: 213e006c17557360187907845e1387'}
[17:26:58.925] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:26:59.080] 2025-08-20 17:26:59,080 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:26:59.081] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"8ba31cf3-06bb-90ab-8f07-85daaea77124"}, traceId: 213e069217557360189586424e82f8'}
[17:26:59.081] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:26:59.672] 2025-08-20 17:26:59,666 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:26:59.675]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:26:59.675] 
[17:26:59.675] [TURN 9/10]
[17:26:59.676] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:00.402] 2025-08-20 17:27:00,401 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:00.405]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:27:00.405] 
[17:27:00.405] [TURN 10/10]
[17:27:00.407] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:00.680] 2025-08-20 17:27:00,680 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:00.681]   [EARLY_EXIT] No actions taken, continuing...
[17:27:00.681] 
[17:27:00.681] [TURN 6/10]
[17:27:00.682] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:00.731] 2025-08-20 17:27:00,731 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:00.734] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"5ecced7c-59d8-99bf-8996-290fecab0253"}, traceId: 213e007a17557360206045898ee252'}
[17:27:00.734] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:27:00.815] 2025-08-20 17:27:00,815 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:00.817]   [EARLY_EXIT] No actions taken, continuing...
[17:27:00.817] 
[17:27:00.817] [TURN 5/10]
[17:27:00.818] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:00.979] 2025-08-20 17:27:00,979 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:00.980] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b646b333-ed7f-9057-88da-1578c61f3363"}, traceId: 213e069217557360208726429e82f8'}
[17:27:00.980] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:27:01.600] 2025-08-20 17:27:01,600 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:27:01.601] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:27:01.683] 2025-08-20 17:27:01,683 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:01.685]   [EARLY_EXIT] No actions taken, continuing...
[17:27:01.685] 
[17:27:01.685] [TURN 6/10]
[17:27:01.687] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:02.542] 2025-08-20 17:27:02,542 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:02.543]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:27:02.543] 
[17:27:02.543] [TURN 7/10]
[17:27:02.544] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:02.768] 2025-08-20 17:27:02,768 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:02.772]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:27:02.772] [ASSISTED] Task received 5 format helps, final result: failure
[17:27:02.773] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:27:02.773] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:27:02.773] [AI_DEBUG] 生成的txt_content长度: 14978
[17:27:02.773] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:27:02.773]   - use_ai_classification=True
[17:27:02.773]   - ai_classifier=True
[17:27:02.773]   - txt_content_len=14978
[17:27:02.773]   - task_model=qwen2.5-72b-instruct
[17:27:02.773] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:27:02.774] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:27:02.784] 2025-08-20 17:27:02,784 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:27:02.784] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:27:02.784] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:27:02.784] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:27:02.784] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:27:02.784] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:27:02.784] 2025-08-20 17:27:02,784 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:27:02.810] 2025-08-20 17:27:02,810 - mcp_embedding_manager - INFO - FAISS index loaded
[17:27:02.810] 2025-08-20 17:27:02,810 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:27:02.810] 2025-08-20 17:27:02,810 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:27:02.813] [INFO] Tool embedding index loaded successfully
[17:27:02.814] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:27:02.814] [INFO] Operation semantic index initialized
[17:27:02.814] 
[17:27:02.814] [TURN 1/10]
[17:27:02.815] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:02.871] 2025-08-20 17:27:02,871 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:02.873] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"48f2c54e-99f7-92d4-b904-16b1f76fadfe"}, traceId: 213e006c17557360227377874e1387'}
[17:27:02.873] [RETRY] 400 error detected, waiting 0.7s before retry (not counting as turn)...
[17:27:02.912] 2025-08-20 17:27:02,911 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:02.912]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:27:02.912] 
[17:27:02.912] [TURN 7/10]
[17:27:02.919] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:03.758] 2025-08-20 17:27:03,757 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:03.759]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:27:03.759] 
[17:27:03.759] [TURN 8/10]
[17:27:03.759] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:03.913] 2025-08-20 17:27:03,912 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:03.916] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"fc049e32-4d3c-9917-a10d-e3a9f247bb2e"}, traceId: 213e006c17557360237717876e1387'}
[17:27:03.917] [RETRY] 400 error detected, waiting 0.8s before retry (not counting as turn)...
[17:27:04.062] 2025-08-20 17:27:04,061 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:04.063] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"37107dd8-cf77-9293-851d-f70840c6e825"}, traceId: 213e069217557360239526449e82f8'}
[17:27:04.063] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:27:04.263] 2025-08-20 17:27:04,263 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:04.265]   [SEARCH] Query: network api fetch
[17:27:04.265] 
[17:27:04.265] [TURN 2/10]
[17:27:04.267] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:05.098] 2025-08-20 17:27:05,097 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:05.100]   [EARLY_EXIT] No actions taken, continuing...
[17:27:05.100] 
[17:27:05.100] [TURN 3/10]
[17:27:05.104] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:05.640] 2025-08-20 17:27:05,640 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:05.640]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:27:05.640] 
[17:27:05.640] [TURN 9/10]
[17:27:05.648] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:05.786] 2025-08-20 17:27:05,786 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:05.790]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:27:05.790] 
[17:27:05.790] [TURN 8/10]
[17:27:05.791] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:05.975] 2025-08-20 17:27:05,974 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:05.977]   [EARLY_EXIT] No actions taken, continuing...
[17:27:05.977] 
[17:27:05.977] [TURN 4/10]
[17:27:05.980] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:06.535] 2025-08-20 17:27:06,535 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:06.537]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:27:06.537] 
[17:27:06.537] [TURN 10/10]
[17:27:06.538] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:06.727] 2025-08-20 17:27:06,726 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:06.728]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:27:06.728] 
[17:27:06.728] [TURN 9/10]
[17:27:06.729] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:06.813] 2025-08-20 17:27:06,813 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:06.814]   [EARLY_EXIT] No actions taken, continuing...
[17:27:06.814] 
[17:27:06.814] [TURN 5/10]
[17:27:06.815] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:06.849] 2025-08-20 17:27:06,849 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:06.850] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"500bb7f7-cddf-90c2-9aa5-f69ebb998e80"}, traceId: 213e069217557360267346465e82f8'}
[17:27:06.850] [RETRY] 400 error detected, waiting 1.1s before retry (not counting as turn)...
[17:27:07.059] 2025-08-20 17:27:07,057 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:07.067] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"73f8b868-3b99-9c33-b556-b91e0bc47e34"}, traceId: 213e006c17557360269227891e1387'}
[17:27:07.067] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:27:07.700] 2025-08-20 17:27:07,700 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:07.701]   [EARLY_EXIT] No actions taken, continuing...
[17:27:07.701] 
[17:27:07.701] [TURN 6/10]
[17:27:07.703] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:07.986] 2025-08-20 17:27:07,986 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:27:07.988] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:27:08.597] 2025-08-20 17:27:08,596 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:08.599] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d17f86c1-a502-95b6-b510-59e6b674039d"}, traceId: 213e006c17557360284737895e1387'}
[17:27:08.600] [RETRY] 400 error detected, waiting 2.0s before retry (not counting as turn)...
[17:27:08.636] 2025-08-20 17:27:08,636 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:08.637]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:27:08.637] 
[17:27:08.637] [TURN 7/10]
[17:27:08.648] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:08.844] 2025-08-20 17:27:08,844 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:08.845]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:27:08.845] [ASSISTED] Task received 5 format helps, final result: failure
[17:27:08.845] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:27:08.845] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:27:08.845] [AI_DEBUG] 生成的txt_content长度: 14531
[17:27:08.845] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:27:08.845]   - use_ai_classification=True
[17:27:08.845]   - ai_classifier=True
[17:27:08.845]   - txt_content_len=14531
[17:27:08.845]   - task_model=qwen2.5-72b-instruct
[17:27:08.845] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:27:08.846] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:27:08.855] 2025-08-20 17:27:08,854 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:27:08.855] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:27:08.855] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:27:08.861] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:27:08.861] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:27:08.861] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:27:08.861] 2025-08-20 17:27:08,861 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:27:08.880] 2025-08-20 17:27:08,879 - mcp_embedding_manager - INFO - FAISS index loaded
[17:27:08.880] 2025-08-20 17:27:08,880 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:27:08.880] 2025-08-20 17:27:08,880 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:27:08.882] [INFO] Tool embedding index loaded successfully
[17:27:08.883] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:27:08.883] [INFO] Operation semantic index initialized
[17:27:08.883] 
[17:27:08.883] [TURN 1/10]
[17:27:08.883] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:08.970] 2025-08-20 17:27:08,970 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:08.971] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"d7a02094-d0d7-9421-9350-e0b33709536c"}, traceId: 213e066d17557360288384366e801f'}
[17:27:08.971] [RETRY] 400 error detected, waiting 1.2s before retry (not counting as turn)...
[17:27:10.930] 2025-08-20 17:27:10,929 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:10.931]   [SEARCH] Query: file reader
[17:27:10.932] 
[17:27:10.932] [TURN 2/10]
[17:27:10.933] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:11.092] 2025-08-20 17:27:11,091 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:11.093]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:27:11.093] 
[17:27:11.093] [TURN 8/10]
[17:27:11.095] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:11.361] 2025-08-20 17:27:11,360 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:11.364]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:27:11.364] 
[17:27:11.364] [TURN 10/10]
[17:27:11.369] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:11.686] 2025-08-20 17:27:11,685 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:11.692] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"4700b954-bdca-9723-8ddb-17ff35469872"}, traceId: 213e006c17557360315647906e1387'}
[17:27:11.693] [RETRY] 400 error detected, waiting 1.0s before retry (not counting as turn)...
[17:27:12.078] 2025-08-20 17:27:12,078 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:12.079]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:27:12.079] 
[17:27:12.079] [TURN 9/10]
[17:27:12.093] 2025-08-20 17:27:12,092 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:12.094]   [EARLY_EXIT] No actions taken, continuing...
[17:27:12.094] 
[17:27:12.094] [TURN 3/10]
[17:27:12.094] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:12.099] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:12.928] 2025-08-20 17:27:12,928 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:12.929]   [EARLY_EXIT] No actions taken, continuing...
[17:27:12.930] 
[17:27:12.930] [TURN 4/10]
[17:27:12.932] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:13.004] 2025-08-20 17:27:13,003 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:13.008] [LLM_ERROR] Attempt 2/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"eff69f1d-f82d-9db2-83f3-27274814f59c"}, traceId: 213e006c17557360328777911e1387'}
[17:27:13.008] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:27:13.117] 2025-08-20 17:27:13,116 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:13.119]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:27:13.119] 
[17:27:13.119] [TURN 10/10]
[17:27:13.120] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:13.783] 2025-08-20 17:27:13,782 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:13.784]   [EARLY_EXIT] No actions taken, continuing...
[17:27:13.784] 
[17:27:13.784] [TURN 5/10]
[17:27:13.788] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:14.066] 2025-08-20 17:27:14,065 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:14.068]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:27:14.069] [ASSISTED] Task received 5 format helps, final result: failure
[17:27:14.070] [InteractiveExecutor] No LLM client provided, initializing from api_client_manager
[17:27:14.086] 2025-08-20 17:27:14,086 - api_client_manager - INFO - Created idealab client for model qwen2.5-72b-instruct
[17:27:14.086] [InteractiveExecutor] Initialized client with model: qwen2.5-72b-instruct
[17:27:14.086] [InteractiveExecutor] Using prompt type: optimal for API key selection
[17:27:14.091] [InteractiveExecutor] API model name: qwen2.5-72b-instruct
[17:27:14.091] [MCPEmbeddingManager] Reusing existing singleton instance (id: 13066226720)
[17:27:14.091] [MCPEmbeddingManager] Current cache size: 30 embeddings
[17:27:14.091] 2025-08-20 17:27:14,091 - mcp_embedding_manager - INFO - Loading index from .mcp_embedding_cache/tool_index.pkl (size: 3723608 bytes)
[17:27:14.120] 2025-08-20 17:27:14,120 - mcp_embedding_manager - INFO - FAISS index loaded
[17:27:14.121] 2025-08-20 17:27:14,120 - mcp_embedding_manager - INFO - Updated dimension to 3072
[17:27:14.121] 2025-08-20 17:27:14,120 - mcp_embedding_manager - INFO - Index loaded successfully: 30 tools
[17:27:14.124] [INFO] Tool embedding index loaded successfully
[17:27:14.124] [INFO] Loaded full tool registry from mcp_generated_library/tool_registry_consolidated.json
[17:27:14.124] [INFO] Operation semantic index initialized
[17:27:14.125] 
[17:27:14.125] [TURN 1/10]
[17:27:14.126] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:14.620] 2025-08-20 17:27:14,619 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:14.621]   [EARLY_EXIT] No actions taken, continuing...
[17:27:14.621] 
[17:27:14.621] [TURN 6/10]
[17:27:14.626] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:14.825] 2025-08-20 17:27:14,825 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:14.828]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:27:14.828] [ASSISTED] Task received 5 format helps, final result: failure
[17:27:14.838] 2025-08-20 17:27:14,837 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:14.839] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"b3ac0e49-0e67-97b4-9e83-ed149a4ffcc6"}, traceId: 213e007c17557360347127933ef263'}
[17:27:14.840] [RETRY] 400 error detected, waiting 0.9s before retry (not counting as turn)...
[17:27:14.952] 2025-08-20 17:27:14,951 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 400 "
[17:27:14.953] [LLM_ERROR] Attempt 1/5: Error code: 400 - {'success': False, 'message': '模型提供方限流', 'data': None, 'code': 'MPE-429', 'detailMessage': '{"code":"Throttling.RateQuota","message":"Requests rate limit exceeded, please try again later.","request_id":"809ff2b7-cab3-9749-8c76-d0faa877b821"}, traceId: 213e065917557360348175994e82a4'}
[17:27:14.953] [RETRY] 400 error detected, waiting 1.3s before retry (not counting as turn)...
[17:27:16.151] 2025-08-20 17:27:16,151 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:27:16.151] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:27:16.154] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:27:16.154] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:27:16.154] [AI_DEBUG] 生成的txt_content长度: 14715
[17:27:16.154] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:27:16.154]   - use_ai_classification=True
[17:27:16.154]   - ai_classifier=True
[17:27:16.154]   - txt_content_len=14715
[17:27:16.154]   - task_model=qwen2.5-72b-instruct
[17:27:16.154] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:27:16.612] 2025-08-20 17:27:16,612 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:16.614]   [SEARCH] Query: file reader
[17:27:16.614] 
[17:27:16.614] [TURN 2/10]
[17:27:16.616] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:17.112] 2025-08-20 17:27:17,110 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:17.114]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:27:17.114] 
[17:27:17.114] [TURN 7/10]
[17:27:17.115] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:17.495] 2025-08-20 17:27:17,495 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:17.502]   [EARLY_EXIT] No actions taken, continuing...
[17:27:17.502] 
[17:27:17.502] [TURN 3/10]
[17:27:17.504] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:18.011] 2025-08-20 17:27:18,002 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:18.012]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:27:18.012] 
[17:27:18.012] [TURN 8/10]
[17:27:18.014] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:18.365] 2025-08-20 17:27:18,364 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:18.367]   [EARLY_EXIT] No actions taken, continuing...
[17:27:18.367] 
[17:27:18.367] [TURN 4/10]
[17:27:18.371] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:19.020] 2025-08-20 17:27:19,019 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:19.021]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:27:19.021] 
[17:27:19.021] [TURN 9/10]
[17:27:19.022] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:19.207] 2025-08-20 17:27:19,205 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:19.208]   [EARLY_EXIT] No actions taken, continuing...
[17:27:19.208] 
[17:27:19.208] [TURN 5/10]
[17:27:19.209] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:19.941] 2025-08-20 17:27:19,940 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:19.943]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:27:19.943] 
[17:27:19.943] [TURN 10/10]
[17:27:19.944] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:20.083] 2025-08-20 17:27:20,083 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:20.084]   [EARLY_EXIT] No actions taken, continuing...
[17:27:20.085] 
[17:27:20.085] [TURN 6/10]
[17:27:20.088] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:20.919] 2025-08-20 17:27:20,919 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:20.921]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:27:20.921] [ASSISTED] Task received 5 format helps, final result: failure
[17:27:21.024] 2025-08-20 17:27:21,023 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:21.036]   [FORMAT_ISSUE] Turn 6: No tools executed after multiple turns
[17:27:21.036] 
[17:27:21.037] [TURN 7/10]
[17:27:21.039] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:21.532] 2025-08-20 17:27:21,530 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:27:21.534] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.88
[17:27:21.537] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:27:21.537] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:27:21.537] [AI_DEBUG] 生成的txt_content长度: 14679
[17:27:21.537] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:27:21.537]   - use_ai_classification=True
[17:27:21.537]   - ai_classifier=True
[17:27:21.537]   - txt_content_len=14679
[17:27:21.537]   - task_model=qwen2.5-72b-instruct
[17:27:21.537] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:27:21.908] 2025-08-20 17:27:21,907 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:21.909]   [FORMAT_ISSUE] Turn 7: No tools executed after multiple turns
[17:27:21.909] 
[17:27:21.909] [TURN 8/10]
[17:27:21.910] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:22.829] 2025-08-20 17:27:22,829 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:22.832]   [FORMAT_ISSUE] Turn 8: No tools executed after multiple turns
[17:27:22.832] 
[17:27:22.832] [TURN 9/10]
[17:27:22.832] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:23.578] 2025-08-20 17:27:23,578 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:23.580]   [FORMAT_ISSUE] Turn 9: No tools executed after multiple turns
[17:27:23.580] 
[17:27:23.580] [TURN 10/10]
[17:27:23.581] [LLM_CALL] Using model: qwen2.5-72b-instruct, API name: qwen2.5-72b-instruct
[17:27:24.533] 2025-08-20 17:27:24,533 - httpx - INFO - HTTP Request: POST https://idealab.alibaba-inc.com/api/openai/v1/chat/completions "HTTP/1.1 200 "
[17:27:24.534]   [FORMAT_ISSUE] Turn 10: No tools executed after multiple turns
[17:27:24.534] [ASSISTED] Task received 5 format helps, final result: failure
[17:27:31.377] 2025-08-20 17:27:31,377 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:27:31.379] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:27:31.385] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:27:31.385] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:27:31.385] [AI_DEBUG] 生成的txt_content长度: 15006
[17:27:31.385] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:27:31.385]   - use_ai_classification=True
[17:27:31.385]   - ai_classifier=True
[17:27:31.385]   - txt_content_len=15006
[17:27:31.385]   - task_model=qwen2.5-72b-instruct
[17:27:31.385] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:27:36.533] 2025-08-20 17:27:36,533 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:27:36.534] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:27:36.547] [DEBUG] Got result for task: has_result=True, save_logs=True
[17:27:36.547] [AI_DEBUG] 测试非完全成功(failure)，准备调用AI分类
[17:27:36.547] [AI_DEBUG] 生成的txt_content长度: 15475
[17:27:36.547] [AI_DEBUG] _ai_classify_with_txt_content called:
[17:27:36.547]   - use_ai_classification=True
[17:27:36.547]   - ai_classifier=True
[17:27:36.547]   - txt_content_len=15475
[17:27:36.547]   - task_model=qwen2.5-72b-instruct
[17:27:36.547] [AI_CLASSIFIER] 直接使用AI分析完整交互记录（跳过规则匹配）
[17:27:42.069] 2025-08-20 17:27:42,068 - httpx - INFO - HTTP Request: POST https://85409-me3ofvov-eastus2.cognitiveservices.azure.com/openai/deployments/gpt-5-nano/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
[17:27:42.071] [AI_DEBUG] AI分类结果: category=tool_call_format_errors, confidence=0.85
[17:27:42.075] Progress: 10/10 (Success: 0)
[17:27:42.075] 
[17:27:42.075] [INFO] Batch writing 10 records to database (qwen2.5-72b-instruct:10)
[17:27:42.075] 2025-08-20 17:27:42,075 - batch_test_runner - INFO - Batch writing 10 records to database (qwen2.5-72b-instruct:10)
[17:27:42.076] [INFO] Successfully wrote 10/10 records (qwen2.5-72b-instruct:10)
[17:27:42.076] 2025-08-20 17:27:42,076 - batch_test_runner - INFO - Successfully wrote 10/10 records (qwen2.5-72b-instruct:10)
[17:27:42.080] [INFO] 数据已同步到Parquet存储
[17:27:42.080] 2025-08-20 17:27:42,080 - batch_test_runner - INFO - Database saved successfully
[17:27:42.080] 2025-08-20 17:27:42,080 - batch_test_runner - INFO - ============================================================
[17:27:42.080] 2025-08-20 17:27:42,080 - batch_test_runner - INFO - Batch test completed at 2025-08-20T17:27:42.080436
[17:27:42.080] 2025-08-20 17:27:42,080 - batch_test_runner - INFO - Summary:
[17:27:42.080] 2025-08-20 17:27:42,080 - batch_test_runner - INFO -   - Total tests: 10
[17:27:42.080] 2025-08-20 17:27:42,080 - batch_test_runner - INFO -   - Successful: 0
[17:27:42.080] 2025-08-20 17:27:42,080 - batch_test_runner - INFO -   - Failed: 10
[17:27:42.080] 2025-08-20 17:27:42,080 - batch_test_runner - INFO -   - Success rate: 0.0%
[17:27:42.080] 2025-08-20 17:27:42,080 - batch_test_runner - INFO -   - Log file: logs/batch_test_20250820_172613.log
[17:27:42.080] 2025-08-20 17:27:42,080 - batch_test_runner - INFO - ============================================================
[17:27:42.081] 
[17:27:42.081] ✅ 批测试完成
[17:27:42.081]    成功: 0/10
[17:27:42.081]    失败: 10/10
[17:27:42.081] 
[17:27:42.081] 📤 最终保存10个测试结果...
[17:27:42.081] [DEBUG] 创建新的manager实例: key=True_
[17:27:42.234] [INFO] 已将 5 个汇总写入Parquet
[17:27:42.234] [INFO] 刷新缓存到磁盘 (已累积10个结果)
[17:27:42.234] ✅ 已保存 10 个测试结果到数据库
[17:27:42.270] [INFO] 刷新manager缓存: key=True_

==================================================
分片 qwen2.5-72b-instruct_easy_key1 完成
退出码: 0
总行数: 1159
运行时间: 93.8秒
时间: 2025-08-20T17:27:43.731511
