2025-08-20 15:04:00,814 - INFO - 初始化实例池: 18个实例 (2个Azure + 7个IdealLab)
2025-08-20 15:04:00,815 - INFO - 调试日志目录: logs/debug_ultra_20250820_150400
2025-08-20 15:04:00,815 - INFO - [DEBUG] 开始调试模式运行
2025-08-20 15:04:00,815 - INFO - [DEBUG] 参数: args=(), kwargs={'model': 'qwen2.5-14b-instruct', 'prompt_types': 'optimal', 'difficulty': 'easy', 'task_types': 'all', 'num_instances': 2, 'max_workers': 5, 'tool_success_rate': 0.8, 'rate_mode': 'fixed', 'silent': False}
2025-08-20 15:04:00,815 - INFO - 
🔥 启动超高并行测试
2025-08-20 15:04:00,815 - INFO -    模型: qwen2.5-14b-instruct
2025-08-20 15:04:00,815 - INFO -    Prompt类型: optimal
2025-08-20 15:04:00,815 - INFO -    难度: easy
2025-08-20 15:04:00,815 - INFO -    实例数: 2
2025-08-20 15:04:00,815 - INFO -    速率模式: fixed
2025-08-20 15:04:00,816 - INFO - 🎯 使用qwen智能分片策略: qwen2.5-14b-instruct
2025-08-20 15:04:00,816 - INFO - Qwen统一优化: 任务均匀分配到3个keys，每key约1个实例
2025-08-20 15:04:00,816 - INFO - 📊 创建了 3 个并行分片
2025-08-20 15:04:00,816 - INFO - [DEBUG] 启动分片 qwen2.5-14b-instruct_easy_key0，包含模型: qwen2.5-14b-instruct
2025-08-20 15:04:00,816 - INFO -    传递STORAGE_FORMAT=parquet给子进程
2025-08-20 15:04:00,819 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key0 日志: logs/debug_ultra_20250820_150400/qwen2_5_14b_instruct_70a9_150400_816_p15307_001_qwen2_5_14b_instruct_easy_key0.log
2025-08-20 15:04:00,819 - INFO - [DEBUG] 运行命令: python -u smart_batch_runner.py --model qwen2.5-14b-instruct --deployment qwen-key0 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
2025-08-20 15:04:00,822 - INFO - 🚀 第一个分片 qwen2.5-14b-instruct_easy_key0 立即启动
2025-08-20 15:04:00,822 - INFO - ⏱️  延迟30秒后启动第二个分片...
[分片qwen2.5-14b-instruct_easy_key0] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[分片qwen2.5-14b-instruct_easy_key0] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x17bf21ac0>
[分片qwen2.5-14b-instruct_easy_key0] [OperationEmbeddingIndex] Initializing with unified API client manager
[分片qwen2.5-14b-instruct_easy_key0] [MCPEmbeddingManager] Initializing with unified API client manager
[分片qwen2.5-14b-instruct_easy_key0] [WARNING] Embedding manager exists but has no embeddings
2025-08-20 15:04:07,755 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key0: 100 行输出，运行 6.9秒
[分片qwen2.5-14b-instruct_easy_key0] [INFO] Initializing LLM client using APIClientManager
2025-08-20 15:04:09,103 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key0: 200 行输出，运行 8.3秒
[分片qwen2.5-14b-instruct_easy_key0] 2025-08-20 15:04:09,476 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[分片qwen2.5-14b-instruct_easy_key0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片qwen2.5-14b-instruct_easy_key0] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片qwen2.5-14b-instruct_easy_key0] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片qwen2.5-14b-instruct_easy_key0] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
2025-08-20 15:04:13,322 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key0: 300 行输出，运行 12.5秒
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
2025-08-20 15:04:19,144 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key0: 400 行输出，运行 18.3秒
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [AI_DEBUG] 测试失败，准备调用AI分类
[分片qwen2.5-14b-instruct_easy_key0] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[分片qwen2.5-14b-instruct_easy_key0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片qwen2.5-14b-instruct_easy_key0] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [AI_DEBUG] 测试失败，准备调用AI分类
[分片qwen2.5-14b-instruct_easy_key0] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[分片qwen2.5-14b-instruct_easy_key0] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片qwen2.5-14b-instruct_easy_key0] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
2025-08-20 15:04:22,933 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key0: 500 行输出，运行 22.1秒
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key0] [ERROR] Empty message content from API
[分片qwen2.5-14b-instruct_easy_key0] [API_FAILURE] API failed (timeout or max retries)
[分片qwen2.5-14b-instruct_easy_key0] [AI_DEBUG] 测试失败，准备调用AI分类
[分片qwen2.5-14b-instruct_easy_key0] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[分片qwen2.5-14b-instruct_easy_key0] [ERROR] add_test_result_with_classification失败: 'ParquetCumulativeManager' object has no attribute '_classify_error_message'
2025-08-20 15:04:29,209 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key0: 600 行输出，运行 28.4秒
[分片qwen2.5-14b-instruct_easy_key0] 成功: 2/5
[分片qwen2.5-14b-instruct_easy_key0] 失败: 3/5
2025-08-20 15:04:30,765 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key0 完成，退出码=0，608行输出，29.9秒
2025-08-20 15:04:30,825 - INFO - [DEBUG] 启动分片 qwen2.5-14b-instruct_easy_key1，包含模型: qwen2.5-14b-instruct
2025-08-20 15:04:30,825 - INFO -    传递STORAGE_FORMAT=parquet给子进程
2025-08-20 15:04:30,825 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key1 日志: logs/debug_ultra_20250820_150400/qwen2_5_14b_instruct_70a9_150430_825_p15307_002_qwen2_5_14b_instruct_easy_key1.log
2025-08-20 15:04:30,825 - INFO - [DEBUG] 运行命令: python -u smart_batch_runner.py --model qwen2.5-14b-instruct --deployment qwen-key1 --prompt-types optimal --difficulty easy --task-types all --num-instances 2 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
2025-08-20 15:04:30,829 - INFO - ⏱️  延迟20秒后启动分片 3...
[分片qwen2.5-14b-instruct_easy_key1] ⚠️  检测到idealab API，调整并发: workers=3, qps=5.0
[分片qwen2.5-14b-instruct_easy_key1] [AI_DEBUG] AI分类器初始化成功: <txt_based_ai_classifier.TxtBasedAIClassifier object at 0x16b3e0ef0>
[分片qwen2.5-14b-instruct_easy_key1] [OperationEmbeddingIndex] Initializing with unified API client manager
[分片qwen2.5-14b-instruct_easy_key1] [MCPEmbeddingManager] Initializing with unified API client manager
[分片qwen2.5-14b-instruct_easy_key1] [WARNING] Embedding manager exists but has no embeddings
2025-08-20 15:04:36,372 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key1: 100 行输出，运行 5.5秒
[分片qwen2.5-14b-instruct_easy_key1] [INFO] Initializing LLM client using APIClientManager
2025-08-20 15:04:37,485 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key1: 200 行输出，运行 6.7秒
[分片qwen2.5-14b-instruct_easy_key1] 2025-08-20 15:04:37,878 - batch_test_runner - INFO - Each task timeout: 10 minutes, Total batch timeout: 20 minutes
[分片qwen2.5-14b-instruct_easy_key1] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片qwen2.5-14b-instruct_easy_key1] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片qwen2.5-14b-instruct_easy_key1] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片qwen2.5-14b-instruct_easy_key1] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
2025-08-20 15:04:41,566 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key1: 300 行输出，运行 10.7秒
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [ERROR] Empty message content from API
[分片qwen2.5-14b-instruct_easy_key1] [API_FAILURE] API failed (timeout or max retries)
[分片qwen2.5-14b-instruct_easy_key1] [AI_DEBUG] 测试失败，准备调用AI分类
2025-08-20 15:04:46,418 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key1: 400 行输出，运行 15.6秒
[分片qwen2.5-14b-instruct_easy_key1] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[分片qwen2.5-14b-instruct_easy_key1] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片qwen2.5-14b-instruct_easy_key1] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [AI_DEBUG] 测试失败，准备调用AI分类
[分片qwen2.5-14b-instruct_easy_key1] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[分片qwen2.5-14b-instruct_easy_key1] [InteractiveExecutor] Using prompt type: optimal for API key selection
[分片qwen2.5-14b-instruct_easy_key1] [InteractiveExecutor] API model name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [AI_DEBUG] 测试失败，准备调用AI分类
[分片qwen2.5-14b-instruct_easy_key1] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
2025-08-20 15:04:50,830 - INFO - [DEBUG] 启动分片 qwen2.5-14b-instruct_easy_key2，包含模型: qwen2.5-14b-instruct
2025-08-20 15:04:50,832 - INFO -    传递STORAGE_FORMAT=parquet给子进程
2025-08-20 15:04:50,832 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key2 日志: logs/debug_ultra_20250820_150400/qwen2_5_14b_instruct_70a9_150450_832_p15307_003_qwen2_5_14b_instruct_easy_key2.log
2025-08-20 15:04:50,833 - INFO - [DEBUG] 运行命令: python -u smart_batch_runner.py --model qwen2.5-14b-instruct --deployment qwen-key2 --prompt-types optimal --difficulty easy --task-types all --num-instances 1 --max-workers 5 --tool-success-rate 0.8 --batch-commit --checkpoint-interval 20 --ai-classification --no-adaptive --qps 50
2025-08-20 15:04:50,846 - INFO - ⏳ 并发等待 3 个分片完成...
2025-08-20 15:04:50,846 - INFO - ✅ 分片 qwen2.5-14b-instruct_easy_key0 完成
2025-08-20 15:04:51,126 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key1: 500 行输出，运行 20.3秒
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [ERROR] Empty message content from API
[分片qwen2.5-14b-instruct_easy_key1] [API_FAILURE] API failed (timeout or max retries)
[分片qwen2.5-14b-instruct_easy_key1] [AI_DEBUG] 测试失败，准备调用AI分类
[分片qwen2.5-14b-instruct_easy_key1] [AI_DEBUG] AI分类结果: category=timeout_errors, confidence=0.95
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
2025-08-20 15:04:54,311 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key2 完成，退出码=0，19行输出，3.5秒
2025-08-20 15:04:54,866 - INFO - ✅ 分片 qwen2.5-14b-instruct_easy_key2 完成
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [LLM_CALL] Using model: qwen2.5-14b-instruct, API name: qwen2.5-14b-instruct
[分片qwen2.5-14b-instruct_easy_key1] [ERROR] add_test_result_with_classification失败: 'ParquetCumulativeManager' object has no attribute '_classify_error_message'
[分片qwen2.5-14b-instruct_easy_key1] 成功: 1/5
[分片qwen2.5-14b-instruct_easy_key1] 失败: 4/5
2025-08-20 15:04:59,009 - INFO - [DEBUG] 分片 qwen2.5-14b-instruct_easy_key1 完成，退出码=0，598行输出，28.2秒
2025-08-20 15:04:59,879 - INFO - ✅ 分片 qwen2.5-14b-instruct_easy_key1 完成
2025-08-20 15:04:59,879 - INFO - 
📊 并行测试完成
2025-08-20 15:04:59,879 - INFO -    成功: 3/3 个分片
2025-08-20 15:04:59,879 - INFO -    总耗时: 59.1秒
2025-08-20 15:04:59,880 - INFO -    理论加速比: 3x
2025-08-20 15:04:59,880 - INFO - [DEBUG] 运行完成
2025-08-20 15:05:00,463 - INFO - [DEBUG] 调试报告已生成: logs/debug_ultra_20250820_150400/debug_report.md
