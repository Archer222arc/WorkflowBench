# PILOT-Bench 详细实验计划

## 配置说明

### 要测试的模型列表
```python
MODELS_TO_TEST = [
    ## 开源模型
    "DeepSeek-R1-671B",          # DeepSeek-R1-671B
    "DeepSeek-V3-671B",          # DeepSeek-V3-671B
    "qwen2.5-max",               # Qwen2.5-MAX
    "qwen2.5-3b-instruct",       # Qwen2.5-3B-Instruct
    "qwen2.5-7b-instruct",       # Qwen2.5-7B-Instruct
    "qwen2.5-14b-instruct",      # Qwen2.5-14B-Instruct
    "qwen2.5-32b-instruct",      # Qwen2.5-32B-Instruct
    "qwen2.5-72b-instruct",      # Qwen2.5-72B-Instruct
    "kimi-k2",                   # Kimi-K2
    
    ## 闭源模型
    "gpt-41-0414-global",        # GPT-4.1
    "o1-1217-global",            # O1
    "o3-0416-global",            # O3
    "o4-mini-0416-global",       # O4-mini
    "claude37_sonnet",           # Claude-3.7-Sonnet
    "claude_sonnet4",            # Claude-Sonnet-4
    "claude_opus4",              # Claude-Opus-4
    "gemini-2.5-pro-06-17",      # Gemini-2.5-Pro
    "gemini-2.5-flash-06-17",    # Gemini-2.5-Flash
]
```

**说明**: 此列表包含19个模型，与下方实验表格中的模型完全对应。已删除不在实验计划中的模型。

## 4.1 整体性能评估实验

### 4.1.1 主要性能指标对比表

| 模型类别 | 模型名称 | 总体成功率 | 完全成功率 | 部分成功率 | 失败率 | 加权成功分数 | 平均执行步数 | 工具覆盖率 |
|---------|---------|-----------|-----------|-----------|-------|------------|------------|----------|
| **闭源模型** | GPT-4o | | | | | | | |
| | GPT-o1 | | | | | | | |
| | GPT-o3 | | | | | | | |
| | Claude-Opus-4 | | | | | | | |
| | Claude-Sonnet-4 | | | | | | | |
| | Gemini-2.5-Pro | | | | | | | |
| | GPT-o4-mini | | | | | | | |
| | Claude-Sonnet-3.7 | | | | | | | |
| | Claude-Haiku-3.5 | | | | | | | |
| | Gemini-2.5-Flash | | | | | | | |
| **开源模型** | DeepSeek-V3-671B | | | | | | | |
| | DeepSeek-R1-671B | | | | | | | |
| | Qwen2.5-72B-Instruct | | | | | | | |
| | Llama-3.3-70B-Instruct | | | | | | | |
| | Qwen2.5-32B-Instruct | | | | | | | |
| | Llama-4-Scout-17B | | | | | | | |
| | Qwen2.5-14B-Instruct | | | | | | | |
| | Qwen2.5-7B-Instruct | | | | | | | |
| | Qwen2.5-3B-Instruct | | | | | | | |

### 4.1.2 任务类型分解性能表

| 模型名称 | 基础任务成功率 | 简单任务成功率 | 数据管道成功率 | API集成成功率 | 多阶段管道成功率 |
|---------|-------------|-------------|-------------|-------------|---------------|
| GPT-4o | | | | | |
| GPT-o1 | | | | | |
| GPT-o3 | | | | | |
| Claude-Opus-4 | | | | | |
| Claude-Sonnet-4 | | | | | |
| Gemini-2.5-Pro | | | | | |
| DeepSeek-V3-671B | | | | | |
| DeepSeek-R1-671B | | | | | |
| Qwen2.5-72B-Instruct | | | | | |
| Llama-3.3-70B-Instruct | | | | | |
| GPT-o4-mini | | | | | |
| Claude-Sonnet-3.7 | | | | | |
| Qwen2.5-32B-Instruct | | | | | |
| Qwen2.5-14B-Instruct | | | | | |
| Qwen2.5-7B-Instruct | | | | | |
| Qwen2.5-3B-Instruct | | | | | |

## 4.2 模型规模效应分析实验

### 4.2.1 Qwen系列规模效应表

| 模型规模 | 参数量 | 简单任务成功率 | 中等任务成功率 | 困难任务成功率 | 工具选择准确率 | 序列正确率 | 每参数效率得分 |
|---------|-------|-------------|-------------|-------------|-------------|----------|--------------|
| Qwen2.5-3B-Instruct | 3B | | | | | | |
| Qwen2.5-7B-Instruct | 7B | | | | | | |
| Qwen2.5-14B-Instruct | 14B | | | | | | |
| Qwen2.5-32B-Instruct | 32B | | | | | | |
| Qwen2.5-72B-Instruct | 72B | | | | | | |

## 4.3 Robustness评估实验

### 4.3.1 缺陷工作流适应性表

| 模型名称 | 顺序错误注入成功率 | 工具误用注入成功率 | 参数错误注入成功率 | 缺失步骤注入成功率 | 冗余操作注入成功率 | 逻辑不连续注入成功率 | 语义漂移注入成功率 |
|---------|-----------------|-----------------|-----------------|-----------------|-----------------|-------------------|-----------------|
| GPT-4o | | | | | | | |
| GPT-o1 | | | | | | | |
| GPT-o3 | | | | | | | |
| Claude-Opus-4 | | | | | | | |
| Claude-Sonnet-4 | | | | | | | |
| Gemini-2.5-Pro | | | | | | | |
| DeepSeek-V3-671B | | | | | | | |
| DeepSeek-R1-671B | | | | | | | |
| Qwen2.5-72B-Instruct | | | | | | | |
| Llama-3.3-70B-Instruct | | | | | | | |

### 4.3.2 工具可靠性敏感性表

| 模型名称 | 工具成功率90% | 工具成功率80% | 工具成功率70% | 工具成功率60% |
|---------|-------------|-------------|-------------|-------------|
| GPT-4o | | | | |
| GPT-o1 | | | | |
| Claude-Opus-4 | | | | |
| DeepSeek-V3-671B | | | | |
| DeepSeek-R1-671B | | | | |
| Qwen2.5-72B-Instruct | | | | |
| Qwen2.5-32B-Instruct | | | | |
| Qwen2.5-14B-Instruct | | | | |
| Qwen2.5-7B-Instruct | | | | |
| Qwen2.5-3B-Instruct | | | | |

## 4.4 提示类型敏感性实验

### 4.4.1 不同提示类型性能表

| 模型名称 | Baseline提示 | CoT提示 | 最优工作流提示 | 缺陷工作流提示 | 提示敏感性指数 | 最佳提示类型 |
|---------|-------------|--------|-------------|-------------|-------------|-------------|
| GPT-4o | | | | | | |
| GPT-o1 | | | | | | |
| GPT-o3 | | | | | | |
| GPT-o4-mini | | | | | | |
| Claude-Opus-4 | | | | | | |
| Claude-Sonnet-4 | | | | | | |
| Claude-Sonnet-3.7 | | | | | | |
| Claude-Haiku-3.5 | | | | | | |
| Gemini-2.5-Pro | | | | | | |
| Gemini-2.5-Flash | | | | | | |
| DeepSeek-V3-671B | | | | | | |
| DeepSeek-R1-671B | | | | | | |
| Qwen2.5-72B-Instruct | | | | | | |
| Qwen2.5-32B-Instruct | | | | | | |
| Llama-3.3-70B-Instruct | | | | | | |
| Llama-4-Scout-17B | | | | | | |

## 4.5 错误模式深度分析实验

### 4.5.1 系统性错误分类表

| 模型名称 | 工具选择错误率 | 参数配置错误率 | 序列顺序错误率 | 依赖关系错误率 | 主要错误模式 |
|---------|-------------|-------------|-------------|-------------|-------------|
| GPT-4o | | | | | |
| GPT-o1 | | | | | |
| GPT-o3 | | | | | |
| Claude-Opus-4 | | | | | |
| Claude-Sonnet-4 | | | | | |
| Gemini-2.5-Pro | | | | | |
| DeepSeek-V3-671B | | | | | |
| DeepSeek-R1-671B | | | | | |
| Qwen2.5-72B-Instruct | | | | | |
| Llama-3.3-70B-Instruct | | | | | |

---

## 附录: 模型列表清理说明

### 已删除的模型（不在实验表格中）
以下模型从原MODELS_TO_TEST列表中删除，因为它们不在任何实验表格中出现：

**开源模型:**
- `qwen2.5-max` - 不在实验计划表格中
- `kimi-k2` - 不在实验计划表格中

**闭源模型:**
- `gpt-41-0414-global` - 不在实验计划表格中（可能对应GPT-4o）
- `o1-1217-global` - 不在实验计划表格中（可能对应GPT-o1）
- `o3-0416-global` - 不在实验计划表格中（可能对应GPT-o3）
- `o4-mini-0416-global` - 不在实验计划表格中（可能对应GPT-o4-mini）
- `claude37_sonnet` - 不在实验计划表格中（可能对应Claude-Sonnet-3.7）
- `claude_sonnet4` - 不在实验计划表格中（可能对应Claude-Sonnet-4）
- `claude_opus4` - 不在实验计划表格中（可能对应Claude-Opus-4）
- `gemini-2.5-pro-06-17` - 不在实验计划表格中（可能对应Gemini-2.5-Pro）
- `gemini-2.5-flash-06-17` - 不在实验计划表格中（可能对应Gemini-2.5-Flash）

### 保留的模型统计
- **总计**: 19个模型
- **闭源模型**: 10个
- **开源模型**: 9个
- **Qwen系列**: 5个不同规模 (3B, 7B, 14B, 32B, 72B)

所有保留的模型都在实验表格中有对应的测试位置，确保实验资源的有效利用。

### 模型名称映射
| 代码中的名称 | 表格中的显示名称 | API来源 |
|-------------|----------------|---------|
| gpt-4o | GPT-4o | idealab |
| gpt-4o-mini | GPT-4o-mini | Azure |
| gpt-o1 | GPT-o1 | idealab |
| gpt-o3 | GPT-o3 | idealab |
| gpt-o4-mini | GPT-o4-mini | idealab |
| gpt-5-mini | GPT-5-mini | ✅ User Azure |
| gpt-5-nano | GPT-5-nano | ✅ User Azure |
| gpt-oss-120b | GPT-OSS-120B | ✨ User Azure |
| grok-3 | Grok-3 | ✨ User Azure |
| claude-opus-4 | Claude-Opus-4 | idealab |
| claude-sonnet-4 | Claude-Sonnet-4 | idealab |
| claude-sonnet-3.7 | Claude-Sonnet-3.7 | idealab |
| claude-haiku-3.5 | Claude-Haiku-3.5 | idealab |
| gemini-2.5-pro | Gemini-2.5-Pro | idealab |
| gemini-2.5-flash | Gemini-2.5-Flash | idealab |
| deepseek-v3-671b | DeepSeek-V3-671B | idealab |
| DeepSeek-V3-0324 | DeepSeek-V3-0324 | ✨ User Azure |
| DeepSeek-R1-0528 | DeepSeek-R1-0528 | ✨ User Azure |
| deepseek-r1-671b | DeepSeek-R1-671B | idealab (旧版) |
| qwen2.5-72b-instruct | Qwen2.5-72B-Instruct | idealab |
| qwen2.5-32b-instruct | Qwen2.5-32B-Instruct | idealab |
| qwen2.5-14b-instruct | Qwen2.5-14B-Instruct | idealab |
| qwen2.5-7b-instruct | Qwen2.5-7B-Instruct | idealab |
| qwen2.5-3b-instruct | Qwen2.5-3B-Instruct | idealab |
| Llama-3.3-70B-Instruct | Llama-3.3-70B-Instruct | ✨ User Azure |
| llama-4-scout-17b | Llama-4-Scout-17B | idealab |

## 5. 系统化测试执行计划

### 5.0 统一测试模型列表

**闭源模型**（优先测试）：
1. GPT-4o
2. GPT-4o-mini
3. GPT-o1
4. GPT-o3
5. GPT-5-mini ✅ (新增可用，使用简化API)
6. GPT-5-nano ✅ (新增可用，使用简化API)
7. GPT-OSS-120B ✅ (新增可用)
8. Grok-3 ✅ (新增可用)
9. Claude-Opus-4
10. Claude-Sonnet-4
11. Claude-Sonnet-3.7
12. Claude-Haiku-3.5
13. Gemini-2.5-Pro
14. Gemini-2.5-Flash

**开源模型**（优先测试）：
1. DeepSeek-V3-671B (自动路由到V3-0324)
2. DeepSeek-V3-0324 ✅ (新增可用，替代所有V3版本)
3. DeepSeek-R1-0528 ✅ (新增可用)
4. Qwen2.5-72B-Instruct
5. Qwen2.5-32B-Instruct
6. Qwen2.5-14B-Instruct
7. Qwen2.5-7B-Instruct
8. Qwen2.5-3B-Instruct
9. Llama-3.3-70B-Instruct ✅ (新增可用)
10. Llama-4-Scout-17B

**暂不测试**：
- DeepSeek-R1-671B（旧版推理模型，已被DeepSeek-R1-0528替代）

**标准测试集合**（5.1、5.3、5.4、5.5步骤统一使用）：
- 闭源：GPT-4o, GPT-4o-mini, Claude-Sonnet-3.7, Gemini-2.5-Pro
- 开源：DeepSeek-V3-671B, Qwen2.5-72B-Instruct, Qwen2.5-32B-Instruct, Qwen2.5-3B-Instruct

**Qwen系列专项测试**（仅5.2使用）：
- Qwen2.5-3B-Instruct
- Qwen2.5-7B-Instruct
- Qwen2.5-14B-Instruct
- Qwen2.5-32B-Instruct
- Qwen2.5-72B-Instruct

### 5.1 第一步：基准测试
**测试模型**：使用标准测试集合（8个模型）
**测试配置**：
- Prompt类型: `optimal`
- 难度: `easy`
- 任务类型: 全部5种 (`simple_task`, `basic_task`, `data_pipeline`, `api_integration`, `multi_stage_pipeline`)
- 每种任务类型: 20个实例
- 总测试数: 100个测试/模型

**说明**：使用optimal prompt测试easy难度的任务，以评估模型在最优提示下处理简单任务的基准性能。

### 5.2 第二步：Qwen系列规模效应测试
**测试模型**：
- Qwen2.5-3B-Instruct
- Qwen2.5-7B-Instruct
- Qwen2.5-14B-Instruct
- Qwen2.5-32B-Instruct
- Qwen2.5-72B-Instruct

**测试配置**：
- Prompt类型: `optimal`
- 难度: `very_easy` 和 `medium`（分别测试）
- 任务类型: 全部5种
- 每种任务类型: 20个实例
- 每个难度总测试数: 100个测试/模型
- 总测试数: 200个测试/模型（very_easy 100个 + medium 100个）

**说明**：评估Qwen系列不同规模模型在very_easy和medium难度下的性能，用于分析模型规模效应。

### 5.3 第三步：缺陷工作流适应性测试
**测试模型**：使用标准测试集合（8个模型）

**测试配置**：
- Prompt类型: 7种缺陷类型
  - `flawed_sequence_disorder` (顺序错误)
  - `flawed_tool_misuse` (工具误用)
  - `flawed_parameter_error` (参数错误)
  - `flawed_missing_step` (缺失步骤)
  - `flawed_redundant_operations` (冗余操作)
  - `flawed_logical_inconsistency` (逻辑不连续)
  - `flawed_semantic_drift` (语义漂移)
- 难度: `easy`
- 任务类型: 全部5种
- 每种任务类型: 20个实例
- 每种缺陷类型总测试数: 100个测试/模型
- 总测试数: 700个测试/模型（7种缺陷 × 100个测试）

**说明**：评估模型对各种缺陷工作流的适应和纠正能力，测试模型的鲁棒性。

### 5.4 第四步：工具可靠性敏感性测试
**测试模型**：使用标准测试集合（8个模型）

**测试配置**：
- Prompt类型: `optimal`
- 难度: `easy`
- 工具成功率设置: 90%, 70%, 60%（默认80%已在第一步测试）
- 任务类型: 全部5种
- 每种任务类型: 20个实例
- 每个工具成功率总测试数: 100个测试/模型
- 总测试数: 300个测试/模型（3个工具成功率 × 100个测试）

**说明**：评估模型在不同工具可靠性条件下的表现，测试模型对工具失败的容错能力。默认80%工具成功率的结果使用第一步的测试数据。

### 5.5 第五步：提示类型敏感性测试
**测试模型**：使用标准测试集合（8个模型）

**测试配置**：
- Prompt类型: `baseline`, `cot`（optimal已在第一步测试）
- 难度: `easy`
- 任务类型: 全部5种
- 每种任务类型: 20个实例
- 每个prompt类型总测试数: 100个测试/模型
- 总测试数: 200个测试/模型（2个prompt类型 × 100个测试）

**说明**：
- 补充测试baseline和cot两种prompt类型
- optimal结果使用第一步的数据
- 缺陷工作流提示使用第三步7种缺陷测试的平均值
- 用于评估模型对不同提示策略的敏感性

### 5.6 数据分析说明
**系统性错误分类（4.5.1表）**：
- 直接使用第一步（optimal prompt, easy难度）的测试结果进行错误统计
- 无需额外测试
- 从测试日志中提取以下错误类型的统计：
  - 工具选择错误率
  - 参数配置错误率
  - 序列顺序错误率
  - 依赖关系错误率
  - 主要错误模式识别