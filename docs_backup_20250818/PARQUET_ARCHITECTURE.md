# Parquetå­˜å‚¨æ¶æ„è¯´æ˜

## ğŸ“Š æ•°æ®å­˜å‚¨ç­–ç•¥

**æ ¸å¿ƒåŸåˆ™**ï¼šParquetåªå­˜å‚¨æ±‡æ€»ç»Ÿè®¡æ•°æ®ï¼Œä¸å­˜å‚¨å•ä¸ªæµ‹è¯•è®°å½•

## ğŸ“ æ–‡ä»¶ç»“æ„

### ä¸»æ–‡ä»¶ï¼š`pilot_bench_parquet_data/test_results.parquet`
å­˜å‚¨æ‰€æœ‰æ±‡æ€»ç»Ÿè®¡è®°å½•

#### åŸºæœ¬ä¿¡æ¯å­—æ®µ
- `model`: æ¨¡å‹åç§°
- `prompt_type`: æç¤ºç±»å‹
- `tool_success_rate`: å·¥å…·æˆåŠŸç‡
- `difficulty`: éš¾åº¦
- `task_type`: ä»»åŠ¡ç±»å‹

#### æ ¸å¿ƒç»Ÿè®¡å­—æ®µ
- `total`: æ€»æµ‹è¯•æ•°
- `success`: æˆåŠŸæ•°ï¼ˆå‘åå…¼å®¹ï¼‰
- `full_success`: å®Œå…¨æˆåŠŸæ•°
- `partial_success`: éƒ¨åˆ†æˆåŠŸæ•°
- `success_rate`: æˆåŠŸç‡
- `full_success_rate`: å®Œå…¨æˆåŠŸç‡
- `partial_success_rate`: éƒ¨åˆ†æˆåŠŸç‡
- `failure_rate`: å¤±è´¥ç‡
- `weighted_success_score`: åŠ æƒæˆåŠŸåˆ†æ•°

#### æ‰§è¡ŒæŒ‡æ ‡å­—æ®µ
- `avg_execution_time`: å¹³å‡æ‰§è¡Œæ—¶é—´
- `avg_turns`: å¹³å‡è½®æ•°
- `avg_tool_calls`: å¹³å‡å·¥å…·è°ƒç”¨æ¬¡æ•°
- `tool_coverage_rate`: å·¥å…·è¦†ç›–ç‡

#### è´¨é‡åˆ†æ•°å­—æ®µ
- `avg_workflow_score`: å¹³å‡å·¥ä½œæµåˆ†æ•°
- `avg_phase2_score`: å¹³å‡ç¬¬äºŒé˜¶æ®µåˆ†æ•°
- `avg_quality_score`: å¹³å‡è´¨é‡åˆ†æ•°
- `avg_final_score`: å¹³å‡æœ€ç»ˆåˆ†æ•°

#### é”™è¯¯ç»Ÿè®¡å­—æ®µ
- `total_errors`: æ€»é”™è¯¯æ•°
- `tool_call_format_errors`: å·¥å…·è°ƒç”¨æ ¼å¼é”™è¯¯
- `timeout_errors`: è¶…æ—¶é”™è¯¯
- `dependency_errors`: ä¾èµ–é”™è¯¯
- `parameter_config_errors`: å‚æ•°é…ç½®é”™è¯¯
- `tool_selection_errors`: å·¥å…·é€‰æ‹©é”™è¯¯
- `sequence_order_errors`: åºåˆ—é¡ºåºé”™è¯¯
- `max_turns_errors`: æœ€å¤§è½®æ•°é”™è¯¯
- `other_errors`: å…¶ä»–é”™è¯¯

#### é”™è¯¯ç‡å­—æ®µ
- `tool_selection_error_rate`: å·¥å…·é€‰æ‹©é”™è¯¯ç‡
- `parameter_error_rate`: å‚æ•°é”™è¯¯ç‡
- `sequence_error_rate`: åºåˆ—é”™è¯¯ç‡
- `dependency_error_rate`: ä¾èµ–é”™è¯¯ç‡
- `timeout_error_rate`: è¶…æ—¶é”™è¯¯ç‡
- `format_error_rate`: æ ¼å¼é”™è¯¯ç‡
- `max_turns_error_rate`: æœ€å¤§è½®æ•°é”™è¯¯ç‡
- `other_error_rate`: å…¶ä»–é”™è¯¯ç‡

#### è¾…åŠ©ç»Ÿè®¡å­—æ®µ
- `assisted_failure`: è¾…åŠ©å¤±è´¥æ•°
- `assisted_success`: è¾…åŠ©æˆåŠŸæ•°
- `total_assisted_turns`: æ€»è¾…åŠ©è½®æ•°
- `tests_with_assistance`: æœ‰è¾…åŠ©çš„æµ‹è¯•æ•°
- `avg_assisted_turns`: å¹³å‡è¾…åŠ©è½®æ•°
- `assisted_success_rate`: è¾…åŠ©æˆåŠŸç‡
- `assistance_rate`: è¾…åŠ©ç‡

#### å…ƒæ•°æ®å­—æ®µ
- `last_updated`: æœ€åæ›´æ–°æ—¶é—´
- `imported_from_json`: æ˜¯å¦ä»JSONå¯¼å…¥
- `import_time`: å¯¼å…¥æ—¶é—´

## ğŸ”„ æ•°æ®æµç¨‹

### å†™å…¥æµç¨‹
1. **æµ‹è¯•è¿è¡Œæ—¶**ï¼š
   - `add_test_result_with_classification()` æ¥æ”¶å•ä¸ªæµ‹è¯•ç»“æœ
   - åœ¨å†…å­˜ä¸­ç´¯ç§¯ç»Ÿè®¡ï¼ˆä¸å†™å…¥å•ä¸ªè®°å½•ï¼‰
   - æ›´æ–°å¯¹åº”ç»„çš„æ±‡æ€»è®¡æ•°å™¨

2. **å®šæœŸåˆ·æ–°**ï¼š
   - æ¯10ä¸ªæµ‹è¯•æˆ–æ‰¹æ¬¡ç»“æŸæ—¶
   - `_flush_buffer()` è¢«è°ƒç”¨
   - è®¡ç®—æ‰€æœ‰ç‡å’Œå¹³å‡å€¼
   - å°†æ±‡æ€»è®°å½•å†™å…¥ä¸»Parquetæ–‡ä»¶

3. **æ›´æ–°ç­–ç•¥**ï¼š
   - å¦‚æœç»„å·²å­˜åœ¨ï¼šæ›´æ–°ç°æœ‰æ±‡æ€»
   - å¦‚æœæ˜¯æ–°ç»„ï¼šæ·»åŠ æ–°æ±‡æ€»è®°å½•
   - æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸå­æ€§çš„

### æŸ¥è¯¢æµç¨‹
- ç›´æ¥ä»ä¸»Parquetæ–‡ä»¶è¯»å–æ±‡æ€»æ•°æ®
- ä¸éœ€è¦å®æ—¶è®¡ç®—ï¼Œæ‰€æœ‰ç»Ÿè®¡å·²é¢„è®¡ç®—

## ğŸ¯ æœ€ç»ˆæ¶æ„

ç³»ç»Ÿç°åœ¨å®ç°äº†çº¯æ±‡æ€»å­˜å‚¨ï¼š
- **ä¸å­˜å‚¨å•ä¸ªæµ‹è¯•è®°å½•**
- **åªå­˜å‚¨æ±‡æ€»ç»Ÿè®¡**
- **å†…å­˜ç´¯ç§¯ï¼Œå®šæœŸåˆ·æ–°**
- **ä¸JSONä¿æŒå®Œå…¨ä¸€è‡´çš„å­—æ®µ**

### æ ¸å¿ƒä¼˜åŠ¿
1. **å­˜å‚¨æ•ˆç‡**ï¼šåªå­˜å‚¨æ±‡æ€»ï¼Œå¤§å¹…å‡å°‘å­˜å‚¨ç©ºé—´
2. **æŸ¥è¯¢æ€§èƒ½**ï¼šé¢„è®¡ç®—çš„ç»Ÿè®¡ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«
3. **å­—æ®µå®Œæ•´**ï¼šåŒ…å«JSONä¸­çš„æ‰€æœ‰48ä¸ªå­—æ®µ
4. **å…¼å®¹æ€§å¥½**ï¼šå®Œå…¨å…¼å®¹ç°æœ‰çš„enhanced_cumulative_manageræ¥å£

---

**æ›´æ–°æ—¶é—´**: 2025-08-17
**çŠ¶æ€**: âœ… å·²å®Œæˆ
**ä½œè€…**: Claude Assistant