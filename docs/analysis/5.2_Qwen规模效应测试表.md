# 5.2 Qwen系列规模效应测试表 (对应计划4.2.1)

## 测试配置
- **Prompt类型**: `optimal`
- **难度**: `very_easy` 和 `medium`（分别测试）
- **工具成功率**: `0.8`（默认）
- **任务类型**: 全部5种 (simple_task, basic_task, data_pipeline, api_integration, multi_stage_pipeline)
- **每种任务类型**: 20个实例
- **每个难度总测试数**: 100个测试/模型
- **总测试数**: 200个测试/模型（very_easy 100个 + medium 100个）

## 4.2.1 Qwen系列规模效应表

### Very Easy难度性能（实际数据）

| 模型规模 | 参数量 | 简单任务成功率 | 基础任务成功率 | 数据管道成功率 | API集成成功率 | 多阶段管道成功率 | 整体成功率 | 每参数效率得分 |
|---------|-------|--------------|--------------|--------------|-------------|---------------|-----------|--------------|
| **Qwen2.5-3B-Instruct** | 3B | 0.0% | 5.0% | 35.0% | 25.0% | 25.0% | 18.0% | 0.1039 |
| **Qwen2.5-7B-Instruct** | 7B | 50.0% | 0.0% | 0.0% | 0.0% | 0.0% | 10.0% | 0.0378 |
| **Qwen2.5-14B-Instruct** | 14B | 20.0% | 0.0% | 15.0% | 55.0% | 25.0% | 23.0% | 0.0614 |
| **Qwen2.5-32B-Instruct** | 32B | 10.0% | 0.0% | 0.0% | 5.0% | 0.0% | 3.0% | 0.0053 |
| **Qwen2.5-72B-Instruct** | 72B | 0.0% | 0.0% | 0.0% | 0.0% | 0.0% | 0.0% | 0.0000 |

### Medium难度性能（实际数据）

| 模型规模 | 参数量 | 简单任务成功率 | 基础任务成功率 | 数据管道成功率 | API集成成功率 | 多阶段管道成功率 | 整体成功率 | 每参数效率得分 |
|---------|-------|--------------|--------------|--------------|-------------|---------------|-----------|--------------|
| **Qwen2.5-3B-Instruct** | 3B | 0.0% | 0.0% | 60.0% | 5.0% | 20.0% | 17.0% | 0.0981 |
| **Qwen2.5-7B-Instruct** | 7B | 15.0% | 0.0% | 0.0% | 0.0% | 5.0% | 4.0% | 0.0151 |
| **Qwen2.5-14B-Instruct** | 14B | 0.0% | 20.0% | 15.0% | 30.0% | 25.0% | 18.0% | 0.0481 |
| **Qwen2.5-32B-Instruct** | 32B | 35.0% | 0.0% | 0.0% | 5.0% | 0.0% | 8.0% | 0.0141 |
| **Qwen2.5-72B-Instruct** | 72B | 0.0% | 0.0% | 0.0% | 0.0% | 0.0% | 0.0% | 0.0000 |

### Easy难度性能（来自5.1基准测试 - 参考）

| 模型规模 | 参数量 | 总体成功率 | 完全成功率 | 部分成功率 | 失败率 | 平均执行步数 | 工具覆盖率 | 测试数量 |
|---------|-------|-----------|-----------|-----------|-------|------------|----------|---------|
| **Qwen2.5-3B-Instruct** | 3B | 11.8% | 0.0% | 11.8% | 88.2% | 9.6 | 2.9% | 500 |
| **Qwen2.5-7B-Instruct** | 7B | 7.4% | 0.0% | 7.4% | 92.6% | 10.0 | 1.6% | 500 |
| **Qwen2.5-14B-Instruct** | 14B | 26.4% | 1.2% | 25.2% | 73.6% | 9.9 | 9.2% | 500 |
| **Qwen2.5-32B-Instruct** | 32B | 3.0% | 0.0% | 3.0% | 97.0% | 10.0 | 0.6% | 400 |
| **Qwen2.5-72B-Instruct** | 72B | 0.0% | 0.0% | 0.0% | 100.0% | 9.9 | 0.0% | 400 |

### Easy难度任务类型细分（实际数据）

| 模型规模 | 简单任务 | 基础任务 | 数据管道 | API集成 | 多阶段管道 | 每参数效率得分 |
|---------|---------|---------|---------|---------|-----------|------------|
| **Qwen2.5-3B-Instruct** | 0.0% | 0.0% | 29.0% | 11.0% | 19.0% | 0.0681 |
| **Qwen2.5-7B-Instruct** | 18.0% | 4.0% | 10.0% | 1.0% | 4.0% | 0.0280 |
| **Qwen2.5-14B-Instruct** | 3.0% | 26.0% | 33.0% | 50.0% | 20.0% | 0.0706 |
| **Qwen2.5-32B-Instruct** | 7.5% | 0.0% | 0.0% | 7.5% | 0.0% | 0.0053 |
| **Qwen2.5-72B-Instruct** | 0.0% | 0.0% | 0.0% | 0.0% | 0.0% | 0.0000 |

## 规模效应综合分析

### 难度对比
| 模型规模 | Very Easy成功率 | Easy成功率 | Medium成功率 | 平均成功率 | 难度敏感性 |
|---------|--------------|-----------|-------------|-----------|----------|
| **Qwen2.5-3B-Instruct** | 18.0% | 11.8% | 17.0% | 15.6% | 低 |
| **Qwen2.5-7B-Instruct** | 10.0% | 7.4% | 4.0% | 7.1% | 高 |
| **Qwen2.5-14B-Instruct** | 23.0% | 26.4% | 18.0% | 22.5% | 中 |
| **Qwen2.5-32B-Instruct** | 3.0% | 3.0% | 8.0% | 4.7% | 反常 |
| **Qwen2.5-72B-Instruct** | 0.0% | 0.0% | 0.0% | 0.0% | N/A |

### 任务类型偏好模式
| 模型规模 | 最强任务 | 最弱任务 | 偏好特征 |
|---------|---------|---------|----------|
| **Qwen2.5-3B** | 数据管道 (41.3% avg) | 基础任务 (1.7% avg) | 复杂任务偏好 |
| **Qwen2.5-7B** | 简单任务 (27.7% avg) | API集成 (0.3% avg) | 简单任务偏好 |
| **Qwen2.5-14B** | API集成 (45.0% avg) | 简单任务 (7.7% avg) | API任务特化 |
| **Qwen2.5-32B** | 简单任务 (17.5% avg) | 数据管道 (0.0% avg) | 极度受限 |
| **Qwen2.5-72B** | 全部失败 | 全部失败 | 完全失效 |

## 深度分析

### 规模效应异常图示
```
成功率
30% |     ○ 14B(easy)
    |   ● 14B(avg)     
20% | △ 3B(ve)  △ 14B(ve)
    |   ● 3B(avg)  △ 3B(m)
10% | ○ 3B(e) △ 7B(ve)
    |   ● 7B    △ 32B(m)
 0% |_____△_______△___●___
    3B   7B    14B  32B  72B
         参数规模

图例: ○=easy △=very_easy/medium ●=平均
```

### 每参数效率综合排名
| 模型 | 平均成功率 | 效率得分 | 标准化效率 | 效率排名 |
|------|-----------|---------|-----------|----------|
| **3B** | 15.6% | 0.0900 | 1.00 | 1 |
| **14B** | 22.5% | 0.0601 | 0.67 | 2 |
| **7B** | 7.1% | 0.0268 | 0.30 | 3 |
| **32B** | 4.7% | 0.0083 | 0.09 | 4 |
| **72B** | 0.0% | 0.0000 | 0.00 | 5 |

*效率得分 = 平均成功率 / sqrt(参数量/1B)

## 当前发现

### 🔴 异常的规模效应模式
基于三个难度的数据，Qwen系列显示出**反常的规模效应**：
- **最佳性能**: Qwen2.5-14B (22.5% avg) - 特别是API集成任务(45% avg)
- **次佳性能**: Qwen2.5-3B (15.6% avg) - 数据管道任务表现突出(41.3% avg)
- **中等性能**: Qwen2.5-7B (7.1% avg) - 简单任务相对较好(27.7% avg)
- **较差性能**: Qwen2.5-32B (4.7% avg) - 仅在medium简单任务有少量成功
- **最差性能**: Qwen2.5-72B (0.0% avg) - 所有任务完全失败

**异常特征**：
1. **非单调性**: 性能不随参数量增加而提升
2. **14B异常点**: 14B模型性能远超其他规模
3. **大模型失效**: 72B完全失败，32B几乎失败
4. **工具调用问题**: 所有模型工具覆盖率极低(<10%)
5. **任务特化现象**: 不同规模对特定任务类型有偏好

### 根本原因假设

1. **API端点差异化配置**
   - 14B模型可能使用了特殊优化的端点
   - 大模型(72B/32B)可能因资源限制被限流

2. **任务类型特化现象**
   - 3B: 数据管道专家(60% medium)
   - 14B: API集成专家(55% very_easy)
   - 32B: Medium难度反常提升

3. **服务稳定性问题**
   - 72B完全失效表明服务不可用
   - 不同规模可能部署在不同质量的服务器上

### 可能原因分析
1. **API配置差异**: 不同规模模型可能使用不同的API端点或配置
2. **服务稳定性**: 大模型(72B, 32B)的服务可能不稳定
3. **提示格式兼容性**: 某些规模可能对提示格式更敏感
4. **资源限制**: IdealLab可能对大模型有更严格的限制

## 注意事项

### ⚠️ Qwen系列API问题
基于5.1基准测试结果，Qwen系列模型存在严重的API调用问题：
- qwen2.5-72b: 0%成功率（400个测试）
- qwen2.5-32b: 3%成功率（400个测试）
- qwen2.5-14b: 26.4%成功率（500个测试）
- qwen2.5-7b: 7.4%成功率（500个测试）
- qwen2.5-3b: 11.8%成功率（500个测试）

**建议在进一步测试前先解决API配置问题**

### 预期结果趋势
如果API问题解决，预期看到：
1. **规模递增效应**: 参数量越大，性能越好
2. **难度敏感性**: very_easy显著优于medium
3. **任务复杂度影响**: 简单任务 > 基础任务 > 数据管道 > API集成 > 多阶段管道

### 每参数效率得分计算
```python
# 实际使用的计算公式
效率得分 = 平均成功率 / sqrt(参数量/10亿)

# 效率排名（基于三个难度平均）
1. Qwen2.5-3B:  0.0900
2. Qwen2.5-14B: 0.0601
3. Qwen2.5-7B:  0.0268
4. Qwen2.5-32B: 0.0083
5. Qwen2.5-72B: 0.0000
```

## 测试命令

```bash
# 运行Qwen系列规模效应测试
./run_systematic_test_final.sh

# 选择测试类型
5.2 Qwen系列规模效应测试

# 测试配置
- 难度: very_easy, medium
- Prompt: optimal
- 工具成功率: 0.8
```

---

**数据来源**: pilot_bench_cumulative_results/master_database.json

**创建时间**: 2025年8月16日  
**更新时间**: 2025年8月16日  
**测试状态**: 
- Easy: ✅ 已完成（来自5.1基准测试）
- Very Easy: ✅ 已完成（100测试/模型）
- Medium: ✅ 已完成（100测试/模型）
- **数据完整性**: ✅ 100% 完成