# Ultraå¹¶å‘æ¶æ„ä¿®æ­£åˆ†æ

## ğŸ” **çœŸå®çš„Ultraå¹¶å‘å±‚æ¬¡ç»“æ„**

åŸºäºä»£ç æ·±å…¥åˆ†æï¼Œä¸åŒAPI provideræœ‰å®Œå…¨ä¸åŒçš„åˆ†ç‰‡ç­–ç•¥ï¼š

```
Ultraå¹¶å‘å±‚æ¬¡ç»“æ„ (ä¿®æ­£ç‰ˆ)ï¼š
â”œâ”€â”€ 1ï¸âƒ£ ultra_parallel_runner.py (æ™ºèƒ½åˆ†ç‰‡è°ƒåº¦)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”µ **Qwenæ¨¡å‹ (IdealLabå¼€æº)** - 3-keyåˆ†ç‰‡ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ åˆ›å»º3ä¸ªåˆ†ç‰‡ (qwen-key0/1/2)
â”‚   â”‚   â”œâ”€â”€ å‡åŒ€åˆ†é…ä»»åŠ¡åˆ°3ä¸ªAPI keys
â”‚   â”‚   â”œâ”€â”€ æ¯keyç‹¬ç«‹å¹¶å‘æ‰§è¡Œ
â”‚   â”‚   â””â”€â”€ è™šæ‹Ÿå®ä¾‹æ˜ å°„: qwen-key0â†’å®é™…qwenæ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸŸ  **Azureå¼€æºæ¨¡å‹** - 3-instanceåˆ†ç‰‡ç­–ç•¥  
â”‚   â”‚   â”œâ”€â”€ DeepSeek-V3-0324: 3ä¸ªå®ä¾‹ (-1/-2/-3)
â”‚   â”‚   â”œâ”€â”€ DeepSeek-R1-0528: 3ä¸ªå®ä¾‹ (-1/-2/-3)  
â”‚   â”‚   â”œâ”€â”€ Llama-3.3-70B-Instruct: 3ä¸ªå®ä¾‹ (-1/-2/-3)
â”‚   â”‚   â”œâ”€â”€ åˆ›å»º3ä¸ªåˆ†ç‰‡ï¼Œåˆ†å¸ƒåˆ°3ä¸ªéƒ¨ç½²å®ä¾‹
â”‚   â”‚   â””â”€â”€ é«˜å¹¶å‘ç­–ç•¥ (50-100 workers/å®ä¾‹)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”´ **IdealLabé—­æºæ¨¡å‹** - å•åˆ†ç‰‡ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ o3-0416-global: 1ä¸ªåˆ†ç‰‡
â”‚   â”‚   â”œâ”€â”€ gemini-2.5-flash-06-17: 1ä¸ªåˆ†ç‰‡
â”‚   â”‚   â”œâ”€â”€ kimi-k2: 1ä¸ªåˆ†ç‰‡
â”‚   â”‚   â”œâ”€â”€ é¿å…API Keyå†²çªï¼Œä½¿ç”¨å•åˆ†ç‰‡
â”‚   â”‚   â””â”€â”€ ä¿å®ˆå¹¶å‘ (5 workers max)
â”‚   â”‚
â”‚   â””â”€â”€ ğŸŸ¢ **Azureé—­æºæ¨¡å‹** - å•åˆ†ç‰‡é«˜å¹¶å‘ç­–ç•¥
â”‚       â”œâ”€â”€ gpt-4o-mini: 1ä¸ªåˆ†ç‰‡
â”‚       â”œâ”€â”€ gpt-5-mini: 1ä¸ªåˆ†ç‰‡  
â”‚       â”œâ”€â”€ å•deploymentä¼˜åŒ–
â”‚       â””â”€â”€ é«˜å¹¶å‘ç­–ç•¥ (50-100 workers)
â”‚
â”œâ”€â”€ 2ï¸âƒ£ smart_batch_runner.py (åˆ†ç‰‡æ‰§è¡Œ) 
â”‚   â”‚
â”‚   â”œâ”€â”€ **Qwenåˆ†ç‰‡æ‰§è¡Œ**:
â”‚   â”‚   â”œâ”€â”€ æ¥æ”¶è™šæ‹Ÿå®ä¾‹å (qwen-key0)
â”‚   â”‚   â”œâ”€â”€ æå–API keyç´¢å¼• (--ideallab-key-index 0)
â”‚   â”‚   â”œâ”€â”€ è·¯ç”±åˆ°å¯¹åº”çš„IdealLab API key
â”‚   â”‚   â”œâ”€â”€ ä¿å®ˆå¹¶å‘ (workers=2, é¿å…è¿‡è½½)
â”‚   â”‚   â””â”€â”€ ä½¿ç”¨åŸå§‹æ¨¡å‹åå­˜å‚¨ç»Ÿè®¡
â”‚   â”‚
â”‚   â”œâ”€â”€ **Azureå®ä¾‹åˆ†ç‰‡æ‰§è¡Œ**:
â”‚   â”‚   â”œâ”€â”€ æ¥æ”¶å®ä¾‹å (DeepSeek-V3-0324-2)  
â”‚   â”‚   â”œâ”€â”€ ç›´æ¥è°ƒç”¨Azure APIéƒ¨ç½²
â”‚   â”‚   â”œâ”€â”€ æé«˜å¹¶å‘ (workers=50-100)
â”‚   â”‚   â”œâ”€â”€ normalizeæ¨¡å‹åç»Ÿä¸€å­˜å‚¨
â”‚   â”‚   â””â”€â”€ å®ä¾‹æ•°æ®åˆå¹¶åˆ°åŸºç¡€æ¨¡å‹å
â”‚   â”‚
â”‚   â””â”€â”€ **é—­æºæ¨¡å‹åˆ†ç‰‡æ‰§è¡Œ**:
â”‚       â”œâ”€â”€ å•åˆ†ç‰‡å¤„ç†æ‰€æœ‰ä»»åŠ¡
â”‚       â”œâ”€â”€ API rateé™åˆ¶ä¿æŠ¤
â”‚       â”œâ”€â”€ é”™è¯¯é‡è¯•æœºåˆ¶
â”‚       â””â”€â”€ ç»Ÿä¸€æ¨¡å‹åå­˜å‚¨
â”‚
â”œâ”€â”€ 3ï¸âƒ£ enhanced_cumulative_manager.py (æ•°æ®èšåˆ)
â”‚   â”œâ”€â”€ **æ¨¡å‹åæ ‡å‡†åŒ–**: normalize_model_name()
â”‚   â”‚   â”œâ”€â”€ DeepSeek-V3-0324-2 â†’ DeepSeek-V3-0324
â”‚   â”‚   â”œâ”€â”€ qwen2.5-72b-instruct â†’ qwen2.5-72b-instruct
â”‚   â”‚   â””â”€â”€ ä¿æŒIdealLabå’Œé—­æºæ¨¡å‹åŸå
â”‚   â”‚
â”‚   â”œâ”€â”€ **å¤šè¿›ç¨‹å†™å…¥åè°ƒ**:
â”‚   â”‚   â”œâ”€â”€ æ¥æ”¶æ‰€æœ‰åˆ†ç‰‡çš„å†™å…¥è¯·æ±‚
â”‚   â”‚   â”œâ”€â”€ æŒ‰æ ‡å‡†åŒ–æ¨¡å‹åèšåˆ
â”‚   â”‚   â”œâ”€â”€ æ‰¹é‡ç¼“å†²æœºåˆ¶ (buffer_size=3)
â”‚   â”‚   â””â”€â”€ å®šæœŸflushåˆ°æ•°æ®åº“
â”‚   â”‚
â”‚   â””â”€â”€ **æ•°æ®å®Œæ•´æ€§ä¿æŠ¤**:
â”‚       â”œâ”€â”€ å­—æ®µå‘½åä¸€è‡´æ€§ (successâ†”successful)
â”‚       â”œâ”€â”€ overall_statså®æ—¶é‡å»º
â”‚       â”œâ”€â”€ å±‚æ¬¡åŒ–æ•°æ®ç»“æ„ç»´æŠ¤
â”‚       â””â”€â”€ é”™è¯¯åˆ†ç±»èšåˆ
â”‚
â””â”€â”€ 4ï¸âƒ£ master_database.json (æœ€ç»ˆå­˜å‚¨)
    â”œâ”€â”€ **ç»Ÿä¸€æ¨¡å‹å‘½åç©ºé—´**:
    â”‚   â”œâ”€â”€ DeepSeek-V3-0324 (åˆå¹¶3ä¸ªAzureå®ä¾‹)
    â”‚   â”œâ”€â”€ qwen2.5-72b-instruct (åˆå¹¶3ä¸ªAPI keys)
    â”‚   â””â”€â”€ o3-0416-global (å•ä¸€IdealLab API)
    â”‚
    â”œâ”€â”€ **å±‚æ¬¡åŒ–æ•°æ®ç»“æ„**:
    â”‚   â”œâ”€â”€ models/[model]/by_prompt_type/[prompt]/by_tool_success_rate/[rate]/by_difficulty/[diff]/by_task_type/[task]
    â”‚   â”œâ”€â”€ æ”¯æŒå¤æ‚æŸ¥è¯¢å’Œç»Ÿè®¡åˆ†æ
    â”‚   â””â”€â”€ è‡ªåŠ¨èšåˆoverall_stats
    â”‚
    â””â”€â”€ **å¹¶å‘å®‰å…¨ä¿æŠ¤**:
        â”œâ”€â”€ file_lock_managerä¿æŠ¤ (å»ºè®®å¯ç”¨)
        â”œâ”€â”€ åŸå­å†™å…¥æ“ä½œ
        â”œâ”€â”€ æ•°æ®å®Œæ•´æ€§éªŒè¯
        â””â”€â”€ è‡ªåŠ¨ä¿®å¤æœºåˆ¶
```

## ğŸ¯ **å…³é”®å·®å¼‚æ€»ç»“**

### **åˆ†ç‰‡ç­–ç•¥å·®å¼‚**:

| API Provider | åˆ†ç‰‡æ•°é‡ | å¹¶å‘ç­–ç•¥ | å®ä¾‹ç±»å‹ | æ•°æ®åˆå¹¶ |
|-------------|----------|----------|----------|----------|
| **Qwen (IdealLabå¼€æº)** | 3ä¸ªåˆ†ç‰‡ | 3ä¸ªAPI keys | è™šæ‹Ÿå®ä¾‹ (qwen-key0/1/2) | æŒ‰æ¨¡å‹ååˆå¹¶ |
| **Azureå¼€æº** | 3ä¸ªåˆ†ç‰‡ | 3ä¸ªéƒ¨ç½²å®ä¾‹ | ç‰©ç†å®ä¾‹ (-1/-2/-3åç¼€) | normalizeååˆå¹¶ |
| **IdealLabé—­æº** | 1ä¸ªåˆ†ç‰‡ | å•API key | åŸå§‹æ¨¡å‹å | æ— éœ€åˆå¹¶ |
| **Azureé—­æº** | 1ä¸ªåˆ†ç‰‡ | å•éƒ¨ç½²é«˜å¹¶å‘ | åŸå§‹æ¨¡å‹å | æ— éœ€åˆå¹¶ |

### **å¹¶å‘å‚æ•°å·®å¼‚**:

```python
# Qwenæ¨¡å‹ (IdealLab)
workers = 2          # ä¿å®ˆè®¾ç½®ï¼Œé¿å…è¿‡è½½
qps = 10             # é€‚ä¸­QPS
keys = 3             # 3ä¸ªAPI keysåˆ†æ‹…è´Ÿè½½

# Azureå¼€æºæ¨¡å‹  
workers = 50-100     # æé«˜å¹¶å‘
qps = 100-200        # æé«˜QPS
instances = 3        # 3ä¸ªAzureéƒ¨ç½²

# IdealLabé—­æºæ¨¡å‹
workers = 5          # ä¸¥æ ¼é™åˆ¶
qps = 10             # ä¿å®ˆQPS
instances = 1        # å•ä¸€API key

# Azureé—­æºæ¨¡å‹
workers = 50-100     # é«˜å¹¶å‘  
qps = 100-200        # é«˜QPS
instances = 1        # å•ä¸€deployment
```

### **æ•°æ®æµå·®å¼‚**:

```
ğŸ”µ Qwenæµç¨‹:
ultra_parallel_runner â†’ [qwen-key0, qwen-key1, qwen-key2] â†’ 
smart_batch_runner (--ideallab-key-index) â†’ 
IdealLab API (3ä¸ªkeys) â†’ 
enhanced_cumulative_manager (qwen2.5-72b-instruct) â†’ 
master_database.json

ğŸŸ  Azureå¼€æºæµç¨‹:
ultra_parallel_runner â†’ [DeepSeek-V3-0324, DeepSeek-V3-0324-2, DeepSeek-V3-0324-3] â†’
smart_batch_runner â†’ 
Azure API (3ä¸ªdeployments) â†’ 
enhanced_cumulative_manager (normalize: DeepSeek-V3-0324) â†’
master_database.json

ğŸ”´ IdealLabé—­æºæµç¨‹:
ultra_parallel_runner â†’ [o3-0416-global] â†’
smart_batch_runner â†’ 
IdealLab API (å•ä¸€key) â†’
enhanced_cumulative_manager (o3-0416-global) â†’
master_database.json
```

è¿™ä¸ªä¿®æ­£ç‰ˆæœ¬å‡†ç¡®åæ˜ äº†ä¸åŒAPI providerçš„ä¸åŒå¹¶å‘ç­–ç•¥å’Œæ•°æ®æµï¼