# 实验结果统计表格

基于数据库最新统计结果（2025-08-07）  
模型：qwen2.5-3b-instruct  
总测试数：1000  

## 表1：工作流质量评估结果（默认使用 optimal prompt）

| 任务类型 | 成功率 | 平均执行时间(秒) | 工作流得分 | Phase2得分 | 质量得分 | 最终得分 |
|---------|--------|-----------------|------------|-----------|----------|----------|
| basic_task | 0.0% | 15.68 | 0.035 | 0.068 | 0.066 | 0.068 |
| simple_task | 0.0% | 15.57 | 0.011 | 0.017 | 0.016 | 0.017 |
| data_pipeline | 0.0% | 15.20 | 0.094 | 0.174 | 0.171 | 0.174 |
| api_integration | 0.0% | 18.38 | 0.031 | 0.046 | 0.045 | 0.046 |
| multi_stage_pipeline | 0.0% | 14.89 | 0.060 | 0.119 | 0.117 | 0.119 |
| **总体平均** | **0.0%** | **16.10** | **0.035** | **0.068** | **0.066** | **0.068** |

*注：如未注明prompt type，默认使用optimal prompt的数据*

## 表2：错误类型分析（optimal prompt，所有任务平均）

| 错误类型 | 发生率 | 错误计数 |
|---------|--------|----------|
| Tool Call Format | 87.8% | 79/90 |
| Sequence Order | 6.7% | 6/90 |
| Parameter Config | 1.1% | 1/90 |
| Timeout | 1.1% | 1/90 |
| Tool Selection | 0.0% | 0/90 |
| Dependency | 0.0% | 0/90 |
| Max Turns | 0.0% | 0/90 |

## 表3：辅助统计（Assisted Statistics）

| Prompt Type | 需要辅助率 | 平均辅助轮次 | 辅助后成功率 | 总辅助轮次 |
|------------|-----------|--------------|-------------|-----------|
| baseline | 46.0% | 2.05 | 2.17% | 205 |
| cot | 72.0% | 4.23 | 0.0% | 423 |
| optimal | 15.0% | 0.56 | 0.0% | 56 |
| flawed_tool_misuse | 20.0% | 0.88 | 0.0% | 88 |
| flawed_parameter_error | 12.0% | 0.37 | 0.0% | 37 |
| flawed_missing_step | 12.0% | 0.26 | 0.0% | 26 |
| flawed_redundant_operations | 21.0% | 0.57 | 0.0% | 57 |
| flawed_logical_inconsistency | 19.0% | 0.79 | 0.0% | 79 |
| flawed_sequence_disorder | 8.0% | 0.19 | 0.0% | 19 |
| flawed_semantic_drift | 12.0% | 0.36 | 0.0% | 36 |

## 表4：提示策略敏感性分析

| Prompt Type | 成功率 | 加权成功分 | 平均执行时间 | 格式错误率 | 平均工作流得分 | 平均最终得分 |
|------------|--------|-----------|-------------|-----------|---------------|-------------|
| baseline | 1.0% | 0.005 | 18.01秒 | 43.8% | 0.184 | 0.302 |
| optimal | 0.0% | 0.000 | 16.10秒 | 87.8% | 0.035 | 0.068 |
| cot | 0.0% | 0.000 | 28.73秒 | 80.0% | 0.000 | 0.000 |
| flawed (平均) | 0.0% | 0.000 | 15.67秒 | 86.3% | 0.035 | 0.062 |

## 表5：缺陷类型影响分析

| Flaw Type | 成功率 | 平均执行时间 | 格式错误率 | 序列错误率 | 辅助率 | 工作流得分 | 最终得分 |
|-----------|--------|--------------|------------|-----------|--------|-----------|----------|
| tool_misuse | 0.0% | 15.81秒 | 91.1% | 3.3% | 20.0% | 0.020 | 0.033 |
| parameter_error | 0.0% | 15.60秒 | 92.2% | 7.8% | 12.0% | 0.028 | 0.043 |
| missing_step | 0.0% | 15.77秒 | 85.6% | 5.6% | 12.0% | 0.034 | 0.069 |
| redundant_operations | 0.0% | 15.60秒 | 73.3% | 17.8% | 21.0% | 0.072 | 0.139 |
| logical_inconsistency | 0.0% | 15.76秒 | 82.2% | 8.9% | 19.0% | 0.042 | 0.086 |
| sequence_disorder | 0.0% | 15.48秒 | 97.8% | 1.1% | 8.0% | 0.005 | 0.007 |
| semantic_drift | 0.0% | 15.95秒 | 81.1% | 10.0% | 12.0% | 0.048 | 0.084 |

## 表6：按任务类型的详细统计（所有prompt types平均）

| 任务类型 | 成功率 | 平均执行时间 | 格式错误率 | 序列错误率 | 参数错误率 | 超时错误率 | 辅助率 |
|---------|--------|-------------|-----------|-----------|-----------|-----------|--------|
| basic_task | 0.5% | 17.24秒 | 87.7% | 6.1% | 1.7% | 3.9% | 18.0% |
| simple_task | 0.0% | 16.71秒 | 95.6% | 1.7% | 0.0% | 2.2% | 22.5% |
| data_pipeline | 0.0% | 16.09秒 | 66.7% | 21.7% | 2.8% | 5.6% | 32.0% |
| api_integration | 0.0% | 19.73秒 | 81.7% | 5.6% | 0.6% | 10.6% | 23.0% |
| multi_stage_pipeline | 0.0% | 16.63秒 | 76.1% | 14.4% | 1.1% | 3.9% | 23.0% |

## 表7：综合实验指标总结

| 指标类别 | 指标名称 | 数值 |
|---------|---------|------|
| **整体性能** | 总成功率 | 0.1% |
| | 加权成功分 | 0.05% |
| | 平均执行时间 | 17.23秒 |
| | 平均轮次 | 9.99 |
| | 工具覆盖率 | 0.0% |
| **错误分析** | 主要错误类型 | Tool Call Format |
| | 格式错误率 | 81.5% |
| | 序列错误率 | 9.9% |
| | 参数错误率 | 1.2% |
| | 超时错误率 | 4.7% |
| **辅助统计** | 总辅助率 | 23.7% |
| | 平均辅助轮次 | 1.03 |
| | 辅助成功率 | 0.42% |
| | 需要辅助的测试数 | 237 |
| **提示敏感性** | 最佳提示类型 | baseline |
| | 提示敏感性指数 | 0.0015 |
| | baseline vs optimal差异 | 1.0% vs 0.0% |
| **任务复杂度** | 最成功任务类型 | basic_task (0.5%) |
| | 最困难任务类型 | 其他所有 (0.0%) |
| | 最高辅助需求 | data_pipeline (32.0%) |

## 关键发现

### 1. 模型性能问题
- **极低的成功率**：整体成功率仅0.1%（1000个测试中仅1个成功）
- **工具调用能力缺失**：81.5%的错误是工具调用格式错误
- **无法正确执行工作流**：平均工作流得分仅0.046

### 2. 提示策略影响
- **baseline相对最优**：是唯一有成功案例的提示类型（1.0%成功率）
- **cot效果最差**：执行时间最长（28.73秒），辅助需求最高（72%）
- **optimal未达预期**：格式错误率反而最高（87.8%）

### 3. 辅助机制效果
- **高辅助需求**：23.7%的测试需要格式纠正帮助
- **辅助效果有限**：仅0.42%的辅助测试最终成功
- **cot需求最多**：平均每个测试需要4.23轮辅助

### 4. 任务类型差异
- **basic_task稍好**：唯一有成功的任务类型（0.5%）
- **data_pipeline最需辅助**：32%的测试需要帮助
- **api_integration最慢**：平均执行时间19.73秒

### 5. 缺陷类型影响
- **sequence_disorder最难**：格式错误率97.8%
- **redundant_operations相对容易**：格式错误率73.3%，但序列错误率17.8%
- **工具误用普遍存在**：所有缺陷类型都导致0%成功率

## DeepSeek-R1-671B 测试结果（2025-08-08）

### 测试配置
- 测试数量：100个测试
- 难度：very_easy
- 超时设置：30秒
- 测试模式：adaptive（激进模式）

### 关键发现
- **成功率：0%**（100个测试全部失败）
- **失败原因：100% 超时错误**
  - 所有测试都因为响应时间超过30秒而失败
  - 没有格式错误，说明模型能理解指令
  - 模型响应极慢，不适合实时任务

### 错误分析
| 提示类型 | 测试数 | 超时数 | 超时率 |
|---------|--------|--------|--------|
| baseline | 10 | 10 | 100% |
| optimal | 10 | 10 | 100% |
| cot | 10 | 10 | 100% |
| flawed_* | 70 | 70 | 100% |
| **总计** | **100** | **100** | **100%** |

### 问题诊断
1. **响应延迟问题**
   - DeepSeek-R1-671B 作为671B参数的超大模型，推理速度极慢
   - 即使是very_easy难度的简单任务也无法在30秒内完成
   - 可能需要60秒或更长时间才能生成响应

2. **建议解决方案**
   - 增加超时时间到120秒或更长
   - 考虑使用更小的DeepSeek模型版本
   - 或者接受其不适合需要快速响应的工具调用任务

## 建议

1. **模型选择策略**：
   - 超大模型（如DeepSeek-R1-671B）不适合工具调用任务
   - qwen2.5-3b-instruct在工具调用方面存在根本性缺陷
   - 建议测试中等规模模型（7B-32B参数范围）

2. **格式错误处理**：
   - 增强格式纠正机制
   - 提供更多的格式示例
   - 考虑多轮格式指导

3. **提示策略优化**：
   - 深入研究为何baseline表现相对较好
   - 重新设计optimal提示
   - 减少cot的复杂度

4. **任务简化**：
   - 从basic_task开始逐步提升
   - 降低初始任务复杂度
   - 分阶段训练模型能力

---
*数据来源：pilot_bench_cumulative_results/master_database.json*  
*生成时间：2025-08-07*  
*测试配置：very_easy难度，1000个测试*