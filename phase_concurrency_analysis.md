# å„Phaseå¹¶å‘æ¨¡å¼è¯¦ç»†åˆ†æ

## Phase 5.1 - åŸºå‡†æµ‹è¯•

### å¼€æºæ¨¡å‹ï¼ˆ8ä¸ªï¼‰
```
æ¨¡å‹åˆ—è¡¨ï¼š
- DeepSeek-V3-0324 (Azure)
- DeepSeek-R1-0528 (Azure)
- qwen2.5-72b-instruct (IdealLab)
- qwen2.5-32b-instruct (IdealLab)
- qwen2.5-14b-instruct (IdealLab)
- qwen2.5-7b-instruct (IdealLab)
- qwen2.5-3b-instruct (IdealLab)
- Llama-3.3-70B-Instruct (Azure)
```

### å¹¶å‘æ‰§è¡Œæ¨¡å¼
- **ä¸²è¡Œæ‰§è¡Œ**ï¼šæ¯ä¸ªæ¨¡å‹ä¾æ¬¡æ‰§è¡Œï¼Œä¸å¹¶å‘
- **é…ç½®**ï¼šoptimal + easy + all task types + 20 instances

### Qwenæ¨¡å‹åˆ†ç‰‡ç­–ç•¥ï¼ˆä¿®æ”¹åï¼‰
```
qwen2.5-72b â†’ 1ä¸ªåˆ†ç‰‡ï¼Œä½¿ç”¨key0
qwen2.5-32b â†’ 1ä¸ªåˆ†ç‰‡ï¼Œä½¿ç”¨key1
qwen2.5-14b â†’ 1ä¸ªåˆ†ç‰‡ï¼Œä½¿ç”¨key2
qwen2.5-7b â†’ 1ä¸ªåˆ†ç‰‡ï¼Œä½¿ç”¨key0
qwen2.5-3b â†’ 1ä¸ªåˆ†ç‰‡ï¼Œä½¿ç”¨key1
```

### æ‰§è¡Œæµç¨‹
1. æ¨¡å‹æŒ‰é¡ºåºæ‰§è¡Œ
2. æ¯ä¸ªqwenæ¨¡å‹åˆ›å»º1ä¸ªåˆ†ç‰‡ï¼ˆä¹‹å‰æ˜¯3ä¸ªï¼‰
3. Azureæ¨¡å‹åˆ›å»º1ä¸ªåˆ†ç‰‡ï¼Œä½¿ç”¨å¤šä¸ªworkers

---

## Phase 5.2 - Qwenè§„æ¨¡æ•ˆåº”æµ‹è¯•

### æµ‹è¯•é…ç½®
- **æ¨¡å‹**ï¼š5ä¸ªQwenæ¨¡å‹
- **éš¾åº¦**ï¼švery_easy å’Œ mediumï¼ˆåˆ†å¼€æµ‹è¯•ï¼‰
- **å¹¶å‘æ¨¡å¼**ï¼š**æ‰€æœ‰æ¨¡å‹åŒæ—¶è¿è¡Œ**

### å¹¶å‘æ‰§è¡Œè¯¦æƒ…
```bash
# ç¬¬ä¸€æ‰¹ï¼švery_easyéš¾åº¦
qwen2.5-72b (very_easy) â†’ key0 &
sleep 15
qwen2.5-32b (very_easy) â†’ key1 &
sleep 15
qwen2.5-14b (very_easy) â†’ key2 &
sleep 15
qwen2.5-7b (very_easy) â†’ key0 &  # ä¸72bå…±äº«key0
sleep 15
qwen2.5-3b (very_easy) â†’ key1 &  # ä¸32bå…±äº«key1

# ç¬¬äºŒæ‰¹ï¼šmediuméš¾åº¦ï¼ˆåŒæ—¶å¯åŠ¨ï¼‰
qwen2.5-72b (medium) â†’ key0 &
sleep 15
qwen2.5-32b (medium) â†’ key1 &
sleep 15
qwen2.5-14b (medium) â†’ key2 &
sleep 15
qwen2.5-7b (medium) â†’ key0 &
sleep 15
qwen2.5-3b (medium) â†’ key1 &
```

### å…³é”®é—®é¢˜
- **10ä¸ªè¿›ç¨‹å¹¶å‘è¿è¡Œ**ï¼ˆ5ä¸ªæ¨¡å‹Ã—2ä¸ªéš¾åº¦ï¼‰
- 15ç§’å»¶è¿Ÿå¯åŠ¨ï¼Œä½†æ‰€æœ‰è¿›ç¨‹éƒ½åœ¨è¿è¡Œ
- key0è¢«4ä¸ªè¿›ç¨‹ä½¿ç”¨ï¼ˆ72b-very_easy, 7b-very_easy, 72b-medium, 7b-mediumï¼‰
- key1è¢«4ä¸ªè¿›ç¨‹ä½¿ç”¨ï¼ˆ32b-very_easy, 3b-very_easy, 32b-medium, 3b-mediumï¼‰
- key2è¢«2ä¸ªè¿›ç¨‹ä½¿ç”¨ï¼ˆ14b-very_easy, 14b-mediumï¼‰

---

## Phase 5.3 - ç¼ºé™·å·¥ä½œæµæµ‹è¯•

### æµ‹è¯•é…ç½®
- **ç¼ºé™·ç±»å‹**ï¼š7ç§ï¼Œåˆ†3ç»„
- **æ¨¡å‹**ï¼šæ‰€æœ‰å¼€æºæ¨¡å‹ï¼ˆ8ä¸ªï¼‰

### åˆ†ç»„ç­–ç•¥
```
ç»„1ï¼ˆç»“æ„ç¼ºé™·ï¼‰ï¼š
- flawed_sequence_disorder
- flawed_incomplete_description

ç»„2ï¼ˆæ“ä½œç¼ºé™·ï¼‰ï¼š
- flawed_missing_step
- flawed_insufficient_detail
- flawed_parameter_issues

ç»„3ï¼ˆé€»è¾‘ç¼ºé™·ï¼‰ï¼š
- flawed_logical_inconsistency
- flawed_contradictory_instructions
```

### å¹¶å‘æ‰§è¡Œæ¨¡å¼
- **æ¨¡å‹ä¸²è¡Œ**ï¼šæ¯ä¸ªæ¨¡å‹ä¾æ¬¡æ‰§è¡Œ
- **ç»„å†…å¹¶å‘**ï¼šæ¯ä¸ªæ¨¡å‹çš„3ç»„ç¼ºé™·å¹¶å‘æ‰§è¡Œ

### Qwenæ¨¡å‹çš„Keyåˆ†é…ï¼ˆåŸºäºæ¨¡å‹ï¼Œä¸æ˜¯ç»„ï¼‰
```
qwen2.5-72bï¼š
  - æ‰€æœ‰3ç»„éƒ½ä½¿ç”¨key0

qwen2.5-32bï¼š
  - æ‰€æœ‰3ç»„éƒ½ä½¿ç”¨key1

qwen2.5-14bï¼š
  - æ‰€æœ‰3ç»„éƒ½ä½¿ç”¨key2

ï¼ˆä»¥æ­¤ç±»æ¨ï¼‰
```

---

## Phase 5.4 - å·¥å…·å¯é æ€§æµ‹è¯•

### æµ‹è¯•é…ç½®
- **æˆåŠŸç‡**ï¼š0.9, 0.8, 0.7, 0.6, 0.5ï¼ˆ5ä¸ªçº§åˆ«ï¼‰
- **æ¨¡å‹**ï¼šæ‰€æœ‰æ¨¡å‹

### å¹¶å‘æ‰§è¡Œæ¨¡å¼
- **æ¨¡å‹ä¸²è¡Œ**ï¼šæ¯ä¸ªæ¨¡å‹ä¾æ¬¡æ‰§è¡Œ
- **æˆåŠŸç‡ä¸²è¡Œ**ï¼šæ¯ä¸ªæˆåŠŸç‡çº§åˆ«ä¾æ¬¡æ‰§è¡Œ
- **æ— å¹¶å‘**ï¼šå®Œå…¨ä¸²è¡Œæ‰§è¡Œ

### Qwenæ¨¡å‹åˆ†ç‰‡
- æ¯ä¸ªæµ‹è¯•åˆ›å»º1ä¸ªåˆ†ç‰‡ï¼Œä½¿ç”¨åˆ†é…çš„key

---

## Phase 5.5 - æç¤ºæ•æ„Ÿæ€§æµ‹è¯•

### æµ‹è¯•é…ç½®
- **Promptç±»å‹**ï¼šbaseline, cotï¼ˆ2ç§ï¼‰
- **æ¨¡å‹**ï¼šæ‰€æœ‰æ¨¡å‹

### å¹¶å‘æ‰§è¡Œæ¨¡å¼
- **æ¨¡å‹ä¸²è¡Œ**ï¼šæ¯ä¸ªæ¨¡å‹ä¾æ¬¡æ‰§è¡Œ
- **Promptç±»å‹ä¸²è¡Œ**ï¼šæ¯ç§promptä¾æ¬¡æ‰§è¡Œ
- **æ— å¹¶å‘**ï¼šå®Œå…¨ä¸²è¡Œæ‰§è¡Œ

### Qwenæ¨¡å‹åˆ†ç‰‡
- æ¯ä¸ªæµ‹è¯•åˆ›å»º1ä¸ªåˆ†ç‰‡ï¼Œä½¿ç”¨åˆ†é…çš„key

---

## ğŸ”´ å…³é”®å‘ç°ï¼šPhase 5.2 å­˜åœ¨ä¸¥é‡çš„å¹¶å‘é—®é¢˜

### é—®é¢˜åˆ†æ
1. **Phase 5.2 æ˜¯æœ€ä¸¥é‡çš„å¹¶å‘åœºæ™¯**
   - 10ä¸ªè¿›ç¨‹åŒæ—¶è¿è¡Œ
   - key0å’Œkey1å„è¢«4ä¸ªè¿›ç¨‹ä½¿ç”¨
   - å³ä½¿æœ‰15ç§’å»¶è¿Ÿï¼Œä½†æ‰€æœ‰è¿›ç¨‹ä»åœ¨å¹¶å‘

2. **å®é™…QPSè®¡ç®—**
   ```
   key0: 4ä¸ªè¿›ç¨‹ Ã— 2 QPS = 8 QPS
   key1: 4ä¸ªè¿›ç¨‹ Ã— 2 QPS = 8 QPS
   key2: 2ä¸ªè¿›ç¨‹ Ã— 2 QPS = 4 QPS
   ```

3. **ä¸ºä»€ä¹ˆè¿˜ä¼šé™æµ**
   - IdealLabé™åˆ¶æ˜¯10 QPS per key
   - 8 QPSæ¥è¿‘é™åˆ¶ï¼ŒåŠ ä¸Šçªå‘å¯èƒ½è¶…é™

### å»ºè®®çš„ä¿®å¤æ–¹æ¡ˆ

#### æ–¹æ¡ˆAï¼šçœŸæ­£çš„ä¸²è¡Œæ‰§è¡Œï¼ˆæ¨èï¼‰
```bash
# ä¸ä½¿ç”¨ & åå°æ‰§è¡Œï¼Œæ”¹ä¸ºä¸²è¡Œ
for model in QWEN_MODELS; do
    run_test $model very_easy
    wait  # ç­‰å¾…å®Œæˆ
done

for model in QWEN_MODELS; do
    run_test $model medium
    wait  # ç­‰å¾…å®Œæˆ
done
```

#### æ–¹æ¡ˆBï¼šå‡å°‘å¹¶å‘åº¦
```bash
# åˆ†æ‰¹æ‰§è¡Œï¼Œæ¯æ‰¹æœ€å¤š3ä¸ªæ¨¡å‹
# ç¬¬ä¸€æ‰¹ï¼š72b, 32b, 14b (å„ç”¨ä¸åŒkey)
# ç¬¬äºŒæ‰¹ï¼š7b, 3b (ç­‰ç¬¬ä¸€æ‰¹å®Œæˆ)
```

#### æ–¹æ¡ˆCï¼šåŠ¨æ€Keyæ± ç®¡ç†
- å®ç°ä¸€ä¸ªå…¨å±€Keyç®¡ç†å™¨
- ç¡®ä¿æ¯ä¸ªkeyåŒæ—¶åªæœ‰ä¸€ä¸ªæ¨¡å‹ä½¿ç”¨
- æ¨¡å‹å®Œæˆåé‡Šæ”¾keyç»™ä¸‹ä¸€ä¸ªæ¨¡å‹